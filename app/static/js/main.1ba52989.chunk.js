(this["webpackJsonpmove-world"]=this["webpackJsonpmove-world"]||[]).push([[1],{101:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(3);function l(){return(l=Object(c.a)(r.a.mark((function e(t,a){var n,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return console.log(t.headers.get("content-type")),e.next=4,t.blob();case 4:return e.abrupt("return",e.sent);case 5:if(n=t.headers.get("content-type"),c=null,!(n&&n.indexOf("application/json")>-1)){e.next=14;break}return e.next=10,t.text();case 10:l=e.sent;try{c=JSON.parse(l)}catch(r){c=l}e.next=17;break;case 14:return e.next=16,t.text();case 16:c=e.sent;case 17:if(!t.ok){e.next=25;break}if(!c){e.next=22;break}return e.abrupt("return",c);case 22:return e.abrupt("return",t);case 23:e.next=31;break;case 25:if(401!==t.status&&403!==t.status||(window.location.href.includes("/customer/")?window.location="".concat("/app","/sign-in/customer"):window.location.href.includes("driver-app")&&window.location.href.includes("/driver")?window.Android.mwLogout():window.location="".concat("/app","/sign-in")),!c){e.next=30;break}throw c;case 30:throw t;case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t){return l.apply(this,arguments)}},116:function(e,t,a){"use strict";var n=a(5),r=a(1),c=a.n(r),l=a(3),o=a(18),i=a(9),u=a(83),s=a(56),d="members",m=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],!t.id){e.next=3;break}return e.abrupt("return",Object(u.c)(d,t.id));case 3:return t.batch&&a.push(Object(s.l)("batchOl","==",t.batch)),t.nameWithInitials&&(a.push(Object(s.i)("nameWithInitials")),a.push(Object(s.k)(t.nameWithInitials)),a.push(Object(s.d)(t.nameWithInitials+"\uf8ff"))),e.abrupt("return",u.a.apply(void 0,[d].concat(a)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u.b)(d,"count"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u.b)(d,"sum"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u.d)(d,Object(n.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/user/update-type/".concat(t,"?branch=").concat(Object(i.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/user/update-settings/".concat(t,"?branch=").concat(Object(i.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/user/update-password?branch=".concat(Object(i.d)().branch),Object(n.a)({username:t||Object(i.d)().username},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/user/reset-password?branch=".concat(Object(i.d)().branch),Object(n.a)({username:t||Object(i.d)().username},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.a)("/v1/user/delete/".concat(t,"?branch=").concat(Object(i.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();t.a={get:m,getMax:p,getMembersByBatch:b,updatePassword:v,resetPassword:E,create:f,remove:y,update:g,updateSettings:h}},119:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(3),l=a(18),o=a(9),i=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.entity,n=t.id,e.abrupt("return",Object(l.c)("/v1/document/get-docs-per-entity?branch=".concat(Object(o.d)().branch,"&entityId=").concat(n,"&entity=").concat(a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.d)("/v1/document/download/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.a)("/v1/document/delete/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n,c,i){var u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=new FormData).append("entity",n),u.append("entityId",a),u.append("entityRef",c),u.append("notes",i),u.append("auth",Object(o.d)().username),u.append("branch",Object(o.d)().branch),u.append("file",t),e.abrupt("return",Object(l.b)("/v1/document/upload",u));case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}();t.a={getAll:i,download:u,deleteFile:s,upload:d}},122:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o}));var n=a(9),r={TURKISH:{"Welcome, ":"Ho\u015f geldin, ",Dashboard:"G\xf6sterge Paneli",Pickup:"Toplamak","Add Job":"\u0130\u015f Ekle","Pending Jobs":"Bekleyen \u0130\u015fler","Pickup Ordering":"Teslim Alma Sipari\u015fi","Job Exceptions":"\u0130\u015f \u0130stisnalar\u0131",HBL:"HBL","New HBL":"Yeni HBL","Search/Edit":"Ara/D\xfczenle","Cancelled HBLs":"\u0130ptal edilen HBLs",Complaints:"\u015fikayetler","Cargo Status":"Kargo Durumu",Office:"Ofis","Cash Settlement":"Nakit Uzla\u015fma","Payment Summary":"\xd6deme \xf6zeti",Warehouse:"Depo",Loading:"Y\xfckleniyor","Loading Point":"Y\xfckleme Noktas\u0131","Manual Loading":"Manuel Y\xfckleme","Loaded Shipments":"Y\xfcklenen G\xf6nderiler",Arrivals:"Geli\u015f","Short Loadings":"K\u0131sa Y\xfcklemeler",Reports:"Raporlar","Progress/Efficiency":"\u0130lerleme/Verimlilik","Comparison Analysis":"Kar\u015f\u0131la\u015ft\u0131rma Analizi",Admin:"y\xf6netici","Driver Management":"S\xfcr\xfcc\xfc Y\xf6netimi","Driver Tracking":"S\xfcr\xfcc\xfc Takibi","User Management":"Kullan\u0131c\u0131 y\xf6netimi","Customer Management":"M\xfc\u015fteri y\xf6netimi","User Login Info":"Kullan\u0131c\u0131 Giri\u015f Bilgileri",Settings:"Ayarlar",Support:"Destek"},CHINESE:{"Welcome, ":"Hu\u0101ny\xedng, ",Dashboard:"Y\xedbi\u01ceo b\u01cen",Pickup:"Ji\u01cen q\u01d0","Add Job":"Ti\u0101nji\u0101 g\u014dngzu\xf2","Pending Jobs":"D\xe0i ch\u01d4l\u01d0 de g\u014dngzu\xf2","Pickup Ordering":"Q\u01d4 hu\xf2 d\xecngg\xf2u","Job Exceptions":"G\u014dngzu\xf2 l\xecw\xe0i",HBL:"HBL","New HBL":"X\u012bn HBL","Search/Edit":"S\u014dusu\u01d2/bi\u0101nj\xed","Cancelled HBLs":"Q\u01d4xi\u0101o de HBL",Complaints:"T\xf3us\xf9","Cargo Status":"Hu\xf2w\xf9 zhu\xe0ngt\xe0i",Office:"B\xe0ng\u014dngsh\xec","Cash Settlement":"Xi\xe0nj\u012bn ji\xe9su\xe0n","Payment Summary":"F\xf9ku\u01cen zh\u0101iy\xe0o",Warehouse:"C\u0101ngk\xf9",Loading:"Zh\xe8ngz\xe0i ji\u0101z\xe0i","Loading Point":"Zhu\u0101ng hu\xf2 di\u01cen","Manual Loading":"Sh\u01d2ud\xf2ng ji\u0101z\xe0i","Loaded Shipments":"Y\u01d0 zhu\u0101ng hu\xf2",Arrivals:"D\xe0od\xe1","Short Loadings":"D\xe0od\xe1",Reports:"Du\u01cen f\xf9h\xe8","Progress/Efficiency":"B\xe0og\xe0o","Comparison Analysis":"J\xecnd\xf9/xi\xe0ol\u01dc",Admin:"B\u01d0ji\xe0o f\u0113nx\u012b","Driver Management":"X\xedngzh\xe8ng","Driver Tracking":"S\u012bj\u012b gu\u01cenl\u01d0","User Management":"S\u012bj\u012b zhu\u012bz\u014dng","Customer Management":"Y\xf2ngh\xf9 gu\u01cenl\u01d0","User Login Info":"Y\xf2ngh\xf9 gu\u01cenl\u01d0",Settings:"Y\xf2ngh\xf9 d\u0113ngl\xf9 x\xecnx\u012b",Support:"Sh\xe8zh\xec"}},c={ENGLISH:"ENGLISH",TURKISH:"TURKISH",CHINESE:"CHINESE"},l="",o=function(e){if(!l){if(!Object(n.d)().lang)return e;l=Object(n.d)().lang}return l===c.ENGLISH?e:r[l][e]||e}},124:function(e,t,a){"use strict";t.a=function(){try{return{resourceUrl:""}}catch(e){throw console.log(e),new Error("MISSING VALUES")}}},18:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return f})),a.d(t,"f",(function(){return g}));var n=a(19),r=a(1),c=a.n(r),l=a(3),o=a(124),i=a(101),u=a(9),s=a(25),d=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(document.cookie,"api"),e.prev=1,e.next=4,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"GET",headers:{Authorization:"Bearer "+n}});case 4:return r=e.sent,l=Object(i.a)(r,!0),e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(document.cookie,"api"),e.prev=1,e.next=4,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"GET",headers:{Authorization:"Bearer "+n}});case 4:return r=e.sent,l=Object(i.a)(r),e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(document.cookie,"api"),e.prev=1,e.next=4,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"POST",body:JSON.stringify(a),headers:{accept:"application/json;charset=UTF-8","Content-type":"application/json",Authorization:"Bearer "+n}});case 4:return r=e.sent,l=Object(i.a)(r),e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var r,l,u,s,d,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h(document.cookie,"api"),l=Object(n.a)(a.entries());try{for(l.s();!(u=l.n()).done;)s=u.value,console.log(s[0]+" - "+s[1]),console.log(s[1].value),console.log(s[1].options)}catch(c){l.e(c)}finally{l.f()}return e.prev=3,e.next=6,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"POST",body:a,headers:{Authorization:"Bearer "+r}});case 6:return d=e.sent,m=Object(i.a)(d),e.abrupt("return",m);case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(u.d)().userType!==s.b.viewer&&Object(u.d)().userType!==s.b.maker&&Object(u.d)().userType!==s.b.editor){e.next=2;break}throw new Error("You are not authorized to Edit/Delete");case 2:return n=h(document.cookie,"api"),e.prev=3,e.next=6,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"DELETE",body:JSON.stringify(a),headers:{accept:"application/json;charset=UTF-8","Content-type":"application/json",Authorization:"Bearer "+n}});case 6:return r=e.sent,l=Object(i.a)(r),e.abrupt("return",l);case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(document.cookie,"api"),e.prev=1,e.next=4,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"PUT",body:JSON.stringify(a),headers:{accept:"application/json;charset=UTF-8","Content-type":"application/json",Authorization:"Bearer "+n}});case 4:return r=e.sent,l=Object(i.a)(r),e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),h=function(e,t){if(!e)return"";var a=e.split("; ").filter((function(e){return e.startsWith(t)})).map((function(e){return e.split("=")[1]})).filter((function(e){return e}));return a.length>0?a[a.length-1]:""}},21:function(e,t,a){"use strict";var n=a(15),r="#FFFFFF",c={black:"#000000",white:r,transparent:"rgba(0, 0, 0, 0)",tableHeader:{background:"rgb(220, 231, 239)",color:"rgb(0, 72, 128)"},boxShadow:{default:"16px 16px 16px rgb(0,0,0, 0.10)"},primary:{contrastText:r,dark:"rgba(69, 135, 182, 0.25)",main:"#FF3EA5",light:n.colors.indigo[100]},shades:{main:"#FF3EA5",light:"#6420AA",alpha:"rgba(69, 135, 182, 0.25)",bg:"#fef4ff",green:"#43a047",red:"#f32013",greenRgb:"rgb(67, 160, 71)"},secondary:{contrastText:r,dark:n.colors.blue[900],main:n.colors.blue.A400,light:n.colors.blue.A400},success:{contrastText:r,dark:n.colors.green[900],main:n.colors.green[600],light:n.colors.green[400]},info:{contrastText:r,dark:n.colors.blue[900],main:n.colors.blue[600],light:n.colors.blue[400]},warning:{contrastText:r,dark:n.colors.orange[900],main:n.colors.orange[600],light:n.colors.orange[400]},error:{contrastText:r,dark:n.colors.red[900],main:n.colors.red[600],light:n.colors.red[400]},text:{primary:n.colors.blueGrey[900],secondary:n.colors.blueGrey[600],link:n.colors.blue[600]},background:{default:r,paper:r},sidebar:{background:"white",activeColor:r,color:n.colors.blueGrey[200],activeTab:{background:r}},icon:n.colors.blueGrey[600],divider:n.colors.grey[200],table:{light:{background:"rgb(0, 87, 153, 0.08)"},dark:{background:"rgb(0, 87, 153, 0.03)"},hover:{background:"rgb(0, 87, 153, 0.20)"}},dashboard:{warning:"rgb(248, 192, 185)",success:"rgb(202, 231, 202)",info:"rgb(200, 229, 250)"}};n.colors.indigo[100],n.colors.blue[900],n.colors.blue.A400,n.colors.blue.A400,n.colors.green[900],n.colors.green[600],n.colors.green[400],n.colors.blue[900],n.colors.blue[600],n.colors.blue[400],n.colors.orange[900],n.colors.orange[600],n.colors.orange[400],n.colors.red[900],n.colors.red[600],n.colors.red[400],n.colors.blueGrey[900],n.colors.blueGrey[600],n.colors.blue[600],n.colors.blueGrey[200],n.colors.blueGrey[600],n.colors.grey[200],t.a=c},25:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c}));var n={pickup:"pickup",pickup_customer:"pickup_customer",delivery:"delivery",domestic:"domestic"},r={driver:"driver",customer:"customer",user:"user"},c={viewer:"viewer",maker:"maker",editor:"editor",admin:"admin",superadmin:"superadmin"}},280:function(e,t,a){e.exports=a.p+"static/media/logo.d9c8e834.png"},35:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"h",(function(){return u})),a.d(t,"i",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a(28),r=function(e){return Math.round(1e3*e)/1e3},c=function(e){return Math.round(10*e)/10},l=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},o=function(e){var t=e||{},a=t.length,n=t.breadth,c=t.height,l=t.quantity;return r(a*n*c*(l||1)/1e6)},i=function(e){var t=(e||{}).volume;return r(+t/1e6)},u=function(e){return r(Object(n.reduce)(e,(function(e,t){return e+o(t)}),0))},s=function(e){return c(Object(n.reduce)(e,(function(e,t){return e+t.weight}),0))},d=function(e){return Object(n.reduce)(e,(function(e,t){return e+t.quantity}),0)},m=function(e){var t=Object(n.reduce)(e,(function(e,t){return"DISCOUNT"===t.costType?e-+t.amount:e+ +t.amount}),0);return c(t)}},4:function(e,t,a){"use strict";a.d(t,"p",(function(){return o})),a.d(t,"q",(function(){return d})),a.d(t,"C",(function(){return f})),a.d(t,"D",(function(){return h})),a.d(t,"v",(function(){return E})),a.d(t,"w",(function(){return y})),a.d(t,"f",(function(){return w})),a.d(t,"e",(function(){return S})),a.d(t,"t",(function(){return z})),a.d(t,"u",(function(){return U})),a.d(t,"n",(function(){return q})),a.d(t,"j",(function(){return V})),a.d(t,"k",(function(){return J})),a.d(t,"m",(function(){return Q})),a.d(t,"l",(function(){return te})),a.d(t,"s",(function(){return le})),a.d(t,"r",(function(){return ie})),a.d(t,"A",(function(){return se})),a.d(t,"o",(function(){return me})),a.d(t,"a",(function(){return ye})),a.d(t,"i",(function(){return Se})),a.d(t,"F",(function(){return ke})),a.d(t,"h",(function(){return Ie})),a.d(t,"E",(function(){return Me})),a.d(t,"g",(function(){return Ae})),a.d(t,"d",(function(){return Re})),a.d(t,"b",(function(){return Ge})),a.d(t,"c",(function(){return Ke})),a.d(t,"z",(function(){return Xe})),a.d(t,"B",(function(){return $e})),a.d(t,"y",(function(){return rt})),a.d(t,"x",(function(){return ut}));var n=a(0),r=a.n(n),c=a(695),l=a(62),o=function(e){var t=e.size,a=e.label,n=e.value;return r.a.createElement(c.a,{item:!0,md:t,xs:t},r.a.createElement(l.a,{variant:"overline"},a),r.a.createElement(l.a,{variant:"h5"},n||"-"))},i=a(440),u=a(21),s={chip:{marginRight:10,backgroundColor:u.a.primary.main,color:"white"},text:{paddingLeft:10,paddingRight:3,color:u.a.primary.main}},d=function(e){var t=e.label,a=e.value,n=e.size;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{variant:"overline",style:s.text},t),r.a.createElement(i.a,{label:a,size:n||"medium",style:s.chip}))},m=a(5),p=(u.a.primary.main,a(269)),b=a(664),f=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange,i=e.onBlur,s=e.type,d=e.Icon,m=e.disabled,f=e.helperText,g=e.onKeyDown,h=e.autoFocus;return d?r.a.createElement(c.a,{item:!0,md:t,xs:t},r.a.createElement(p.a,{type:s||"text",variant:"outlined",fullWidth:!0,margin:"dense",placeholder:a,name:n,disabled:m||!1,InputProps:{startAdornment:r.a.createElement(b.a,{position:"start"},r.a.createElement(d,{style:{color:u.a.shades.light}}))},value:l||"",onChange:o})):r.a.createElement(c.a,{item:!0,md:t,xs:t},r.a.createElement(p.a,{type:s||"text",disabled:m||!1,autoFocus:h||!1,helperText:f||"",variant:"outlined",fullWidth:!0,margin:"dense",label:a,placeholder:a,name:n,value:l||"",onChange:o,onBlur:i,onKeyDown:g}))},g=a(751),h=function(e){var t=e.size,a=e.auto,n=e.label,l=e.name,o=e.value,i=e.onChange,u=e.loading;return r.a.createElement(c.a,{item:!0,md:t,xs:t},u?r.a.createElement(r.a.Fragment,null):r.a.createElement(g.a,{freeSolo:!0,disableClearable:!0,options:a.map((function(e){return e})),onChange:function(e,t){i({target:{name:l,value:t}})},renderInput:function(e){return r.a.createElement(p.a,Object.assign({},e,{label:n,value:o,onChange:i,name:l,variant:"outlined",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{type:"search"})}))}}))},v=a(399),E=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange,i=e.values,u=e.valueObjects,s=e.style||{};return r.a.createElement(c.a,{item:!0,md:t,xs:t,style:s},r.a.createElement(p.a,{select:!0,variant:"outlined",fullWidth:!0,margin:"dense",label:a,name:n,value:l||"",onChange:o},i&&i.map((function(e,t){return r.a.createElement(v.a,{key:t,value:e},e)})),u&&u.map((function(e,t){return r.a.createElement(v.a,{key:t,value:e.value},e.label)}))))},y=function(e){var t=e.label,a=e.name,n=e.value,c=e.onChange,l=e.values,o=e.valueObjects,i=e.style||{};return r.a.createElement(p.a,{select:!0,variant:"outlined",margin:"dense",style:Object(m.a)({minWidth:160,marginTop:0},i),label:t||"",name:a,value:n||"",onChange:c},o&&o.map((function(e,t){return r.a.createElement(v.a,{key:t,value:e.value},e.label)})),l&&l.map((function(e,t){return r.a.createElement(v.a,{key:t,value:e},e)})))},O=a(753),j=a(16),D=a.n(j),w=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange;return r.a.createElement(c.a,{item:!0,md:t},r.a.createElement(O.a,{autoOk:!0,label:a,value:l,inputVariant:"outlined",showTodayButton:!0,format:"YYYY/MM/DD hh:mm a",onChange:function(e){o({target:{name:n,value:D()(e)}})}}))},C=a(475),x=a(706),k=Object(C.a)((function(e){return{shiftBottom4px:{marginTop:"8px"}}})),S=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange,i=e.isMobile,u=e.style,s=e.disabled,d=k(),m=u||{};return r.a.createElement(c.a,{item:!0,md:t,xs:t,style:m},r.a.createElement(x.a,{disabled:s||!1,fullWidth:!0,autoOk:!0,className:d.shiftBottom4px,variant:"inline",inputVariant:"outlined",label:a,name:n,size:i?"large":"small",format:"YYYY-MM-DD",value:l,onChange:function(e){o({target:{name:n,value:D()(e).format("YYYY-MM-DD")}})}}))},T=a(659),Y=a(400),M=a(397),I=a(750),A=a(54),R=a.n(A),L=a(52),B=a.n(L),N=Object(C.a)((function(e){return{root:{"&$checked":{color:u.a.shades.main},paddingRight:0},checked:{}}})),z=function(e){var t=N(),a=e.size,n=e.label,l=e.name,o=e.value,i=e.onChange,u=e.values,s=e.valueLabels,d=e.pullRight,p=e.style||{};return r.a.createElement(c.a,{container:!0,md:a,style:Object(m.a)({paddingTop:10},p),justify:d?"flex-end":"flex-start"},n&&r.a.createElement(T.a,{style:{paddingTop:10},component:"legend"},n),r.a.createElement(Y.a,{row:!0,name:l,onChange:i,value:void 0===o?"":o},R()(u,(function(e,a){return r.a.createElement(M.a,{key:a,value:e,control:r.a.createElement(I.a,{classes:t}),label:B()(s,a,e)})}))))},P=a(685),F=a(139),H=a(707),W=a(708),U=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange,i=e.values,s=e.valueObjects,d=e.pullRight,p=e.style||{};return r.a.createElement(c.a,{container:!0,md:t,style:Object(m.a)({paddingTop:12,paddingBottom:4,paddingLeft:4},p),justify:d?"flex-end":"flex-start"},a&&r.a.createElement(T.a,{style:{paddingTop:10},component:"legend"},a),r.a.createElement(P.a,{row:!0},R()(i,(function(e,t){return r.a.createElement(F.a,{key:t,variant:"outlined",startIcon:e===l?r.a.createElement(H.a,{style:{color:u.a.shades.light}}):r.a.createElement(W.a,null),onClick:function(){return o({target:{name:n,value:e}})}},e)})),R()(s,(function(e,t){return r.a.createElement(F.a,{key:t+"i",variant:"outlined",startIcon:e.value===l?r.a.createElement(H.a,{style:{color:u.a.shades.light}}):r.a.createElement(W.a,null),onClick:function(){return o({target:{name:n,value:e.value}})}},e.label)}))))},G=a(697),q=function(e){var t=e.size,a=e.parentTitle,n=e.childTitle,o=e.subtitle,i=e.onClick;return r.a.createElement(c.a,{item:!0,md:t},r.a.createElement(l.a,{variant:"body1"},o),r.a.createElement(c.a,{container:!0},r.a.createElement(G.a,{href:"#",onClick:i},a),r.a.createElement(l.a,{variant:"h5",color:"inherit",style:{paddingLeft:10,paddingRight:10}}," / "),r.a.createElement(l.a,{variant:"h5",color:"inherit"},n)))},V=function(e){var t=e.size,a=e.title,n=e.subtitle,o=e.Icon,i=e.style||{};return o?r.a.createElement(c.a,{container:!0,md:t},r.a.createElement(c.a,{item:!0},r.a.createElement(o,{style:{fontSize:40,paddingRight:10}})),r.a.createElement(c.a,{item:!0},r.a.createElement(l.a,{variant:"body1"},n),r.a.createElement(l.a,{variant:"h5",color:"inherit"},a))):r.a.createElement(c.a,{item:!0,md:t,style:Object(m.a)({},i)},r.a.createElement(l.a,{variant:"body1"},n),r.a.createElement(l.a,{variant:"h5",color:"inherit"},a))},J=function(e){var t=e.size,a=e.title,n=e.subtitle,o=e.style||{};return r.a.createElement(c.a,{item:!0,md:t,style:Object(m.a)({},o)},r.a.createElement(l.a,{variant:"h5",color:"inherit"},a),r.a.createElement(l.a,{variant:"caption"},n))},K=a(329),_=a(190),Z=a(709),X=Object(C.a)((function(e){return{overlayHeader:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)"},overlayTitle:{flexGrow:1}}})),Q=function(e){var t=e.title,a=e.onClose,n=X();return r.a.createElement(K.a,{className:n.overlayHeader,variant:"dense"},r.a.createElement(l.a,{variant:"h6",color:"inherit",className:n.overlayTitle},t),r.a.createElement(_.a,{edge:"end",color:"inherit","aria-label":"close",onClick:a},r.a.createElement(Z.a,null)))},$=a(693),ee=a(710),te=function(e){var t=e.title;return r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement("div",{style:{width:15,height:45,background:"linear-gradient(to bottom right, #fff 0%, #fff 50%, "+u.a.shades.light+" 50%, "+u.a.shades.light+" 100%)"}}),r.a.createElement($.a,{style:{width:"98%"},expandIcon:r.a.createElement(ee.a,{style:{color:"white"}})},r.a.createElement("h4",{style:{color:"white"}},t)),r.a.createElement("div",{style:{width:15,height:45,background:"linear-gradient(to top left, #fff 0%, #fff 50%, "+u.a.shades.light+" 50%, "+u.a.shades.light+" 100%)"}}))},ae=a(6),ne=[{code:"AE",label:"UAE",phone:"971"},{code:"AT",label:"Austria",phone:"43"},{code:"AU",label:"Australia",phone:"61",suggested:!0},{code:"BD",label:"Bangladesh",phone:"880"},{code:"BE",label:"Belgium",phone:"32"},{code:"BH",label:"Bahrain",phone:"973"},{code:"BR",label:"Brazil",phone:"55"},{code:"CA",label:"Canada",phone:"1",suggested:!0},{code:"CH",label:"Switzerland",phone:"41"},{code:"CN",label:"China",phone:"86"},{code:"CO",label:"Colombia",phone:"57"},{code:"CU",label:"Cuba",phone:"53"},{code:"CY",label:"Cyprus",phone:"357"},{code:"DE",label:"Germany",phone:"49",suggested:!0},{code:"DK",label:"Denmark",phone:"45"},{code:"EE",label:"Estonia",phone:"372"},{code:"EG",label:"Egypt",phone:"20"},{code:"ES",label:"Spain",phone:"34"},{code:"FI",label:"Finland",phone:"358"},{code:"FR",label:"France",phone:"33",suggested:!0},{code:"GB",label:"United Kingdom",phone:"44"},{code:"GE",label:"Georgia",phone:"995"},{code:"HK",label:"Hong Kong",phone:"852"},{code:"ID",label:"Indonesia",phone:"62"},{code:"IE",label:"Ireland",phone:"353"},{code:"IN",label:"India",phone:"91"},{code:"IQ",label:"Iraq",phone:"964"},{code:"IR",label:"Iran",phone:"98"},{code:"IT",label:"Italy",phone:"39"},{code:"JO",label:"Jordan",phone:"962"},{code:"JP",label:"Japan",phone:"81",suggested:!0},{code:"KW",label:"Kuwait",phone:"965"},{code:"LK",label:"Sri Lanka",phone:"94"},{code:"MV",label:"Maldives",phone:"960"},{code:"MX",label:"Mexico",phone:"52"},{code:"MY",label:"Malaysia",phone:"60"},{code:"NL",label:"Netherlands",phone:"31"},{code:"NO",label:"Norway",phone:"47"},{code:"NP",label:"Nepal",phone:"977"},{code:"NZ",label:"New Zealand",phone:"64"},{code:"OM",label:"Oman",phone:"968"},{code:"PH",label:"Philippines",phone:"63"},{code:"PK",label:"Pakistan",phone:"92"},{code:"PS",label:"Palestine",phone:"970"},{code:"QA",label:"Qatar",phone:"974"},{code:"RO",label:"Romania",phone:"40"},{code:"SA",label:"Saudi Arabia",phone:"966"},{code:"SE",label:"Sweden",phone:"46"},{code:"SG",label:"Singapore",phone:"65"},{code:"TH",label:"Thailand",phone:"66"},{code:"TR",label:"Turkey",phone:"90"},{code:"TW",label:"Taiwan",phone:"886"},{code:"US",label:"United States",phone:"1",suggested:!0},{code:"VE",label:"Venezuela",phone:"58"},{code:"VN",label:"Vietnam",phone:"84"},{code:"YE",label:"Yemen",phone:"967"},{code:"ZA",label:"South Africa",phone:"27"}],re=a(93),ce=Object(re.a)({option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}}),le=function(e){var t=ce(),a=e.size,n=e.name,l=e.value,o=e.onChange,i=e.countryCode,u=e.label,s=r.a.useState(i||""),d=Object(ae.a)(s,2),b=d[0],f=d[1],h=r.a.useState(l||""),v=Object(ae.a)(h,2),E=v[0],y=v[1];return r.a.useEffect((function(){void 0===l&&y("")}),[l]),r.a.createElement(c.a,{container:!0,md:a,xs:a,style:{paddingTop:2,paddingLeft:3}},r.a.createElement(g.a,{autoHighlight:!0,id:"country-select",style:{width:140},classes:{option:t.option},options:ne,getOptionLabel:function(e){return"+"+e.phone+" "+e.label},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,e.label," (",e.code,") +",e.phone)},defaultValue:i?{label:i,code:"",phone:""}:void 0,onChange:function(e,t){f((t||{}).phone)},renderInput:function(e){return r.a.createElement(p.a,Object.assign({},e,{label:"Country Code",variant:"outlined",inputProps:Object(m.a)(Object(m.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}),r.a.createElement(p.a,{type:"text",variant:"outlined",margin:"dense",style:{width:"50%"},label:u||"Mobile Number",inputProps:{autoComplete:"new-password"},defaultValue:i?(l||"").replace(i,""):"",helperText:b?"+"+b+E:"Select country code",value:E||"",onChange:function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,""),a=(t||"").startsWith("0")?t.substring(1):t;(b+a+"").length<16&&(y(a),o({target:{name:n,value:"+"+b+a}}))}}))},oe=a(696),ie=function(e){var t=e.loading;return r.a.createElement(c.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},t&&r.a.createElement(oe.a,{variant:"query"}))},ue=a(407),se=function(e){var t=e.title,a=e.onClick,n=e.icon,c=e.disabled,l=e.style||{};return r.a.createElement(ue.a,{title:t},r.a.createElement("span",null,r.a.createElement(_.a,{style:l,onClick:a,disabled:c||!1},n)))},de=a(684),me=function(e){var t=e.size,a=e.label,n=e.onClick,l=e.tooltip,o=e.icon;return r.a.createElement(c.a,{md:t,style:{paddingTop:15}},r.a.createElement(ue.a,{title:l},r.a.createElement("span",null,r.a.createElement(_.a,{style:{fontSize:15},onClick:n},o," \xa0",a))))},pe=a(279),be=a.n(pe),fe=a(655),ge=a(150),he=a(123),ve=a(666),Ee=a(660);function ye(e){var t=e.options,a=e.onClicks,n=e.size,l=r.a.useState(!1),o=Object(ae.a)(l,2),i=o[0],u=o[1],s=r.a.useRef(null),d=r.a.useState(1),m=Object(ae.a)(d,2),p=m[0],b=m[1],f=function(e){s.current&&s.current.contains(e.target)||u(!1)};return r.a.createElement(c.a,{container:!0,md:n||6,direction:"column",justify:"flex-end",alignContent:"flex-end",alignItems:"flex-end",style:{marginRight:9,marginTop:2}},r.a.createElement(c.a,{item:!0,xs:12},r.a.createElement(P.a,{variant:"outlined",color:"primary",ref:s,"aria-label":"split button"},r.a.createElement(F.a,{size:"small",onClick:function(){a[p]()}},t[p]),r.a.createElement(F.a,{color:"primary",size:"small","aria-controls":i?"split-button-menu":void 0,"aria-expanded":i?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){u((function(e){return!e}))}},r.a.createElement(be.a,null))),r.a.createElement(ve.a,{open:i,anchorEl:s.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:1e4}},(function(e){var n=e.TransitionProps,c=e.placement;return r.a.createElement(ge.a,Object.assign({},n,{style:{transformOrigin:"bottom"===c?"center top":"center bottom"}}),r.a.createElement(he.a,null,r.a.createElement(fe.a,{onClickAway:f},r.a.createElement(Ee.a,{id:"split-button-menu"},t.map((function(e,t){return r.a.createElement(v.a,{key:e,selected:t===p,onClick:function(e){return function(e,t){b(t),a[t](),u(!1)}(0,t)}},e)}))))))}))))}var Oe=a(323),je=a(325),De=a(133),we=a.n(De),Ce=null,xe=null,ke=function(){return{confirm:function(e){Ce(!0),xe(e)}}},Se=function(){var e=r.a.useState(!1),t=Object(ae.a)(e,2),a=t[0],n=t[1],l=r.a.useState({}),o=Object(ae.a)(l,2),i=o[0],u=o[1];Ce=n,xe=u;var s=i.title,d=i.assigneeList,m=i.callback,p=r.a.useState(null),b=Object(ae.a)(p,2),f=b[0],g=b[1];return r.a.createElement(Oe.a,{open:a,maxWidth:"xs",fullWidth:!0,fullScreen:!1,scroll:"body"},r.a.createElement(we.a,null,r.a.createElement(je.a,null,r.a.createElement(Q,{title:s,onClose:function(){return n(!1)}}),r.a.createElement(c.a,{container:!0,style:{marginTop:10,marginBottom:10}},r.a.createElement(E,{size:4,label:"Select",valueObjects:d,value:f,onChange:function(e){g(e.target.value)}}),r.a.createElement(F.a,{variant:"contained",color:"primary",style:{margin:8},disabled:!f,onClick:function(){m(f),g(null),n(!1)}},"Confirm")))))},Te=null,Ye=null,Me=function(){return{confirm:function(e){Te(!0),Ye(e)}}},Ie=function(){var e=r.a.useState(!1),t=Object(ae.a)(e,2),a=t[0],n=t[1],l=r.a.useState({}),o=Object(ae.a)(l,2),i=o[0],u=o[1];Te=n,Ye=u;var s=i.title,d=i.placeholder,m=i.buttonText,p=i.callback,b=r.a.useState(""),g=Object(ae.a)(b,2),h=g[0],v=g[1];return r.a.createElement(Oe.a,{open:a,maxWidth:"xs",fullWidth:!0,fullScreen:!1,scroll:"body"},r.a.createElement(we.a,null,r.a.createElement(fe.a,{onClickAway:function(){return n(!1)}},r.a.createElement(je.a,null,r.a.createElement(Q,{title:s,onClose:function(){return n(!1)}}),r.a.createElement(c.a,{container:!0,style:{zIndex:1e4,marginTop:10,marginBottom:10}},r.a.createElement(f,{size:4,label:d||"Enter Detail",value:h,onKeyDown:function(e){13===e.keyCode&&(p(h),v(""),n(!1))},onChange:function(e){v(e.target.value)},autoFocus:!0,helperText:"Press Enter"}),r.a.createElement(F.a,{variant:"contained",color:"primary",style:{height:35,marginLeft:8,marginTop:8},disabled:!h,onClick:function(){p(h),v(""),n(!1)}},m||"Confirm"))))))},Ae=function(e){var t=e.content,a=e.open,n=e.width;return r.a.createElement(Oe.a,{open:a,maxWidth:n,fullWidth:!0,fullScreen:!1,scroll:"body"},r.a.createElement(we.a,null,r.a.createElement(je.a,null,t)))},Re=function(e,t){return{title:r.a.createElement("span",{style:{fontWeight:500,fontSize:18,letterSpacing:"-0.06px",lineHeight:"24px"}},t," CONFIRMATION"),message:r.a.createElement(l.a,null,"Are you sure you want to ",r.a.createElement("strong",null,e)),ok:{text:t,variant:"contained",color:"DELETE"===t?"secondary":"primary"}}},Le=a(686),Be=a(688),Ne=a(687),ze=a(711),Pe=a(653),Fe=a(447),He=a.n(Fe),We=Object(C.a)((function(e){return{root:{height:"100%",cursor:"pointer",boxShadow:"16px 16px 16px rgb(0,0,0, 0.10)"},title:{fontWeight:700,color:"white"},amount:{color:"white"}}})),Ue=Object(Pe.a)((function(e){return{badge:{backgroundColor:"white",color:"white",boxShadow:"0 0 0 4px #999999","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"2px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(de.a),Ge=function(e){var t=e.data,a=e.loading,n=e.color,o=We();return a?r.a.createElement(ze.a,{variant:"text",height:200}):r.a.createElement(Le.a,{className:o.root,style:{backgroundColor:n}},r.a.createElement(Be.a,{title:r.a.createElement(c.a,{container:!0,justify:"space-between"},r.a.createElement(c.a,{container:!0,justify:"space-between"},t.icon,r.a.createElement(l.a,{className:o.title,gutterBottom:!0,variant:"h4"},t.label)),t.isActive&&r.a.createElement(c.a,{item:!0},r.a.createElement(Ue,{overlap:"circle",variant:"dot",anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(l.a,{className:o.title,gutterBottom:!0,variant:"h6"},t.labelRight,"\xa0\xa0\xa0\xa0"))),!t.isActive&&r.a.createElement(c.a,{item:!0},r.a.createElement(l.a,{className:o.title,gutterBottom:!0,variant:"h6"},t.labelRight,"\xa0\xa0\xa0\xa0")))}),r.a.createElement(Ne.a,null,r.a.createElement(c.a,{container:!0,justify:"flex-end"},r.a.createElement(c.a,{item:!0},r.a.createElement(l.a,{className:o.amount,variant:"h2"},r.a.createElement(He.a,{end:"-"===t.value?0:t.value}))))))},qe=a(712),Ve=a(713),Je=Object(C.a)((function(e){return{root:{height:"100%",cursor:"pointer",boxShadow:"5px 5px 5px rgb(0,0,0, 0.30)"},title:{fontWeight:700,color:"white"},amount:{color:"white"}}})),Ke=function(e){var t=e.data,a=e.loading,n=e.onClick,o=e.color,i=Je();return a?r.a.createElement(ze.a,{variant:"text",height:150}):r.a.createElement(Le.a,{className:i.root,style:{marginRight:5,marginTop:5,backgroundColor:"#f2f2f2"}},r.a.createElement(Ne.a,null,r.a.createElement(c.a,{container:!0,justify:"space-between"},r.a.createElement(c.a,{item:!0,md:5},r.a.createElement(l.a,{gutterBottom:!0,variant:"h6"},"REF",t.id)),r.a.createElement(c.a,{container:!0,md:7,justify:"flex-end",alignContent:"center",alignItems:"center"},r.a.createElement(_.a,{onClick:function(){return n(t.id)}},r.a.createElement(qe.a,{style:{color:o||"black"}})))),r.a.createElement(c.a,{container:!0,justify:"flex-start"},r.a.createElement(l.a,{variant:"body"},t.address),r.a.createElement(Ve.a,{style:{fontSize:17,marginTop:2}}),r.a.createElement(l.a,{variant:"body"},t.slAddress))))},_e=a(192),Ze=a(704),Xe=Object(Pe.a)((function(e){return Object(_e.a)({root:{textTransform:"none",fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(15),marginRight:e.spacing(1),"&:focus":{opacity:1}}})}))((function(e){return r.a.createElement(Ze.a,Object.assign({disableRipple:!0},e))})),Qe=a(749),$e=Object(Pe.a)({indicator:{display:"flex",justifyContent:"center","& > div":{maxWidth:40,width:"100%",overflow:"auto",backgroundColor:"#635ee7"}}})((function(e){return r.a.createElement(Qe.a,Object.assign({},e,{TabIndicatorProps:{children:r.a.createElement("div",null)}}))})),et=a(703),tt=a(700),at=a(701),nt=a(702),rt=function(e){var t=e.items;return r.a.createElement(et.a,{orientation:"vertical"},t.map((function(e){var t=e.label,a=e.data;return r.a.createElement(tt.a,{active:!0,key:t},r.a.createElement(at.a,null,t),r.a.createElement(nt.a,null,r.a.createElement(l.a,null,a)))})))},ct=a(756),lt=a(28),ot=function(e,t,a){return Object(lt.map)(e,(function(e){return{value:e.value,label:it(t,a,e.value)?"X":e.label}}))},it=function(e,t,a){return e-t>0?a<e&&a>t:a<e||a>t};function ut(e){var t,a,r=e.trackStartHour,l=e.trackEndHour,o=e.setTrackSelectedHour,i=e.shiftStart,u=e.shiftEnd;return n.createElement(c.a,{item:!0,md:12},n.createElement(c.a,{container:!0,md:12,justify:"space-between"},n.createElement(c.a,{item:!0},"Midnight"),n.createElement(c.a,{item:!0},"Morning"),n.createElement(c.a,{item:!0},"Noon"),n.createElement(c.a,{item:!0},"Evening"),n.createElement(c.a,{item:!0},"Night")),n.createElement(ct.a,{getAriaValueText:function(e){return!it(i,u,e)&&o(e)},min:r,step:1,max:l,marks:ot((t=r,a=l,Object(lt.map)(new Array(a-t),(function(e,a){return{value:t+a,label:t+a===0?"12AM":t+a<12?t+a+"AM":t+a===12?"12PM":(t+a)%12+"PM"}}))),i,u)}))}},43:function(e,t,a){"use strict";var n=a(5),r=a(1),c=a.n(r),l=a(3),o=a(18),i=a(9),u=a(16),s=a.n(u),d=a(35),m=a(57),p=a(28),b=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-pending-pickup",{branch:Object(i.d)().branch,fetched:-12,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.fetched,e.abrupt("return",Object(o.e)("/v1/cargo/get-pending-pickup",{branch:Object(i.d)().branch,fetched:void 0===r?-1:r,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.c)("/v1/cargo/get-all-deleted?branch=".concat(Object(i.d)().branch,"&startDate=").concat(a,"&endDate=").concat(n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-cash-collection",{branch:Object(i.d)().branch,fetched:0,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-in-warehouse",{branch:Object(i.d)().branch,fetched:1,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.startDate,r=t.endDate,l=t.fetched,u=t.hasLoadingId,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-in-destination-delivery-warehouse?hasLoadingId=".concat(u),{branch:Object(i.d)().branch,fetched:l||3,start:n,end:r,deliveryType:null===(a=Object(i.d)().deliveryType)||void 0===a?void 0:a[2]}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-in-destination-delivery-warehouse",{branch:Object(i.d)().branch,fetched:3,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.shortLoaded,l=t.branch,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-in-destination-warehouse?shortLoaded=".concat(r),{branch:l||Object(i.d)().branch,fetched:2,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.branch,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-extended",{branch:r||Object(i.d)().branch,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.e)("/v1/cargo/get-all-like?branch=".concat(a||Object(i.d)().branch,"&like=").concat(t),{}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-for-reports",{branch:Object(i.d)().branch,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=Object(n.a)(Object(n.a)({},t),{},{pickupDate:t.pickupDateTime.format("YYYY-MM-DD"),pickupTime:t.pickupDateTime.format("HH:mm"),createdDate:s()().format("YYYY-MM-DD"),createdTime:s()().format("HH:mm"),branch:Object(i.d)().branch,auth:Object(i.d)().username,priority:Math.floor(s.a.duration(s()().diff(s()("2021-01-01"))).asSeconds())})).pickupDateTime,e.abrupt("return",Object(o.e)("/v1/cargo/create"+Object(m.a)("JOB-CREATED"),a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e,t){return e?"string"===typeof e?e:e.format(t):s()().format(t)},k=function(){var e=Object(l.a)(c.a.mark((function e(t,a,r,l,u){var p,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(p=Object(n.a)(Object(n.a)({},t),{},{amount:Object(d.a)(r),paid:u,amountSpec:JSON.stringify(r.map((function(e){return{costType:e.costType,amount:e.amount}}))),amountSystem:JSON.stringify(l.map((function(e){return{costType:e.costType,amount:e.amount}}))),pickupDate:x(t.pickupDateTime,"YYYY-MM-DD"),pickupTime:x(t.pickupDateTime,"HH:mm"),pickedUpDate:x(t.pickedUpDateTime,"YYYY-MM-DD"),pickedUpTime:x(t.pickedUpDateTime,"HH:mm"),createdDate:s()().format("YYYY-MM-DD"),createdTime:s()().format("HH:mm"),auth:Object(i.d)().username,branch:Object(i.d)().branch})).pickupDateTime,delete p.pickedDateTime,b=a.map((function(e){var t=Object(n.a)({},e);return delete t.id,t})),e.abrupt("return",Object(o.e)("/v1/cargo/create-with-package"+Object(m.a)("CARGO-HBL-CREATED"),{cargo:p,packages:b}));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(c.a.mark((function e(t,a,r,l,u){var d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(d=Object(n.a)(Object(n.a)({},t),{},{amount:0,paid:0,amountSpec:"{}",amountSystem:"{}",pickupDate:x(t.pickupDateTime,"YYYY-MM-DD"),pickupTime:x(t.pickupDateTime,"HH:mm"),createdDate:s()().format("YYYY-MM-DD"),createdTime:s()().format("HH:mm"),auth:Object(i.d)().username,branch:Object(i.d)().branch})).pickupDateTime,p=a.map((function(e){var t=Object(n.a)({},e);return delete t.id,t})),e.abrupt("return",Object(o.e)("/v1/cargo/create-with-package"+Object(m.a)("DOMESTIC-JOB-CREATED"),{cargo:d,packages:p}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(c.a.mark((function e(t,a,r,l,u,s,p){var b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=Object(n.a)(Object(n.a)({},a),s||{}),r&&(b.amount=Object(d.a)(r),b.paid=u,b.amountSpec=JSON.stringify(r.map((function(e){return{costType:e.costType,amount:e.amount}}))),b.amountSystem=JSON.stringify(l.map((function(e){return{costType:e.costType,amount:e.amount}})))),e.abrupt("return",Object(o.f)("/v1/cargo/update/"+t+Object(m.a)(p||"EDIT-CARGO-DETAILS")+"&branch=".concat(Object(i.d)().branch),b));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,l,o){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={pickupDate:x(a.pickupDateTime,"YYYY-MM-DD"),pickupTime:x(a.pickupDateTime,"HH:mm"),pickupArea:a.pickupArea},e.abrupt("return",Object(o.f)("/v1/cargo/update/"+t+Object(m.a)("EDIT-JOB")+"&branch=".concat(Object(i.d)().branch),n));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-id/"+t+"?branch=".concat(Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-hbl?hbl="+t+"&branch="+(a||Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(p.size)(t)>0)){e.next=4;break}return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-ids?"+t.reduce((function(e,t){return e+"&ids="+t}),"").substring(1)+"&branch=".concat(Object(i.d)().branch)));case 4:return e.abrupt("return",new Promise((function(e){return e([])})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(p.size)(t)>0)){e.next=4;break}return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-hbls?branch="+(a||Object(i.d)().branch)+t.reduce((function(e,t){return e+"&hbls="+t}),"")));case 4:return e.abrupt("return",new Promise((function(e){return e([])})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.a)("/v1/cargo/delete-many"+Object(m.a)("DELETE-CARGO")+"&branch=".concat(Object(i.d)().branch),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/undo-delete/"+t+Object(m.a)("DELETE-CARGO-UNDO")+"&branch=".concat(Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many?sms=DRIVER-ASSIGNED"+Object(m.a)("DRIVER-ASSIGN-JOB","&")+"&branch=".concat(Object(i.d)().branch),{payload:{driverId:a},ids:t,ifFetched:[-1]}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("RETRY-JOB")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:-1},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("RETRY-JOB")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:-12},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-several"+Object(m.a)("SET-JOB-PRIORITY")+"&branch=".concat(Object(i.d)().branch),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("SET-BRANCH-WAREHOUSE")+"&branch=".concat(Object(i.d)().branch),{payload:{pickupWarehouseZone:a},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("SET-DELIVERY-ROUTE")+"&branch=".concat(Object(i.d)().branch),{payload:{deliveryRoute:a},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("CUSTOMS-CLEARED")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:3},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("CUSTOMS-CLEARED-COMPLETED")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:4},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("SHORT-LOADING")+"&branch=".concat(Object(i.d)().branch),{payload:{shortLoaded:a||"S:"},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("SHORT-LOADING-FIXED")+"&branch=".concat(Object(i.d)().branch),{payload:{shortLoaded:""},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many?sms=CASHED"+Object(m.a)("CASHED","&")+"&branch=".concat(Object(i.d)().branch,"&driverName=").concat(a),{payload:{fetched:1,cashedBy:Object(i.d)().username,cashedDate:s()().format("YYYY-MM-DD"),cashedTime:s()().format("HH:mm")},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("REVERT-CASH")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:0},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-loading-id/"+t+"?branch=".concat(Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-dispatched-id/"+t+"?branch=".concat(Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-id/"+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={addDomesticJob:S,getPendingDomestic:b,getPendingPickups:f,getCashSettlements:h,getWarehouse:v,getWarehouseDelivery:E,getWarehouseBonded:O,getAllHbl:j,getAllHblLike:D,getForReports:w,getCargoStatus:X,addHbl:k,editHbl:T,editJob:Y,addJob:C,getCargo:M,getCargoByHbl:I,getCargos:A,getCargosByHbl:R,deleteCargo:L,undoDeleteCargo:B,assignCargo:N,retryCargo:z,retryDomestic:P,assignCargoPriority:F,assignCargoWarehouse:H,assignDeliveryRoute:W,assignCustomCleared:U,assignCustomClearedAndCompleted:G,markAsShortLoading:q,markAsShortLoadingFixed:V,receiveCashCargo:J,revertCashCargo:K,getDeletedCargo:g,getLoadedCargos:_,getDispatchedCargo:Z,getDispatchedCargoAll:y}},437:function(e,t){},438:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var n=a(23),r=a(9),c=a(35),l=function(e,t){var a=t.weight,n=t.volume;if(""===e)return 0;var r=e.replace("weight",a).replace("volume",n);return console.log(r),function(e){if(""===e)return 0;var t=e.split(" ");if(1===t.length)return+e;if(3===t.length){if("*"===t[1])return+t[0]*+t[2];if(">"===t[1])return+t[0]>=+t[2];if("<"===t[1])return+t[0]<+t[2]}}(r)},o=function(e,t,a){var n=e.condition,r=e.valueIf,c=e.valueNot;if(""===n)return l(r,{weight:t,volume:a});var o=l(n,{weight:t,volume:a});return l(o?r:c,{weight:t,volume:a})},i=function(e,t,a,l,i,s){var d=[],m=Object(r.c)().filter((function(a){return a.cargoMode===e&&a.deliveryType===t})),p=Object(r.c)().filter((function(t){return t.cargoMode===e&&"All remaining"===t.deliveryType}));m.forEach((function(e){d.push({editable:"NO"!==e.editable,costType:e.costType,amount:Object(c.b)(o(e,a,l))})})),0===m.length&&p.forEach((function(e){d.push({editable:"NO"!==e.editable,costType:e.costType,amount:Object(c.b)(o(e,a,l))})}));var b=u(i,l,e);return[].concat(d,Object(n.a)(b),[{costType:"OTHER CHARGES",amount:0,editable:!0},{costType:"DISCOUNT",amount:0,editable:!0}])},u=function(e,t,a){var n=[];if("riyadh"===Object(r.d)().branch&&(a===Object(r.d)().cargoMode[1]?(n.push({costType:"BILL CHARGE",amount:50,editable:!0}),n.push({costType:"BILL VAT "+100*Object(r.b)(Object(r.d)().branch).vat+"%",amount:Object(c.b)(50*Object(r.b)(Object(r.d)().branch).vat),editable:!1}),e===Object(r.d)().warehouseLocation[0]?n.push({costType:"DEST. CHARGES",amount:Object(c.b)(140*t),editable:!0}):e===Object(r.d)().warehouseLocation[1]&&n.push({costType:"DEST. CHARGES",amount:Object(c.b)(225*t),editable:!0})):a===Object(r.d)().cargoMode[0]&&n.push({costType:"BILL CHARGE",amount:40,editable:!1})),"dubai"===Object(r.d)().branch&&a===Object(r.d)().cargoMode[1]){var l=t<=.91?0:t<=.94?175:t<=1.62?245:t<=2.01?250:t<=2.51?260:t<=3?325:t<=3.8?400:450;n.push({costType:"BOX CHARGES",amount:Object(c.b)(l),editable:!0}),n.push({costType:"BOX VAT "+100*Object(r.b)(Object(r.d)().branch).vat+"%",amount:Object(c.b)(l*Object(r.b)(Object(r.d)().branch).vat),editable:!1}),n.push({costType:"VOLUME CHARGE",amount:0,editable:!0})}return n},s=function(e,t){var a,n,l;if(e){var o="string"===typeof t.amountSpec?JSON.parse(t.amountSpec||"[]"):t.amountSpec,i=(null===(a=o.find((function(e){return"DEST. CHARGES"===e.costType})))||void 0===a?void 0:a.amount)||"0",u=(null===(n=o.find((function(e){return"BILL CHARGE"===e.costType})))||void 0===n?void 0:n.amount)||"0",s=(null===(l=o.find((function(e){return e.costType==="BILL VAT "+100*Object(r.b)(Object(r.d)().branch).vat+"%"})))||void 0===l?void 0:l.amount)||"0",d=t.amount;return{hblCharge:Object(c.b)(+u),hblVat:Object(c.b)(+s),destiCharges:Object(c.b)(+i),frieghtCharges:Object(c.b)(+d-(+i+ +u+ +s)),grandTotal:d,paid:t.paid}}}},488:function(e,t,a){e.exports=a(652)},57:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(16),r=a.n(n),c=a(9),l=function(e,t){return"".concat(t||"?","audit=").concat(r()().format("YYYY-MM-DD_HH-mm"),"_").concat(Object(c.d)().branch,"_").concat(e,"_").concat(Object(c.d)().username)}},644:function(e,t){},645:function(e,t){},652:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),l=a.n(c),o=a(7),i=a(13),u=a(26),s=a(27),d=a(90),m=a(59),p=a(443),b=a(24),f=a(50),g=a(475),h=a(682),v=a(653),E=a(690),y=a(190),O=a(330),j=a.n(O),D=a(172),w=a(21),C={fontFamily:"'IBM Plex Sans', sans-serif",h1:{fontWeight:500,fontSize:"35px",letterSpacing:"-0.24px",lineHeight:"40px"},h2:{fontWeight:500,fontSize:"29px",letterSpacing:"-0.24px",lineHeight:"32px"},h3:{fontWeight:500,fontSize:"24px",letterSpacing:"-0.06px",lineHeight:"28px"},h4:{fontWeight:500,fontSize:"20px",letterSpacing:"-0.06px",lineHeight:"24px"},h5:{fontWeight:500,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"20px"},h6:{fontWeight:500,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"20px"},subtitle1:{fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"25px"},subtitle2:{color:w.a.text.secondary,fontWeight:400,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body1:{fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body2:{color:w.a.text.secondary,fontSize:"12px",letterSpacing:"-0.04px",lineHeight:"18px"},button:{fontSize:"14px"},caption:{fontSize:"11px",letterSpacing:"0.33px",lineHeight:"13px"},overline:{color:w.a.text.secondary,fontSize:"11px",fontWeight:500,letterSpacing:"0.33px",lineHeight:"13px",textTransform:"uppercase"}},x={root:{margin:"0 8px",padding:8,fontSize:20,color:w.a.icon,"&:hover":{cursor:"pointer"}}},k=a(5),S={root:Object(k.a)(Object(k.a)({},C.body1),{},{borderBottom:"1px solid ".concat(w.a.divider)})},T=a(15),Y={root:{backgroundColor:T.colors.grey[50]}},M={root:{color:w.a.black}},I={root:{padding:"8px !important",border:"1px solid "+w.a.shades.light,color:w.a.shades.main+" !important"}},A={root:{minHeight:"12% !important",maxHeight:"12% !important",padding:"0 4px"},iconActive:{color:w.a.tableHeader.color+" !important"},icon:{color:w.a.tableHeader.color+" !important"}},R={MuiButton:{contained:{boxShadow:"0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)",backgroundColor:"#FFFFFF"}},MuiIconButton:x,MuiPaper:{elevation1:{boxShadow:"none"},elevation4:{boxShadow:"none"}},MuiTableCell:S,MuiTableHead:Y,MuiTypography:{gutterBottom:{marginBottom:8}},MuiDialogTitle:M,MUIDataTableBodyCell:{root:{}},MUIDataTableHeadCell:I,MUIDataTableToolbar:A,MUITable:{root:{overflowY:"scroll"}},MUIDataTableFilterList:{root:{paddingBottom:"8px",margin:"0 !important",background:"none"}},MUIDataTable:{paper:{height:"100%",whiteSpace:"nowrap",padding:"8px"},responsiveScrollFullHeight:{height:"80% ",overflowY:"scroll"},responsiveScrollMaxHeight:{maxHeight:"none"},responsiveScroll:{maxHeight:"none"}},MuiLink:{root:{cursor:"pointer"}},MuiExpansionPanelSummary:{root:{minHeight:"45px !important",height:45,background:w.a.shades.light}}},L=Object(D.a)({props:{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},palette:w.a,typography:C,overrides:R,zIndex:{appBar:1200,drawer:1100}}),B=L,N=a(4),z=(a(428),a(60)),P=a(1),F=a.n(P),H=a(3),W=a(6),U=a(10),G=a(8),q=a(222),V=a(663),J=a(472),K=a(689),_=a(117),Z=a(757),X=a(695),Q=a(62),$=a(182),ee=a(691),te=a(139),ae=a(280),ne=a.n(ae),re=a(133),ce=a.n(re),le=a(665),oe=a(407),ie=a(661),ue=a(205),se=a(337),de=a.n(se),me=a(336),pe=a.n(me),be=a(440),fe=a(122),ge=Object(g.a)((function(e){return{root:{},item:{display:"flex",paddingTop:0,paddingBottom:0,overflow:"hidden"},button:{color:T.colors.blueGrey[800],padding:"10px 8px",justifyContent:"flex-start",textTransform:"none",letterSpacing:0,width:"100%",fontWeight:e.typography.fontWeightMedium,whiteSpace:"nowrap"},icon:{color:e.palette.icon,width:24,height:24,display:"flex",alignItems:"center",marginRight:e.spacing(1)},active:{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"& $icon":{color:e.palette.primary.main}},collapsecomp:{paddingLeft:e.spacing(2)},expandIcon:{float:"right",position:"absolute",paddingRight:e.spacing(1),right:0}}})),he=Object(n.forwardRef)((function(e,t){return r.a.createElement("div",{ref:t,style:{flexGrow:1}},r.a.createElement(d.c,e))})),ve=function(e){e.branch;var t=e.pages,a=e.open,n=e.className,c=e.name,l=(e.branchType,Object(_.a)(e,["branch","pages","open","className","name","branchType"])),o=ge(),i=r.a.useState({}),u=Object(W.a)(i,1)[0],s=r.a.useState(!1),d=Object(W.a)(s,2),m=d[0],p=d[1],b=r.a.useState((function(){var e={};return t.forEach((function(t){e[t.title]=!1})),e})),f=Object(W.a)(b,2),g=f[0],h=f[1],v=r.a.useReducer((function(){return{}}))[1],E=function(e){h(g[e]?Object(U.a)({},e,!1):Object(U.a)({},e,!0)),v()},y=function(e,t){return!0===a?r.a.createElement(le.a,{className:o.item,disableGutters:!0,key:t},!0===e.isCollapsible&&e.subMenuList instanceof Array?r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{className:o.button,onClick:function(){return E(e.title)}},r.a.createElement("div",{className:o.icon},e.icon),Object(fe.b)(e.title),r.a.createElement("div",{className:o.expandIcon},!0===g[e.title]?r.a.createElement(pe.a,null):r.a.createElement(de.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{activeClassName:o.active,className:o.button,component:he,to:e.href},r.a.createElement("div",{className:o.icon},e.icon),Object(fe.b)(e.title),r.a.createElement("div",{className:o.expandIcon},u[e.title]?r.a.createElement(be.a,{size:"small",label:u[e.title]||0,style:{fontSize:11,background:w.a.shades.main,color:"white",padding:"0px"}}):r.a.createElement(r.a.Fragment,null))))):r.a.createElement(oe.a,{key:t,title:Object(fe.b)(e.title)},r.a.createElement(le.a,{className:o.item,disableGutters:!0},!0===e.isCollapsible&&e.subMenuList instanceof Array?r.a.createElement(te.a,{className:o.button,onClick:function(){return E(e.title)}},r.a.createElement("div",{className:o.icon},e.icon),null):r.a.createElement(te.a,{activeClassName:o.active,className:o.button,component:he,to:e.href},r.a.createElement("div",{className:o.icon},e.icon),null)))};return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(te.a,{style:{paddingTop:20,fontSize:15},onClick:function(){return p(!m)}},r.a.createElement("div",{style:{textAlign:"left",width:"100%",fontWeight:"bold"}},c),r.a.createElement("div",{className:o.expandIcon},!0===m?r.a.createElement(pe.a,null):r.a.createElement(de.a,null))),!m&&r.a.createElement(ie.a,Object.assign({},l,{className:Object(G.default)(o.root,n)}),t.map((function(e,t){return!0===e.isCollapsible&&e.subMenuList instanceof Array?r.a.createElement(r.a.Fragment,{key:t},y(e,t),r.a.createElement(ue.a,{in:g&&!0===g[e.title]&&a,timeout:"auto",unmountOnExit:!0,className:o.collapsecomp,children:r.a.createElement(ie.a,{component:"div",disablePadding:!0},e.subMenuList.map((function(e,a){return y(e,t+"_"+a)})))})):y(e,t)}))))},Ee=a(284),ye=a.n(Ee),Oe=a(448),je=a.n(Oe),De=a(283),we=a.n(De),Ce=a(282),xe=a.n(Ce),ke=a(185),Se=a.n(ke),Te=a(449),Ye=a.n(Te),Me=a(450),Ie=a.n(Me),Ae=a(25),Re=a(714),Le=a(715),Be=[{title:"Dashboard",href:"/dashboard",icon:r.a.createElement(je.a,null),types:[Ae.a.pickup,Ae.a.delivery]},{title:"Membership",isCollapsible:!0,types:[Ae.a.pickup,Ae.a.delivery],subMenuList:[{title:"New Member",href:"/new-member",icon:r.a.createElement(xe.a,null),types:[Ae.a.pickup]},{title:"Search/Edit",href:"/search",icon:r.a.createElement(we.a,null),types:[Ae.a.pickup,Ae.a.delivery,Ae.a.domestic]}],icon:r.a.createElement(Re.a,null)},{title:"Office",isCollapsible:!0,types:[Ae.a.pickup],subMenuList:[{title:"Subscriptions",href:"/subscriptions",icon:r.a.createElement(Se.a,null),types:[Ae.a.pickup]}],icon:r.a.createElement(Le.a,null)},{title:"Reports",isCollapsible:!0,types:[Ae.a.pickup,Ae.a.delivery],subMenuList:[{title:"Batch Summary",href:"/batch-summary",icon:r.a.createElement(Ye.a,null),types:[Ae.a.pickup,Ae.a.delivery,Ae.a.domestic]}],icon:r.a.createElement(Ie.a,null)}],Ne=[{name:"",menu:Be}],ze=r.a.forwardRef((function(e,t){return r.a.createElement("div",{ref:t,style:{flexGrow:1}},r.a.createElement(d.c,e))})),Pe=Object(g.a)((function(e){return{drawer:{backgroundImage:"linear-gradient(white, white, white, white, white, #04316133, #82000033, white)",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerMobile:Object(U.a)({background:e.palette.sidebar.background,width:240},e.breakpoints.up("lg"),{marginTop:0,height:"calc(100% - 64px)"}),drawerClose:Object(U.a)({height:"auto",background:e.palette.sidebar.background,overflowX:"hidden",width:e.spacing(7)+1,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},e.breakpoints.up("sm"),{width:e.spacing(7)+3}),root:{display:"flex",flexDirection:"column",padding:e.spacing(1),paddingTop:e.spacing(6)},button:{padding:"10px 8px",justifyContent:"flex-start",textTransform:"none",letterSpacing:0,width:"100%",fontWeight:e.typography.fontWeightMedium,whiteSpace:"nowrap"},icon:{color:e.palette.icon,width:24,height:24,display:"flex",alignItems:"center",marginRight:e.spacing(1)},logoWrapper:{textAlign:"center"},logo:{width:"70%",padding:e.spacing(1),borderRadius:"4rem",boxShadow:"0px 0px 35px rgba(0,0,0,0.25)"},divider:Object(U.a)({},e.breakpoints.up("lg"),{margin:e.spacing(2)}),hidden:{opacity:0}}})),Fe=function(e){var t,a=e.branch,n=e.branchType,c=e.open,l=e.variant,o=e.onClose,i=e.onDrawerOpen,u=(e.onSignOut,e.className),s=e.isDesktop,d=Object(_.a)(e,["branch","branchType","open","variant","onClose","onDrawerOpen","onSignOut","className","isDesktop"]),m=Pe();return r.a.createElement(Z.a,Object.assign({anchor:"left",onClose:o,onOpen:i,open:c,classes:{paper:s?Object(G.default)((t={},Object(U.a)(t,m.drawer,c),Object(U.a)(t,m.drawerClose,!c),t)):m.drawerMobile},variant:s?"permanent":l},d),r.a.createElement(ce.a,null,r.a.createElement(X.a,{container:!0,style:{paddingLeft:30,paddingTop:30}},r.a.createElement("img",{src:ne.a,alt:"logo",style:{width:40,marginRight:10}}),r.a.createElement(X.a,{item:!0},r.a.createElement(Q.a,null,"Zahira College"),r.a.createElement(Q.a,null,"Mawanella - ","OGA"))),r.a.createElement("div",{className:Object(G.default)(m.root,u)},r.a.createElement(ve,{pages:Ne[0].menu,name:Ne[0].name,open:c,branch:a,branchType:n}),c?r.a.createElement($.a,{in:!0,style:{transformOrigin:"left"},timeout:1e3},r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:m.divider}),r.a.createElement(X.a,{container:!0},r.a.createElement(te.a,{className:m.button,component:ze,to:"/sign-in"},r.a.createElement("div",{className:m.icon},r.a.createElement(ye.a,null)),"Logout")))):null)))},He=(a(683),a(329),a(752),a(269),a(399),a(452),a(451),a(9)),We=(a(716),Object(g.a)((function(e){return{root:{boxShadow:e.palette.secondary.light},logo:{height:"46px",padding:"4px",marginTop:"4px"},toolbar:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},titleWrapper:{flexGrow:1,userSelect:"none"},title:Object(U.a)({userSelect:"none",color:e.palette.primary.contrastText,fontWeight:400,flexGrow:1,textAlign:"center"},e.breakpoints.down("md"),{display:"hidden"}),subtitle:Object(U.a)({userSelect:"none",color:e.palette.primary.contrastText,fontWeight:600,flexGrow:1,textAlign:"center",fontFamily:"Changa"},e.breakpoints.down("sm"),{display:"hidden"}),flexGrow:{flexGrow:1},signOutButton:{marginLeft:e.spacing(1)},branch:{width:130,overrides:{MuiSvgIcon:{color:"white"}}},textField:{width:"90%",marginLeft:"auto",marginRight:"auto",paddingBottom:0,marginTop:0,fontWeight:500},input:{color:"white"}}})),r.a.forwardRef((function(e,t){return r.a.createElement("div",{ref:t,style:{flexGrow:0}},r.a.createElement(d.b,Object.assign({},e,{to:"/cool/relax"})))})),a(23)),Ue=a(101),Ge=a(124),qe=new AbortController,Ve={client:null},Je=function(e){var t;return e?null===(t=Ve.client)||void 0===t?void 0:t[e]:Ve.client},Ke=function(){if(Ve.client)return Ve.client;try{return JSON.parse(localStorage.getItem("mw-b"))}catch(e){return[]}},_e=function(){var e=Object(H.a)(F.a.mark((function e(t,a){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.cookie="api=; Max-Age=-999; path=/;",e.prev=1,e.next=4,fetch("".concat(Object(Ge.a)().resourceUrl,"/v1/authenticate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(k.a)(Object(k.a)({},t),{},{type:a}))}).then(Ue.a);case 4:return n=e.sent,r=Object(We.a)(n.branch),localStorage.setItem("mw-b",JSON.stringify(r)),localStorage.setItem("mw-u",t.username),localStorage.setItem("mw-u-type",a||Ae.c.user),Ve.client=r,document.cookie="api=".concat(n.jwt,"; max-age=").concat(54e6,"; path=/;"),e.abrupt("return",n);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.cookie="api=; Max-Age=-999; path=/;";case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(H.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("mw-u"),e.abrupt("return",t);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Qe={login:_e,logout:Ze,getAuthedUser:Xe,aborter:qe},$e=Object(g.a)((function(e){var t;return{root:(t={background:e.palette.background.default,paddingTop:6,height:"100%",overflow:"auto"},Object(U.a)(t,e.breakpoints.up("sm"),{paddingTop:5}),Object(U.a)(t,"transition",e.transitions.create("padding",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})),t),desktopLeftPadding:{paddingLeft:e.spacing(7)+1},shiftContent:{paddingLeft:240},content:{height:"98%",paddingTop:0,marginTop:6},childContainer:{height:"96%"},footerContainer:{height:"4%"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),et=function(e){var t,a=e.children,c=Object(b.useSnackbar)().enqueueSnackbar,l=$e(),o=Object(q.a)(),i=Object(V.a)(o.breakpoints.up("md"),{defaultMatches:!0}),u=Ke()||[""],s=Object(n.useState)(!1),d=Object(W.a)(s,2),m=d[0],p=d[1],f=Object(n.useState)(!1),g=Object(W.a)(f,2),h=g[0],v=g[1],E=r.a.useState(u[0]),y=Object(W.a)(E,1)[0],O=r.a.useState({}),j=Object(W.a)(O,1)[0];r.a.useEffect((function(){p(!0===i)}),[i]);var D=window.location.href.includes("driver-app"),w=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe.logout();case 3:D?window.Android.mwLogout():window.location.href.includes("/customer/")?window.location="".concat("/app","/sign-in/customer"):window.location="".concat("/app","/sign-in"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c("Could not log out, please delete cookies manually to ensure data safety",{variant:"warning"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),C=m,x=r.a.Children.map(a,(function(e){return r.a.cloneElement(e,{isMobile:!i})}));return r.a.createElement("div",{className:Object(G.default)((t={},Object(U.a)(t,l.root,!0),Object(U.a)(t,l.shiftContent,m&&i),Object(U.a)(t,l.desktopLeftPadding,i),t))},r.a.createElement(J.a,{className:l.backdrop,open:h,onClick:v},r.a.createElement(K.a,{color:"inherit"})),!D&&r.a.createElement(Fe,{onClose:function(){p(!1)},onDrawerOpen:function(){p(!0)},open:C,onSignOut:w,branch:y,branchType:j.type,isDesktop:i,variant:"temporary"}),!h&&r.a.createElement("main",{className:l.content},r.a.createElement("div",{className:l.childContainer},x)))},tt=Object(g.a)((function(){return{root:{overflowY:"scroll",height:"100%"},content:{height:"100%"}}})),at=function(e){var t=e.children,a=tt();return r.a.createElement("div",{className:a.root},r.a.createElement("main",{className:a.content},t))},nt=a(123),rt=a(285),ct=a.n(rt),lt=function(e){var t=e.error;return r.a.createElement(X.a,{container:!0,alignContent:"center",justify:"center",alignItems:"center",spacing:4,component:nt.a,style:{height:"100%",width:"100%",margin:0}},r.a.createElement(X.a,{item:!0},t?r.a.createElement(ct.a,null):r.a.createElement(K.a,null)),r.a.createElement(X.a,{item:!0},t?r.a.createElement(Q.a,null,"Error. Please contact a Admin."):r.a.createElement(Q.a,null,"Loading your experience...")))},ot=a(83),it=["safwanmoha@gmail.com","akramajward@gmail.com","relaugh@gmail.com"],ut=function(e){var t=e.layout,a=e.component,n=e.types,c=Object(_.a)(e,["layout","component","types"]),l=r.a.useState(),o=Object(W.a)(l,2),i=o[0],u=o[1];return r.a.useEffect((function(){u(),ot.e.auth().onAuthStateChanged((function(e){var t;t=e,Ve.client=t,u(e);var a=e.email.toLowerCase();it.includes(a)||u()}))}),[]),i?r.a.createElement(z.b,Object.assign({},c,{render:function(e){return r.a.createElement(t,{types:n},r.a.createElement(a,Object.assign({},c,e)))}})):void 0!==i?r.a.createElement(z.a,{to:"/sign-in"}):r.a.createElement(z.b,Object.assign({},c,{render:function(){return r.a.createElement(t,null,r.a.createElement(lt,null))}}))},st=function(e){var t=e.layout,a=e.component,n=Object(_.a)(e,["layout","component"]);return r.a.createElement(z.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,null,r.a.createElement(a,e))}}))},dt=Object(g.a)((function(e){var t;return{root:{backgroundImage:"url(./images/login-bg.jpg)",backgroundSize:"cover",backgroundPosition:"top",backdropFilter:"none",overflow:"hidden",height:Math.floor(125)+"vh"},grid:{height:"100%"},textDanger:{color:e.palette.error.light},content:{height:"100%",display:"flex",flexDirection:"column"},contentBody:(t={flexGrow:1,display:"flex",alignItems:"flex-start",justifyContent:"center"},Object(U.a)(t,e.breakpoints.down("md"),{justifyContent:"center"}),Object(U.a)(t,e.breakpoints.up("xl"),{justifyContent:"center"}),t),form:Object(U.a)({borderRadius:"10px",textAlign:"center",flexBasis:"500px",margin:"80px 80px 80px 80px",marginTop:160,padding:"40px 40px 40px 40px",background:e.palette.shades.alpha},e.breakpoints.down("sm"),{padding:e.spacing(2)}),textField:{marginTop:e.spacing(2)},signInButton:{margin:e.spacing(2,0)},buttonSubtitle:{color:e.palette.white,"& a":{color:e.palette.white}}}})),mt=Object(z.g)((function(e){var t=dt();Object(n.useEffect)((function(){ot.e.auth().onAuthStateChanged((function(t){if(t){var a=(e.location.state||{from:{pathname:"/"}}).from;e.history.push(a)}}))}),[]);var a=Object(n.useState)({isValid:!1,touched:{},errors:{}}),c=Object(W.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){o((function(e){return{isValid:!0,errors:{}}}))}),[]),r.a.createElement("div",{className:t.root},r.a.createElement(X.a,{className:t.grid,container:!0,justify:"flex-end"},r.a.createElement(X.a,{className:t.content,item:!0,lg:12,xs:12},r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.contentBody},r.a.createElement("div",{className:t.form},r.a.createElement(Q.a,{className:t.title,variant:"h5",gutterBottom:!0}),r.a.createElement(Q.a,{className:t.title,variant:"h5",gutterBottom:!0},"Zahira College Mawanella"),r.a.createElement(Q.a,{className:t.title,variant:"h1",gutterBottom:!0},"Old Boys' Association"),l.errors.auth&&r.a.createElement(Q.a,{variant:"overline",className:t.textDanger},l.errors.auth),r.a.createElement("img",{src:ne.a,alt:"logo",style:{marginTop:20,borderRadius:10}}),r.a.createElement("div",{style:{padding:5}}),r.a.createElement(te.a,{onClick:ot.f,className:t.signInButton,color:"primary",disabled:!1,style:{paddingLeft:30,paddingRight:30},size:"large",type:"submit",variant:"contained"},"Login with Google")))))))})),pt=Object(g.a)((function(e){return{root:{padding:e.spacing(2)},content:{paddingTop:35,textAlign:"center"},image:{marginTop:5,display:"inline-block",maxWidth:"100%",width:560}}})),bt=function(){var e=pt();return r.a.createElement("div",{className:e.root},r.a.createElement(X.a,{container:!0,justify:"center",spacing:4},r.a.createElement(X.a,{item:!0,lg:6,xs:12},r.a.createElement("div",{className:e.content},r.a.createElement(Q.a,{variant:"h1"},"404: page doesn't exist"),r.a.createElement(Q.a,{variant:"subtitle2"},"Sorry.")))))},ft=a(686),gt=a(688),ht=a(685),vt=a(687),Et=(a(453),["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"]),yt=a(717),Ot=a(718),jt=a(719),Dt=a(720),wt=function(e){var t=e.details,a=e.loading,n=r.a.useState([]),c=Object(W.a)(n,2),l=c[0],o=c[1];return r.a.useEffect((function(){var e=[{color:Et[2],label:"New Members",labelRight:"Today",isActive:!0,value:t.assigned,icon:r.a.createElement(yt.a,{fontSize:"large",style:{color:"white"}})},{color:Et[6],label:"Total Members",labelRight:"All",isActive:!1,value:t.driverPicked,icon:r.a.createElement(Ot.a,{fontSize:"large",style:{color:"white"}})},{color:Et[0],label:"Pending",labelRight:"Month",isActive:!1,value:t.notPicked,icon:r.a.createElement(jt.a,{fontSize:"large",style:{color:"white"}})},{color:Et[3],label:"Subscriptions",labelRight:"Today",isActive:!0,value:t.totalPicked,icon:r.a.createElement(Dt.a,{fontSize:"large",style:{color:"white"}})}];o(e)}),[t]),r.a.createElement(X.a,{container:!0,style:{paddingBottom:50}},l.map((function(e){return r.a.createElement(X.a,{item:!0,xs:12,sm:3,style:{padding:20,paddingLeft:20}},r.a.createElement(N.b,{data:e,color:e.color,loading:a}))})))},Ct=a(74),xt=a(18),kt=new AbortController,St=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/get-landing-page?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/summary-monthly?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/hbl-monthly?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/sales-aggregate?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t,"&quarter=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),It=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/get-landing-page-flow-chart?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/get-zones-vs-dates?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/get-drivers-vs-dates?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/driver-monthly?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/get-landing-drivers?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/get-landing-pickup-areas?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zt=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/get-landing-warehouse-zones?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(He.d)().branch){e.next=2;break}return e.abrupt("return",new Promise((function(e){return e([])})));case 2:if(Object(He.d)().type!==Ae.a.pickup_customer){e.next=4;break}return e.abrupt("return",new Promise((function(e){return e([])})));case 4:return e.abrupt("return",Object(xt.c)("/v1/dashboard/side-counts?branchType=".concat(Object(He.d)().type,"&branch=").concat(Object(He.d)().branch)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/cross-branch?branchType=".concat(Object(He.d)().type,"&branch=").concat(t.join("&branch="),"&date=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/cross-branch-hbls?branchType=".concat(Object(He.d)().type,"&branch=").concat(t.join("&branch="),"&date=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/dashboard/cross-branch-shipments?branchType=".concat(Object(He.d)().type,"&branch=").concat(t.join("&branch="),"&date=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ut={getSideCounts:Pt,getDashboardData:St,getFlowChartData:It,getHblMonthly:Yt,getCrossBranch:Ft,getCrossBranchHblByFetched:Ht,getCrossBranchShipments:Wt,getSalesAggregate:Mt,getDriversVsDates:Rt,getZonesVsDates:At,getSummaryCards:Tt,getDriverMonthly:Lt,getDriversSummary:Bt,getPickupZoneSummary:Nt,getWarehouseSummary:zt,aborter:kt},Gt=a(80),qt=a.n(Gt),Vt=a(711),Jt=(a(721),a(722),a(723),a(16)),Kt=a.n(Jt),_t=a(28),Zt=["Today","Two days","Four days","One week"],Xt=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState(!1),o=Object(W.a)(l,2),i=o[0],u=o[1],s=Object(b.useSnackbar)().enqueueSnackbar,d=r.a.useState({startDate:Kt()().subtract(2,"d").format("YYYY-MM-DD"),timeFrame:Zt[1]}),m=Object(W.a)(d,2),p=m[0],f=m[1],g=r.a.useState({jobs:"-",directHbl:"-",assigned:"-",notAssigned:"-",driverPicked:"-",totalPicked:"-",notPicked:"-",cashed:"-",notCashed:"-"}),h=Object(W.a)(g,2),v=h[0];h[1];return r.a.useEffect((function(){u(!0),u(!1)}),[s,n,u,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{size:4,title:Object(fe.b)("Dashboard"),subtitle:Object(fe.b)("Welcome, ")+Je("displayName")}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(Q.a,{style:{paddingRight:10}},p.startDate," Onwards "),r.a.createElement(ht.a,{color:"primary"},Zt.map((function(e){return r.a.createElement(te.a,{size:"small",variant:e===p.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===Zt[0]?t=Kt()().subtract(0,"d").format("YYYY-MM-DD"):e===Zt[1]?t=Kt()().subtract(2,"d").format("YYYY-MM-DD"):e===Zt[2]?t=Kt()().subtract(4,"d").format("YYYY-MM-DD"):e===Zt[3]&&(t=Kt()().subtract(7,"d").format("YYYY-MM-DD")),f(Object(k.a)(Object(k.a)({},p),{},{timeFrame:e,startDate:t})),c(n+1)}(e)}},e)})))))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(wt,{details:v,loading:i})))))},Qt=a(724),$t=function(e){var t=e.details,a=e.loading,n=r.a.useState([]),c=Object(W.a)(n,2),l=c[0],o=c[1];return r.a.useEffect((function(){var e=[{color:Et[7],label:"Assigned Jobs",labelRight:"Now",isActive:!0,value:t.totalJobs,icon:r.a.createElement(Qt.a,{fontSize:"large",style:{color:"white"}})},{color:Et[6],label:"Delivered",labelRight:"Now",isActive:!0,value:t.doorDelivered,icon:r.a.createElement(Ot.a,{fontSize:"large",style:{color:"white"}})},{color:Et[4],label:"Pending",labelRight:"Now",isActive:!0,value:t.jobAssignedNotDelivered,icon:r.a.createElement(jt.a,{fontSize:"large",style:{color:"white"}})}];o(e)}),[t]),r.a.createElement(X.a,{container:!0,style:{paddingBottom:50}},l.map((function(e){return r.a.createElement(X.a,{item:!0,xs:12,sm:4,style:{padding:30,paddingLeft:30}},r.a.createElement(N.b,{data:e,color:e.color,loading:a}))})))},ea=["Today","Two days","Four days","One week"],ta=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState(!1),o=Object(W.a)(l,2),i=o[0],u=o[1],s=Object(b.useSnackbar)().enqueueSnackbar,d=r.a.useState({startDate:Kt()().subtract(4,"d").format("YYYY-MM-DD"),timeFrame:ea[2]}),m=Object(W.a)(d,2),p=m[0],f=m[1],g=r.a.useState({jobs:"-",directHbl:"-",assigned:"-",notAssigned:"-",driverPicked:"-",totalPicked:"-",notPicked:"-",cashed:"-",notCashed:"-"}),h=Object(W.a)(g,2),v=h[0],E=h[1];return r.a.useEffect((function(){u(!0),Ut.getFlowChartData(p.startDate).then((function(e){var t=0,a=0,n=0,r=0;Object(_t.map)(e,(function(e){"NULL#3"===e.label?a=+e.value:"NULL#4"===e.label?r=+e.value:e.label.includes("#3")?t=+e.value:e.label.includes("#4")&&(n=+e.value)})),E({totalJobs:n+t,jobAssignedNotDelivered:t,doorDelivered:n,upbDelivered:r,jobNotAssigned:a})})).catch((function(e){s("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))}),[s,n,u,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{size:4,title:"Dashboard",subtitle:"Welcome, "+localStorage.getItem("mw-u")}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(Q.a,{style:{paddingRight:10}},p.startDate," Onwards "),r.a.createElement(ht.a,{color:"primary"},ea.map((function(e){return r.a.createElement(te.a,{size:"small",variant:e===p.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===ea[0]?t=Kt()().subtract(0,"d").format("YYYY-MM-DD"):e===ea[1]?t=Kt()().subtract(2,"d").format("YYYY-MM-DD"):e===ea[2]?t=Kt()().subtract(4,"d").format("YYYY-MM-DD"):e===ea[3]&&(t=Kt()().subtract(7,"d").format("YYYY-MM-DD")),f(Object(k.a)(Object(k.a)({},p),{},{timeFrame:e,startDate:t})),c(n+1)}(e)}},e)})))))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement($t,{details:v,loading:i}),r.a.createElement("div",{style:{padding:10}})))))},aa=function(e){var t=e.details,a=e.loading,n=r.a.useState([]),c=Object(W.a)(n,2),l=c[0],o=c[1];return r.a.useEffect((function(){var e=[{color:Et[7],label:"Assigned Jobs",labelRight:"Now",isActive:!0,value:t.totalJobs,icon:r.a.createElement(Qt.a,{fontSize:"large",style:{color:"white"}})},{color:Et[6],label:"Delivered",labelRight:"Now",isActive:!0,value:t.doorDelivered,icon:r.a.createElement(Ot.a,{fontSize:"large",style:{color:"white"}})},{color:Et[4],label:"Pending",labelRight:"Now",isActive:!0,value:t.jobAssignedNotDelivered,icon:r.a.createElement(jt.a,{fontSize:"large",style:{color:"white"}})}];o(e)}),[t]),r.a.createElement(X.a,{container:!0,style:{paddingBottom:50}},l.map((function(e){return r.a.createElement(X.a,{item:!0,xs:12,sm:4,style:{padding:30,paddingLeft:30}},r.a.createElement(N.b,{data:e,color:e.color,loading:a}))})))},na=["Today","Two days","Four days","One week"],ra=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState(!1),o=Object(W.a)(l,2),i=o[0],u=o[1],s=Object(b.useSnackbar)().enqueueSnackbar,d=r.a.useState({startDate:Kt()().subtract(4,"d").format("YYYY-MM-DD"),timeFrame:na[2]}),m=Object(W.a)(d,2),p=m[0],f=m[1],g=r.a.useState({jobs:"-",directHbl:"-",assigned:"-",notAssigned:"-",driverPicked:"-",totalPicked:"-",notPicked:"-",cashed:"-",notCashed:"-"}),h=Object(W.a)(g,2),v=h[0],E=h[1];return r.a.useEffect((function(){u(!0),Ut.getFlowChartData(p.startDate).then((function(e){var t=0,a=0,n=0,r=0;Object(_t.map)(e,(function(e){"NULL#3"===e.label?a=+e.value:"NULL#4"===e.label?r=+e.value:e.label.includes("#3")?t=+e.value:e.label.includes("#4")&&(n=+e.value)})),E({totalJobs:n+t,jobAssignedNotDelivered:t,doorDelivered:n,upbDelivered:r,jobNotAssigned:a})})).catch((function(e){s("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))}),[s,n,u,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{size:4,title:"Dashboard",subtitle:"Welcome, "+localStorage.getItem("mw-u")}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(Q.a,{style:{paddingRight:10}},p.startDate," Onwards "),r.a.createElement(ht.a,{color:"primary"},na.map((function(e){return r.a.createElement(te.a,{size:"small",variant:e===p.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===na[0]?t=Kt()().subtract(0,"d").format("YYYY-MM-DD"):e===na[1]?t=Kt()().subtract(2,"d").format("YYYY-MM-DD"):e===na[2]?t=Kt()().subtract(4,"d").format("YYYY-MM-DD"):e===na[3]&&(t=Kt()().subtract(7,"d").format("YYYY-MM-DD")),f(Object(k.a)(Object(k.a)({},p),{},{timeFrame:e,startDate:t})),c(n+1)}(e)}},e)})))))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(aa,{details:v,loading:i}),r.a.createElement("div",{style:{padding:10}})))))},ca=function(e){return Object(He.d)().type===Ae.a.domestic?r.a.createElement(ra,null):Object(He.d)().type===Ae.a.delivery?r.a.createElement(ta,null):r.a.createElement(Xt,null)},la=a(54),oa=a.n(la),ia=a(186),ua=a.n(ia),sa=a(187),da=a.n(sa),ma={legend:{position:"right"}},pa=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState({labels:[],datasets:[{data:[]}]}),l=Object(W.a)(c,2),o=l[0],i=l[1],u=r.a.useState(!1),s=Object(W.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){m(!0),Ut.getDriverMonthly(a.startDate).then((function(e){var t=qt()(ua()(oa()(da()(e,(function(e){return e.label})),(function(e){return{label:e.label,value:+e.value}})),["value"],["desc"]),(function(e,t){var a=t.label,n=t.value;return{labels:[].concat(Object(We.a)(e.labels),["".concat(a," (").concat(n,")")]),values:[].concat(Object(We.a)(e.values),[n])}}),{labels:[],values:[]});i({labels:t.labels||[],datasets:[{label:"Completed Jobs",data:t.values||[],backgroundColor:Et,borderColor:Et,borderWidth:1}]})})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)}))}),[n,t,a]),r.a.createElement(r.a.Fragment,null,!d&&r.a.createElement("div",{style:{paddingRight:30}},r.a.createElement(Ct.b,{data:o,options:ma})),d&&r.a.createElement(Vt.a,{variant:"text",height:250}))},ba={scales:{yAxes:[{ticks:{stepSize:1,beginAtZero:!0},scaleLabel:{display:!0,labelString:"HBL"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Date"}}]},legend:{display:!1}},fa=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState({labels:[],datasets:[{data:[]}]}),l=Object(W.a)(c,2),o=l[0],i=l[1],u=r.a.useState(!1),s=Object(W.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){m(!0),Ut.getHblMonthly(a.startDate).then((function(e){var t=qt()(ua()(e,["label"],["asc"]),(function(e,t){var a=t.label,n=t.value;return{labels:[].concat(Object(We.a)(e.labels),[(a||"").substring(8)]),values:[].concat(Object(We.a)(e.values),[n])}}),{labels:[],values:[]});i({labels:t.labels||[],datasets:[{data:t.values||[],backgroundColor:Et,borderColor:Et,borderWidth:1}]})})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)}))}),[n,t,a]),r.a.createElement(r.a.Fragment,null,!d&&r.a.createElement(Ct.a,{data:o,options:ba}),d&&r.a.createElement(Vt.a,{variant:"text",height:250}))},ga=a(725),ha=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([{},{}]),l=Object(W.a)(c,2),o=l[0],i=l[1],u=r.a.useState(!1),s=Object(W.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){m(!0),Ut.getSummaryCards(a.startDate).then((function(e){var t=qt()(e,(function(e,t){var a=t.label,n=t.value;return Object(k.a)(Object(k.a)({},e),{},Object(U.a)({},a,n))}),{}),a=[{color:Et[6],label:"HBLs",labelRight:Object(He.d)().branch,isActive:!0,value:t["this-month-cargo"],icon:r.a.createElement(Dt.a,{fontSize:"large",style:{color:"white"}})},{color:Et[7],label:"Shipments",labelRight:Object(He.d)().branch,isActive:!0,value:t["this-month-loading"],icon:r.a.createElement(ga.a,{fontSize:"large",style:{color:"white"}})}];i(a)})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)}))}),[n,t,a]),r.a.createElement(X.a,{container:!0,style:{paddingBottom:25}},r.a.createElement(X.a,{item:!0,xs:12,sm:6,style:{}},r.a.createElement(N.b,{data:o[0],color:o[0].color,loading:d})),r.a.createElement(X.a,{item:!0,xs:12,sm:6,style:{paddingLeft:25}},r.a.createElement(N.b,{data:o[1],color:o[1].color,loading:d})))},va=function(e){var t=e.searchFields;return r.a.createElement(X.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(X.a,{item:!0,xs:12,sm:6,style:{padding:20}},r.a.createElement(ft.a,{elevation:2,style:{}},r.a.createElement(gt.a,{title:"Contribution of Drivers"}),r.a.createElement(vt.a,null,r.a.createElement(pa,{searchFields:t})))),r.a.createElement(X.a,{item:!0,xs:12,sm:6,style:{padding:20}},r.a.createElement(ha,{searchFields:t}),r.a.createElement(ft.a,{elevation:2,style:{marginTop:20}},r.a.createElement(gt.a,{title:"Number of HBL per day"}),r.a.createElement(vt.a,null,r.a.createElement(fa,{searchFields:t})))),r.a.createElement(X.a,{item:!0,xs:12,sm:6,style:{padding:20}}))},Ea=a(726),ya=["Two days","This week","This month","Three Months"],Oa=function(e){var t=r.a.useState({startDate:Kt()().startOf("month").format("YYYY-MM-DD"),timeFrame:"This month"}),a=Object(W.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Ea.a,size:4,title:"Progress/Efficiency",subtitle:"Hi, "+localStorage.getItem("mw-u")}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(ht.a,{color:"primary"},ya.map((function(e){return r.a.createElement(te.a,{variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;"Two days"===e?t=Kt()().subtract(2,"d").format("YYYY-MM-DD"):"This week"===e?t=Kt()().startOf("week").format("YYYY-MM-DD"):"This month"===e?t=Kt()().startOf("month").format("YYYY-MM-DD"):"Three Months"===e&&(t=Kt()().subtract(90,"d").format("YYYY-MM-DD")),c(Object(k.a)(Object(k.a)({},n),{},{timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(va,{searchFields:n}),r.a.createElement("div",{style:{padding:200}})))))},ja=a(116),Da={scales:{yAxes:[{ticks:{stepSize:1,beginAtZero:!0},scaleLabel:{display:!0,labelString:"Members"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Batch"}}]},legend:{display:!1}},wa=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState({labels:[],datasets:[{data:[]}]}),l=Object(W.a)(c,2),o=l[0],i=(l[1],r.a.useState(!1)),u=Object(W.a)(i,2),s=u[0];u[1];return r.a.useEffect((function(){}),[n,t,a]),r.a.createElement(r.a.Fragment,null,!s&&r.a.createElement(Ct.a,{data:o,options:Da}),s&&r.a.createElement(Vt.a,{variant:"text",height:250}))},Ca=(a(287),function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/driver/get-by-id/".concat(t,"?branch=").concat(a||Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),xa=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/driver/get-all?branch=".concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ka=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.e)("/v1/driver/create?branch=".concat(Object(He.d)().branch),Object(k.a)(Object(k.a)({},t),{},{branch:Object(He.d)().branch,auth:Object(He.d)().username,createdDate:new Date})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sa=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/driver/update/".concat(t,"?branch=").concat(Object(He.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ta={getById:Ca,getByBranch:xa,updatePassword:function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/driver/update-password?branch=".concat(Object(He.d)().branch),Object(k.a)({username:t},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:ka,remove:function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.a)("/v1/driver/delete/".concat(t,"?branch=").concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:Sa},Ya=function(e){var t=e.searchFields;return r.a.createElement(X.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(ft.a,{elevation:2,style:{marginTop:20}},r.a.createElement(gt.a,{title:"Members :: Batch"}),r.a.createElement(vt.a,null,r.a.createElement(wa,{searchFields:t})))),r.a.createElement(X.a,{item:!0,xs:12,sm:6,style:{padding:20}}))},Ma=a(727),Ia=["One Month","Two Months","Three Months"],Aa=function(e){var t=r.a.useState({startDate:Kt()().subtract(31,"d").format("YYYY-MM-DD"),timeFrame:Ia[0]}),a=Object(W.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Ma.a,size:4,title:"Members",subtitle:"Batch Comparision"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(ht.a,{color:"primary"},Ia.map((function(e){return r.a.createElement(te.a,{variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===Ia[0]?t=Kt()().subtract(31,"d").format("YYYY-MM-DD"):e===Ia[1]?t=Kt()().subtract(62,"d").format("YYYY-MM-DD"):e===Ia[2]&&(t=Kt()().subtract(92,"d").format("YYYY-MM-DD")),c(Object(k.a)(Object(k.a)({},n),{},{timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(Ya,{searchFields:n}),r.a.createElement("div",{style:{padding:200}})))))},Ra={scales:{yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Sales"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Aggregated on Date"}}]},legend:{display:!1}},La=function(e){var t=e.changed,a=e.searchFields,n=e.timeFrames,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState({labels:[],datasets:[{data:[]}]}),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(W.a)(s,2),m=d[0],p=d[1];return r.a.useEffect((function(){p(!0),Ut.getSalesAggregate(a.startDate,a.timeQuarter).then((function(e){var t={},r=[],c=[],l="",o="";a.timeFrame===n[0]?(l=14,o="d"):a.timeFrame===n[1]?(l=50,o="d"):a.timeFrame===n[2]?(l=6,o="M"):a.timeFrame===n[3]&&(l=12,o="M");for(var i=0;i<l;i++)if("d"===o){e.forEach((function(e){t[e.label]=e.value}));var s=Kt()().subtract(i,o).format("YYYY-MM-DD");r[i]=s.substring(5),c[i]=t[s]||0}else if("M"===o){e.forEach((function(e){t[e.label.substring(0,7)]=e.value}));var d=Kt()().subtract(i,o).format("YYYY-MM");r[i]=d,c[i]=t[d]||0}u({labels:r.reverse()||[],datasets:[{data:c.reverse()||[],backgroundColor:Et,borderColor:Et,borderWidth:1}]})})).catch((function(e){c("Could not fetch",{variant:"error"})})).finally((function(e){return p(!1)}))}),[c,t,a,n]),r.a.createElement(r.a.Fragment,null,!m&&r.a.createElement(Ct.a,{data:i,options:Ra}),m&&r.a.createElement(Vt.a,{variant:"text",height:250}))},Ba=function(e){var t=e.searchFields,a=e.timeFrames;return r.a.createElement(X.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(ft.a,{elevation:2,style:{marginTop:20}},r.a.createElement(gt.a,{title:"Sales :: "+t.timeFrame}),r.a.createElement(vt.a,null,r.a.createElement(La,{timeFrames:a,searchFields:t})))),r.a.createElement(X.a,{item:!0,xs:12,sm:6,style:{padding:20}}))},Na=a(728),za=["Two Weeks - daily","Two Month - daily","Six Months - Monthly","One Year - Monthly"],Pa=function(e){var t=r.a.useState({startDate:Kt()().subtract(31,"d").format("YYYY-MM-DD"),timeFrame:za[0],timeQuarter:"DAILY"}),a=Object(W.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Na.a,size:4,title:"Sales Trend",subtitle:"Hi, "+localStorage.getItem("mw-u")}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(ht.a,{color:"primary"},za.map((function(e){return r.a.createElement(te.a,{size:"small",variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t,a;e===za[0]?(t=Kt()().subtract(14,"d").format("YYYY-MM-DD"),a="DAILY"):e===za[1]?(t=Kt()().subtract(2,"M").format("YYYY-MM-DD"),a="DAILY"):e===za[2]?(t=Kt()().subtract(6,"M").format("YYYY-MM-DD"),a="MONTHLY"):e===za[3]&&(t=Kt()().subtract(12,"M").format("YYYY-MM-DD"),a="MONTHLY"),c(Object(k.a)(Object(k.a)({},n),{},{timeQuarter:a,timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(Ba,{searchFields:n,timeFrames:za}),r.a.createElement("div",{style:{padding:200}})))))},Fa=a(35),Ha=function(e,t){return r.a.createElement("th",{style:{textAlign:"right",background:w.a.shades.light,color:"white"}},e.label)},Wa=[{label:"  ",name:"",options:{customHeadRender:Ha,display:!0}},{name:"level",options:{display:!1}},{name:"currency",options:{display:!1}},{label:"Criteria",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement("b",null,e):r.a.createElement(r.a.Fragment,null,"\xa0 \xa0 \xa0 \xa0 \xa0 ",e)}}},{label:"HBL Count",name:"count",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"right"}},customHeadRender:Ha,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement(be.a,{label:Math.round(e),style:{color:"white",backgroundColor:w.a.shades.green}}):r.a.createElement(be.a,{label:Math.round(e)})}}},{label:"Total sales",name:"amount",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"right"}},customHeadRender:Ha,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement(be.a,{label:t.rowData[2]+" "+Object(Fa.d)(Math.round(e)),style:{color:"white",backgroundColor:w.a.shades.green}}):r.a.createElement(be.a,{label:t.rowData[2]+" "+Object(Fa.d)(Math.round(e))})}}},{label:"Total Collection",name:"paid",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"right"}},customHeadRender:Ha,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement("b",null,t.rowData[2]+" "+Object(Fa.d)(Math.round(e))):t.rowData[2]+" "+Object(Fa.d)(Math.round(e))}}},{label:"  ",name:"",options:{customHeadRender:Ha,display:!0}}],Ua=a(338),Ga=a.n(Ua),qa=Object(D.a)({overrides:{MuiTableCell:{root:{paddingLeft:"6px !important",paddingRight:"6px !important",paddingTop:"2px !important",paddingBottom:"2px !important"}},MUIDataTableHeadCell:{root:{padding:"8px !important",border:"1px solid white",backgroundColor:w.a.shades.light+" !important",color:"rgb(255, 255, 255) !important"}},MuiIconButton:{root:{margin:"0 6px",padding:7,fontSize:20,color:w.a.shades.main,"&:hover":{cursor:"pointer"}}},MuiButton:{root:{backgroundColor:w.a.shades.main+" !important","&:hover":{backgroundColor:w.a.shades.light+" !important"},"&$disabled":{backgroundColor:w.a.shades.light+" !important"}}},MuiCheckbox:{root:{"&$checked":{color:w.a.shades.main+" !important"}}},MuiChip:{label:{paddingLeft:"6px !important",paddingRight:"6px !important"}}}}),Va=function(e){var t=e.data,a=e.columns,n=e.minified,c=e.customToolbar,l=e.filter,o=e.onRowClick,i=e.noSearch,u=e.noPagination,s=e.sort,d=e.viewColumns,m=e.noDownload,p=e.title;a.forEach((function(e){return e.options.setCellHeaderProps=function(e){return{}}}));var b={elevation:1,responsive:"standard",tableBodyHeight:"100%",selectableRows:"none",customToolbar:c,textLabels:{body:{noMatch:"No Items"}},downloadOptions:{filename:"reports.csv"},setRowProps:function(e,t){return{className:Object(G.default)({})}},onRowClick:o,fixedHeader:!0,viewColumns:void 0!==d&&d,download:!n&&(void 0===m||!m),search:!n&&(void 0===i||!i),print:!1,sort:void 0!==s&&s,filter:!n&&l,filterType:"checkbox",serverSide:!1,pagination:!n&&(void 0===u||!u),enableNestedDataAccess:".",rowsPerPage:100};return n?r.a.createElement(Ga.a,{data:t,options:b,columns:a}):r.a.createElement(h.a,{theme:qa},r.a.createElement(Ga.a,{title:p,data:t,options:b,columns:a}))},Ja=function(e){var t,a=e.rawDetails,n=e.loading,c=e.level1,l=e.level2,o=e.paramter,i=Object(b.useSnackbar)().enqueueSnackbar,u=r.a.useState({labels:["qatar","dubai"],datasets:[{data:[12,13]},{data:[32,23]}]}),s=Object(W.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){var e=a.filter((function(e){return 1===e.level})).map((function(e){return e[c]})),t="branch"===l?Ke():"warehouseLocation"===l?Object(He.d)().warehouseLocation:"cargoMode"===l?Object(He.d)().cargoMode:"deliveryType"===l?Object(He.d)().deliveryType:[],n=t.map((function(e){return a.filter((function(t){return 2===t.level&&t[l]===e})).map((function(e){return e[o]}))}));m({labels:e||[],datasets:n.map((function(e,a){return{label:t[a],data:e,backgroundColor:Et[4+a],stack:"Stack 0"}}))})}),[i,a,c,l,o]),r.a.createElement(r.a.Fragment,null,!n&&r.a.createElement(Ct.a,{data:d,options:(t="Total HBL "+o,{plugins:{title:{display:!0,text:"Chart.js Bar Chart - Stacked"}},responsive:!0,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0},y:{stacked:!0},yAxes:[{scaleLabel:{display:!0,labelString:t}}]}})}),n&&r.a.createElement(Vt.a,{variant:"text",height:250}))},Ka=[{label:"Branch",value:"branch"},{label:"Cargo Mode",value:"cargoMode"},{label:"Delivery Type",value:"deliveryType"},{label:"Warehouse Location",value:"warehouseLocation"}],_a=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([]),l=Object(W.a)(c,2),o=l[0],i=l[1],u=r.a.useState([]),s=Object(W.a)(u,2),d=s[0],m=s[1],p=r.a.useState(!1),f=Object(W.a)(p,2),g=f[0],h=f[1],v=r.a.useState("branch"),E=Object(W.a)(v,2),y=E[0],O=E[1],j=r.a.useState("cargoMode"),D=Object(W.a)(j,2),w=D[0],C=D[1];return r.a.useEffect((function(){h(!0),Ut.getCrossBranch(Ke(),a.startDate).then((function(e){m(e)})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return h(!1)}))}),[n,t,a]),r.a.useEffect((function(){var e=[],t=Object(_t.groupBy)(d,y),a=Object(_t.map)(Object(_t.values)(t),(function(e){return Object(_t.reduce)(e,(function(e,t){var a;return a={},Object(U.a)(a,y,t[y]),Object(U.a)(a,"level",1),Object(U.a)(a,"id",t[y].toUpperCase()+" ("+y.toLowerCase()+")"),Object(U.a)(a,"count",(e.count||0)+ +t.count),Object(U.a)(a,"amount",(e.amount||0)+ +t.amount),Object(U.a)(a,"paid",(e.paid||0)+ +t.paid),Object(U.a)(a,"currency","branch"===y?Object(He.b)(t.branch).currency:""),a}),{})}));Object(_t.forEach)(a,(function(a){var n=t[a[y]],r=Object(_t.groupBy)(n,w),c=Object(_t.map)(Object(_t.values)(r),(function(e){return Object(_t.reduce)(e,(function(e,t){var a;return a={},Object(U.a)(a,w,t[w]),Object(U.a)(a,"id"," - - - > "+t[w].toUpperCase()+" ("+w.toLowerCase()+")"),Object(U.a)(a,"level",2),Object(U.a)(a,"count",(e.count||0)+ +t.count),Object(U.a)(a,"amount",(e.amount||0)+ +t.amount),Object(U.a)(a,"paid",(e.paid||0)+ +t.paid),Object(U.a)(a,"currency","branch"===w||"branch"===y?Object(He.b)(t.branch).currency:""),a}),{})}));e.push.apply(e,[a].concat(Object(We.a)(c)))})),i(e)}),[n,d,y,w]),r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{marginBottom:10}},r.a.createElement(N.v,{size:2,label:"Primary Level",valueObjects:Ka,value:y,onChange:function(e){return O(e.target.value)}}),r.a.createElement(N.v,{size:2,label:"Secondary Level",valueObjects:Ka,style:{marginLeft:10},value:w,onChange:function(e){return e.target.value!==y&&C(e.target.value)}})),r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:g}),r.a.createElement(Va,{data:o,columns:Wa,filter:!1,noSearch:!0,noPagination:!0,noDownload:!0})),r.a.createElement(X.a,{item:!0,xs:5,sm:5,md:5,lg:5,xl:5,style:{marginTop:80,paddingLeft:40}},r.a.createElement(Ja,{paramter:"count",rawDetails:o,loading:!1,level1:y,level2:w})),r.a.createElement(X.a,{item:!0,xs:2,sm:2,md:2,lg:2,xl:2,style:{marginTop:80}}),r.a.createElement(X.a,{item:!0,xs:5,sm:5,md:5,lg:5,xl:5,style:{marginTop:80,paddingRight:40}},r.a.createElement(Ja,{paramter:"amount",rawDetails:o,loading:!1,level1:y,level2:w}))))},Za=function(e){var t=e.searchFields;return r.a.createElement(X.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(_a,{searchFields:t})))},Xa=["One Week","One Month","Three Months"],Qa=function(e){var t=r.a.useState({startDate:Kt()().subtract(7,"d").format("YYYY-MM-DD"),timeFrame:Xa[0]}),a=Object(W.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Ma.a,size:4,title:"Cross Branch Sales",subtitle:"Hi, "+localStorage.getItem("mw-u")}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(ht.a,{color:"primary"},Xa.map((function(e){return r.a.createElement(te.a,{variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===Xa[0]?t=Kt()().subtract(7,"d").format("YYYY-MM-DD"):e===Xa[1]?t=Kt()().subtract(31,"d").format("YYYY-MM-DD"):e===Xa[2]&&(t=Kt()().subtract(92,"d").format("YYYY-MM-DD")),c(Object(k.a)(Object(k.a)({},n),{},{timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(Za,{searchFields:n}),r.a.createElement("div",{style:{padding:200}})))))},$a=function(e,t){return r.a.createElement("th",{style:{textAlign:"center",background:w.a.shades.light,color:"white"}},e.label)},en=[{label:"  ",name:"",options:{customHeadRender:$a,display:!0}},{name:"level",options:{display:!1}},{label:"Criteria",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement("b",null,e):r.a.createElement(r.a.Fragment,null,"\xa0 \xa0 \xa0 \xa0 \xa0 ",e)}}},{label:"HBL",name:"countPending",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Pending"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Volume",name:"volumePending",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Pending"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Weight",name:"weightPending",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Pending"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"  ",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null," ")}}},{label:"HBL",name:"countLoaded",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Loaded"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Volume",name:"volumeLoaded",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Loaded"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Weight",name:"weightLoaded",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Loaded"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Shipment",name:"shipmentLoaded",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Loaded"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"  ",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null," ")}}},{label:"HBL",name:"countReached",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Reached"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Volume",name:"volumeReached",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Reached"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Weight",name:"weightReached",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Reached"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Shipment",name:"shipmentReached",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:$a,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Reached"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"  ",name:"",options:{customHeadRender:$a,display:!0}}],tn=[{label:"Branch",value:"branch"},{label:"Cargo Mode",value:"cargoMode"}],an=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([]),l=Object(W.a)(c,2),o=l[0],i=l[1],u=r.a.useState([]),s=Object(W.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),f=Object(W.a)(p,2),g=f[0],h=f[1],v=r.a.useState(!1),E=Object(W.a)(v,2),y=E[0],O=E[1],j=r.a.useState("branch"),D=Object(W.a)(j,2),w=D[0],C=D[1],x=r.a.useState("cargoMode"),S=Object(W.a)(x,2),T=S[0],Y=S[1];return r.a.useEffect((function(){O(2),Ut.getCrossBranchHblByFetched(Ke(),a.startDate).then((function(e){m(e)})).catch((function(e){n("Could not fetch HBLs",{variant:"error"})})).finally((function(e){return O((function(e){return e-1}))})),Ut.getCrossBranchShipments(Ke(),a.startDate).then((function(e){h(e)})).catch((function(e){n("Could not fetch Shipments",{variant:"error"})})).finally((function(e){return O((function(e){return e-1}))}))}),[n,t,a]),r.a.useEffect((function(){var e=[],t=Object(_t.groupBy)(d,w),a=Object(_t.map)(Object(_t.values)(t),(function(e){return Object(_t.reduce)(e,(function(e,t){var a;return Object(k.a)(Object(k.a)({},e),{},(a={},Object(U.a)(a,w,t[w]),Object(U.a)(a,"level",1),Object(U.a)(a,"id",t[w].toUpperCase()),Object(U.a)(a,"count".concat(t.fetched),(e["count".concat(t.fetched)]||0)+ +t.count),Object(U.a)(a,"volume".concat(t.fetched),(e["volume".concat(t.fetched)]||0)+ +t.volume),Object(U.a)(a,"weight".concat(t.fetched),(e["weight".concat(t.fetched)]||0)+ +t.weight),Object(U.a)(a,"shipmentLoaded",g.filter((function(e){return e[w]===t[w]&&"0"===e.reached})).reduce((function(e,t){return e+ +t.count}),0)||0),Object(U.a)(a,"shipmentReached",g.filter((function(e){return e[w]===t[w]&&"1"===e.reached})).reduce((function(e,t){return e+ +t.count}),0)||0),a))}),{})}));console.log(d.filter((function(e){return"Pending"===e.fetched&&"qatar"===e[w]&&"Air Cargo"===e[T]}))),Object(_t.forEach)(a,(function(a){var n=t[a[w]],r=Object(_t.groupBy)(n,T),c=Object(_t.map)(Object(_t.values)(r),(function(e){return Object(_t.reduce)(e,(function(e,t){var a;return Object(k.a)(Object(k.a)({},e),{},(a={},Object(U.a)(a,T,t[T]),Object(U.a)(a,"id"," - - - > "+t[T].toUpperCase()),Object(U.a)(a,"level",2),Object(U.a)(a,"count".concat(t.fetched),(e["count".concat(t.fetched)]||0)+ +t.count),Object(U.a)(a,"volume".concat(t.fetched),(e["volume".concat(t.fetched)]||0)+ +t.volume),Object(U.a)(a,"weight".concat(t.fetched),(e["weight".concat(t.fetched)]||0)+ +t.weight),Object(U.a)(a,"shipmentLoaded",g.filter((function(e){return e[T]===t[T]&&e[w]===t[w]&&"0"===e.reached})).reduce((function(e,t){return e+ +t.count}),0)||0),Object(U.a)(a,"shipmentReached",g.filter((function(e){return e[T]===t[T]&&e[w]===t[w]&&"1"===e.reached})).reduce((function(e,t){return e+ +t.count}),0)||0),a))}),{})}));e.push.apply(e,[a].concat(Object(We.a)(c)))}));var n=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{countPending:e.countPending||0,countLoaded:e.countLoaded||0,countReached:e.countReached||0,volumePending:e.volumePending||0,volumeLoaded:e.volumeLoaded||0,volumeReached:e.volumeReached||0,weightPending:e.weightPending||0,weightLoaded:e.weightLoaded||0,weightReached:e.weightReached||0})}));i([].concat(Object(We.a)(n),[{id:"TOTAL",level:1,countPending:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.countPending||0)}),0),countLoaded:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.countLoaded||0)}),0),countReached:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.countReached||0)}),0),volumePending:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.volumePending||0)}),0),volumeLoaded:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.volumeLoaded||0)}),0),volumeReached:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.volumeReached||0)}),0),weightPending:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.weightPending||0)}),0),weightLoaded:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.weightLoaded||0)}),0),weightReached:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.weightReached||0)}),0),shipmentLoaded:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.shipmentLoaded||0)}),0),shipmentReached:Object(_t.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.shipmentReached||0)}),0)}]))}),[n,d,g,w,T]),r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{marginBottom:10}},r.a.createElement(N.v,{size:2,label:"Primary Level",valueObjects:tn,value:w,onChange:function(e){return C(e.target.value)}}),r.a.createElement(N.v,{size:2,label:"Secondary Level",valueObjects:tn,style:{marginLeft:10},value:T,onChange:function(e){return e.target.value!==w&&Y(e.target.value)}})),r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:!!y}),r.a.createElement(Va,{data:[{}].concat(Object(We.a)(o)),columns:en,filter:!1,noSearch:!0,noPagination:!0,noDownload:!0})),!1))},nn=function(e){var t=e.searchFields;return r.a.createElement(X.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(an,{searchFields:t})))},rn=["Two Weeks","One Month","Three Months"],cn=function(e){var t=r.a.useState({startDate:Kt()().subtract(14,"d").format("YYYY-MM-DD"),timeFrame:rn[0]}),a=Object(W.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Ma.a,size:4,title:"Cross Branch Shipments",subtitle:"Hi, "+localStorage.getItem("mw-u")}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(ht.a,{color:"primary"},rn.map((function(e){return r.a.createElement(te.a,{variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===rn[0]?t=Kt()().subtract(14,"d").format("YYYY-MM-DD"):e===rn[1]?t=Kt()().subtract(31,"d").format("YYYY-MM-DD"):e===rn[2]&&(t=Kt()().subtract(92,"d").format("YYYY-MM-DD")),c(Object(k.a)(Object(k.a)({},n),{},{timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(nn,{searchFields:n}),r.a.createElement("div",{style:{padding:200}})))))},ln=(a(288),a(188)),on=(a(340),a(729)),un=(a(461),a(462),a(755)),sn=a(692),dn=a(43),mn=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/zone/get-all?branch=".concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pn=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/zone/get-by-id/".concat(t,"?branch=").concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bn=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.e)("/v1/zone/create?branch=".concat(Object(He.d)().branch),Object(k.a)(Object(k.a)({},t),{},{auth:Object(He.d)().username,branch:Object(He.d)().branch,createdDate:new Date})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fn=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/zone/update/".concat(t,"?branch=").concat(Object(He.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),gn={get:mn,getById:pn,create:bn,remove:function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.a)("/v1/zone/delete/".concat(t,"?branch=").concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:fn},hn=a(730),vn=(a(731),a(732),a(733)),En=(a(467),a(135)),yn=a(291),On=a(136);function jn(){var e=Object(En.a)(["\n    position: absolute;\n    width: 38px;\n    height: 37px;\n    background-image: url(https://icon-library.com/images/pin-icon-png/pin-icon-png-9.jpg);\n    background-size: contain;\n    background-repeat: no-repeat;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-transform: translate(-50%,-50%);\n    -ms-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    cursor: grab;\n"]);return jn=function(){return e},e}var Dn=On.a.div(jn()),wn=function(e){var t=e.text,a=e.onClick;return r.a.createElement(Dn,{alt:t,onClick:a})};wn.defaultProps={onClick:null};var Cn="AIzaSyAT29fYAnGsmcUacyqR0mnKvAL2PiAXqpQ";function xn(){var e=Object(En.a)(["\n  width: 100%;\n  height: 80vh;\n"]);return xn=function(){return e},e}On.a.main(xn());var kn=a(734),Sn=(a(713),a(735),a(736),a(709),Object(g.a)((function(e){return{overlayHeader:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)"},overlayTitle:{flexGrow:1}}})),a(739)),Tn=[{label:"ID",name:"id",options:{display:!1}},{label:"Qualification",name:"type",options:{customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}})}}},{label:"School",name:"length",options:{}},{label:"Year",name:"volume",options:{}}],Yn=a(737),Mn=a(738),In=function(e){var t=e.setOverlayDetail,a=e.packages,n=e.setPackages,c=e.setOverlayType,l=Object(f.useDialog)(),o=Object(He.b)(Object(He.d)().branch).packagePricing,i=[].concat(Object(We.a)(Tn),[{label:"Price",name:"price",options:{display:o}},{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,o){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{title:"Delete"},r.a.createElement("span",null,r.a.createElement(y.a,{onClick:function(){return e=o.rowData[0],t=o.rowData[1],void l.confirm({title:r.a.createElement("span",{style:{fontWeight:500,fontSize:18,letterSpacing:"-0.06px",lineHeight:"24px"}},"DELETE CONFIRMATION"),message:r.a.createElement(Q.a,null,"Are you sure you want to ",r.a.createElement("strong",null,"Remove ",t)),ok:{text:"Delete",variant:"contained",color:"primary"}}).then((function(){n(a.filter((function(t){return t.id!==e})))}));var e,t}},r.a.createElement(Yn.a,null)))),r.a.createElement(oe.a,{title:"Edit/Change Password"},r.a.createElement("span",null,r.a.createElement(y.a,{onClick:function(){t({id:o.rowData[0]}),c("ADD_EDU")}},r.a.createElement(Mn.a,null)))))}}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Va,{data:a,columns:i,minified:!0}))))},An=function(e){var t=e.loading,a=e.setLoading,n=e.setOverlayDetail,c=e.packages,l=e.setPackages,o=e.setOverlayType,i=e.setCargoRedundantData,u=Object(b.useSnackbar)().enqueueSnackbar,s=Object(f.useDialog)(),d={dateOfBirth:Kt()().subtract(25,"year"),memberSince:Kt()().startOf("year"),gender:"Female",obaType:"Not Exco",fetched:0,auth:Je("displayName"),uuid:Math.random().toString(16).slice(2,10)+"-"+Math.random().toString(16).slice(2,10)},m=r.a.useState(Object(k.a)({},d)),p=Object(W.a)(m,2),g=p[0],h=p[1],v=r.a.useState(!1),E=Object(W.a)(v,2),y=(E[0],E[1]),O=r.a.useState(!1),j=Object(W.a)(O,2),D=(j[0],j[1]),w=r.a.useState(0),C=Object(W.a)(w,2),x=C[0],S=(C[1],r.a.useState({})),T=Object(W.a)(S,2),Y=T[0],M=T[1],I=((Object(He.b)(Object(He.d)().branch)||{}).addressBreakdown||"").split(",");r.a.useEffect((function(){var e=I.filter((function(e){return Y[e]})).map((function(e){return e+" "+Y[e]})).join(", ");h(Object(k.a)(Object(k.a)({},g),{},{address:e}))}),[Y]),r.a.useEffect((function(){i(Object(k.a)({},g))}),[i,g.warehouseLocation]);var A=function(){ja.a.getMax().then((function(e){return R(e+1e3+1)}))},R=function(e){a(!0),ja.a.create(Object(k.a)(Object(k.a)({},g),{},{memberId:e,memberCode:"ZCM-".concat("OGA","-").concat(e,"-").concat(String.fromCharCode(65+Math.floor(26*Math.random()))),dateOfBirth:"string"===typeof g.dateOfBirth?g.dateOfBirth:g.dateOfBirth.format("YYYY-MM-DD"),memberSince:"string"===typeof g.memberSince?g.memberSince:g.memberSince.format("YYYY-MM-DD"),education:c})).then((function(e){u("Created",{variant:"success"}),o("VIEW"),n({id:e}),B()})).catch((function(e){u("Could not Create",{variant:"error"})})).finally((function(e){return a(!1)}))},L=function(e){h(Object(k.a)(Object(k.a)({},g),{},Object(U.a)({},e.target.name,e.target.value)))},B=function(){h(Object(k.a)({},d)),l([]),y(!1),M({}),D(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:t}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PERSONAL DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.C,{size:3,label:"Short Name*",name:"shortName",Icon:hn.a,value:g.shortName,onChange:L}),r.a.createElement(N.C,{size:6,label:"Full Name*",name:"fullName",Icon:hn.a,value:g.fullName,onChange:L}),r.a.createElement(N.u,{size:3,name:"gender",onChange:L,value:g.gender,values:["Male","Female"]}),r.a.createElement(N.C,{size:3,label:"NIC No",name:"nic",value:g.nic,onChange:L}),r.a.createElement(N.e,{label:"Date of Birth",name:"dateOfBirth",value:g.dateOfBirth,onChange:L})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"CONTACT DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.C,{size:3,label:"Email",name:"email",value:g.email,onChange:L}),r.a.createElement(N.C,{size:6,label:"Address",name:"address",value:g.address,onChange:L}),t?r.a.createElement(N.C,{size:6}):r.a.createElement(N.s,{size:6,label:"Mobile Number*",name:"contact",countryCode:Object(He.d)().countryCodeConsignee,value:g.contact,onChange:L}),t?r.a.createElement(N.C,{size:5}):r.a.createElement(N.s,{size:6,label:"Landline Number",name:"contactAlt",countryCode:Object(He.d)().countryCodeConsignee,value:g.contactAlt,onChange:L}),r.a.createElement(N.C,{size:6,label:"Note",name:"note",value:g.note,onChange:L})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"SCHOOL DAYS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.C,{size:2,label:"O/L Batch*",name:"batchOl",value:g.batchOl,onChange:L}),r.a.createElement(N.C,{size:2,label:"A/L Batch",name:"batchAl",value:g.batchAl,onChange:L}),r.a.createElement(N.C,{size:2,label:"Year of Admission",name:"yearOfAdmission",value:g.yearOfAdmission,onChange:L}),r.a.createElement(N.C,{size:2,label:"Year of Leaving",name:"yearOfLeaving",value:g.yearOfLeaving,onChange:L}),r.a.createElement(N.C,{size:2,label:"Index Number",name:"indexNumber",value:g.indexNumber,onChange:L}),r.a.createElement(N.C,{size:6,label:"Achievements",name:"achievements",value:g.achievements,onChange:L}),r.a.createElement(N.C,{size:6,label:"Postions Held",name:"postionsHeld",value:g.postionsHeld,onChange:L}),r.a.createElement(N.C,{size:6,label:"Note",name:"note",value:g.note,onChange:L})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"EDUCATION DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(X.a,{item:!0,md:11,style:{paddingTop:15,paddingBottom:5}},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(Sn.a,null),disabled:t,onClick:function(){o("ADD_EDU"),n({})}},"Add Education")),r.a.createElement(X.a,{item:!0,md:12},r.a.createElement(In,{setPackages:l,packages:c,setOverlayDetail:n,setOverlayType:o}))))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"EMPLOYMENT DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.C,{size:2,label:"Work Place",name:"workPlace",value:g.workPlace,onChange:L}),r.a.createElement(N.C,{size:2,label:"Designation",name:"designation",value:g.designation,onChange:L}),r.a.createElement(N.D,{size:2,label:"Category",name:"workCategory",auto:Object(He.d)().workCategory,value:g.workCategory,onChange:L}),r.a.createElement(N.C,{size:6,label:"Note",name:"workNote",value:g.workNote,onChange:L})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"OGA RELATED"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.e,{label:"Membership since",name:"memberSince",value:g.memberSince,onChange:L}),r.a.createElement(N.u,{size:3,name:"obaType",onChange:L,value:g.obaType,values:["Not Exco","Exco","Ex-Exco"]}),r.a.createElement(N.C,{size:6,label:"Note",name:"obaNote",value:g.obaNote,onChange:L})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:20}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"outlined",color:"primary",size:"medium",style:{marginRight:5},disabled:t,onClick:function(){return B()}},"Clear"),r.a.createElement(te.a,{variant:"contained",color:"primary",size:"medium",endIcon:r.a.createElement(vn.a,null),style:{marginRight:5},disabled:t,onClick:function(){g.shortName?(g.contact||"").length<6?u("Please fill mobile number",{variant:"warning"}):g.batchOl?x?s.confirm(Object(N.d)("Continue? Paid amount is Zero","ADD WITH ZERO PAYMENT")).then((function(){A()})):A():u("Please fill O/L batch",{variant:"warning"}):u("Please fill name",{variant:"warning"})}},"Create Membership")))),r.a.createElement(N.r,{loading:t})))))},Rn=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=e.setPackages,c=e.packages,l=Object(b.useSnackbar)().enqueueSnackbar,o=r.a.useState(void 0!==t.id?c.filter((function(e){return e.id===t.id}))[0]:{quantity:1}),i=Object(W.a)(o,2),u=i[0],s=i[1],d=Object(He.b)(Object(He.d)().branch).packagePricing,m=function(e){s(Object(k.a)(Object(k.a)({},u),{},Object(U.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"ADD EDUCATIONAL QUALIFICATION",onClose:function(){return a(!1)}}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.D,{size:6,label:"Type",name:"type",auto:Object(He.d)().eduType,value:u.type,onChange:m}),r.a.createElement(N.C,{size:6,label:"Completion year",name:"completionYear",value:u.completionYear,onChange:m}),r.a.createElement(N.D,{size:6,label:"Category",name:"category",auto:Object(He.d)().eduCategory,value:u.category,onChange:m}),r.a.createElement(N.C,{size:6,label:"Name of the course",name:"course",value:u.course,onChange:m}),r.a.createElement(N.C,{size:6,label:"Institution/University/School",name:"institution",value:u.institution,onChange:m}),r.a.createElement(N.C,{size:12,label:"Remarks",name:"remarks",value:u.remarks,onChange:m})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:20,paddingBottom:20}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(Sn.a,null),onClick:function(){return function(){if(d&&void 0===u.price)l("Please calculate price",{variant:"warning"});else if(u.type)if(u.quantity)if(+u.quantity<=0)l("Please type quantity",{variant:"warning"});else{if(void 0!==t.id){var e=c.map((function(e){return e.id!==t.id?e:Object(k.a)(Object(k.a)({},u),{},{id:new Date})}));n(e)}else n([].concat(Object(We.a)(c),[Object(k.a)(Object(k.a)({},u),{},{id:new Date})]));a(!1)}else l("Please type quantity",{variant:"warning"});else l("Please select Type",{variant:"warning"})}()}},"Add Education"))))))))},Ln=[{label:"ID",name:"id",options:{display:!1}},{name:"shortLoaded",options:{display:!1}},{label:"Type",name:"type",options:{customBodyRender:function(e,t){return t.rowData[1]?r.a.createElement(be.a,{label:e,style:{backgroundColor:w.a.shades.red,color:"white"}}):r.a.createElement(be.a,{label:e})}}},{label:"Course",name:"course",options:{}},{label:"Institution",name:"institution",options:{}},{label:"Remarks",name:"remarks",options:{}}],Bn=a(214),Nn=a.n(Bn),zn=function(e){var t=e.packages,a=(e.shortLoaded,r.a.useState({})),n=Object(W.a)(a,2),c=(n[0],n[1]);return r.a.useEffect((function(){c({quantity:Object(Fa.c)(t),weight:Object(Fa.i)(t),volume:Object(Fa.h)(t)})}),[t]),r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Va,{data:t,columns:Ln,minified:!0}))))},Pn=a(52),Fn=a.n(Pn),Hn=function(e){var t,a=e.setOverlayDetail,n=e.details,c=e.loading;(Object(He.b)(Object(He.d)().branch)||{}).qidLabel;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"MEMBER DETAILS",onClose:function(){return a(!1)}}),r.a.createElement(N.r,{loading:c}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PERSONAL DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.p,{size:3,label:"Membership ID",value:n.memberCode}),r.a.createElement(N.p,{size:3,label:"Short Name",value:n.shortName}),r.a.createElement(N.p,{size:6,label:"Full Name",value:n.fullName}),r.a.createElement(N.p,{size:3,label:"Gender",value:n.gender}),r.a.createElement(N.p,{size:3,label:"NIC Number",value:n.nic}),r.a.createElement(N.p,{size:3,label:"Date of Birth",value:n.dateOfBirth})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"CONTACT DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.p,{size:3,label:"Email",value:n.email}),r.a.createElement(N.p,{size:6,label:"Address",value:n.address}),r.a.createElement(X.a,{item:!0,md:3}),r.a.createElement(N.p,{size:3,label:"Contact",value:n.contact}),r.a.createElement(N.p,{size:3,label:"Contact Alt",value:n.contactAlt}),r.a.createElement(N.p,{size:6,label:"Note",value:n.note})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"SCHOOL DAYS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.p,{size:2,label:"Batch",value:n.batch}),r.a.createElement(N.p,{size:2,label:"Year of Admission",value:n.yearOfAdmission}),r.a.createElement(N.p,{size:2,label:"Year of Leaving",value:n.yearOfLeaving}),r.a.createElement(N.p,{size:2,label:"Index Number",value:n.indexNumber}),r.a.createElement(N.p,{size:6,label:"Achievements",value:n.achievements}),r.a.createElement(N.p,{size:6,label:"Position Held",value:n.positionHeld}),r.a.createElement(N.p,{size:6,label:"Notes",value:n.notes})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"EDUCATIONAL QUALIFICATION"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(X.a,{item:!0,md:12},r.a.createElement(zn,{packages:Fn()(n,"education",[]),shortLoaded:null===(t=n.cargo)||void 0===t?void 0:t.shortLoaded}))))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"EMPLOYMENT"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.p,{size:2,label:"Work Place",value:n.workPlace}),r.a.createElement(N.p,{size:2,label:"Designation",value:n.designation}),r.a.createElement(N.p,{size:2,label:"Category",value:n.workCategory}),r.a.createElement(N.p,{size:6,label:"Notes",value:n.workNote})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"OGA RELATED"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.p,{size:2,label:"Membership Since",value:n.memberSince}),r.a.createElement(N.p,{size:2,label:"Membership Type",value:n.obaType}),r.a.createElement(N.p,{size:6,label:"Notes",value:n.obaNote})))))),r.a.createElement(N.r,{loading:c})))))},Wn=a(56),Un="subs",Gn=function(){var e=Object(H.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],!t.id){e.next=4;break}return e.abrupt("return",Object(ot.c)(Un,t.memberId));case 4:return t.memberId&&a.push(Object(Wn.l)("memberId","==",t.memberId)),t.startDate&&(a.push(Object(Wn.l)("date",">=",t.startDate+"00:00")),a.push(Object(Wn.l)("date","<=",t.endDate+"23:59"))),t.nameWithInitials&&(a.push(Object(Wn.i)("nameWithInitials")),a.push(Object(Wn.k)(t.nameWithInitials)),a.push(Object(Wn.d)(t.nameWithInitials+"\uf8ff"))),e.abrupt("return",ot.a.apply(void 0,[Un].concat(a)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qn=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(ot.d)(Un,Object(k.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vn=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/user/update-type/".concat(t,"?branch=").concat(Object(He.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Jn=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/user/update-settings/".concat(t,"?branch=").concat(Object(He.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Kn={get:Gn,updatePassword:function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/user/update-password?branch=".concat(Object(He.d)().branch),Object(k.a)({username:t||Object(He.d)().username},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),resetPassword:function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/user/reset-password?branch=".concat(Object(He.d)().branch),Object(k.a)({username:t||Object(He.d)().username},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:qn,remove:function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.a)("/v1/user/delete/".concat(t,"?branch=").concat(Object(He.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:Vn,updateSettings:Jn},_n=[{label:"ID",name:"id",options:{display:!1}},{label:"Amount",name:"amount",options:{customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{label:"Date",name:"date",options:{}},{label:"Note",name:"forNote",options:{}},{label:"Authorized by",name:"auth",options:{}}],Zn=function(e){var t,a=e.setOverlayDetail,n=e.details,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState({date:Kt()().format("YYYY-MM-DD HH:mm"),memberId:n.uuid,fullName:n.fullName,batchOl:n.batchOl,auth:Je("displayName")}),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState([]),d=Object(W.a)(s,2),m=d[0],p=d[1],f=r.a.useState(0),g=Object(W.a)(f,2),h=g[0],v=g[1],E=r.a.useState(!1),y=Object(W.a)(E,2),O=y[0],j=y[1];r.a.useEffect((function(){n.uuid&&(j(!0),Kn.get({memberId:n.uuid}).then((function(e){p(e)})).catch((function(e){c("Could not fetch driver",{variant:"error"})})).finally((function(e){return j(!1)})))}),[c,n.uuid,h]);var D=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))},C=function(){u({date:Kt()().format("YYYY-MM-DD HH:mm"),memberId:n.uuid,fullName:n.fullName,batchOl:n.batchOl,auth:Je("displayName")})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"SUBSCRIPTIONS OF "+(null===n||void 0===n||null===(t=n.fullName)||void 0===t?void 0:t.toUpperCase()),onClose:function(){return a(!1)}}),r.a.createElement(N.r,{loading:O}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{padding:10}},r.a.createElement(be.a,{label:"STATUS: "+(n.obaType||"N/A"),style:{color:"white",backgroundColor:w.a.shades.green}})),r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!1},r.a.createElement(N.l,{title:"ADD NEW SUBSCRIPTIONS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.C,{size:6,disabled:!0,label:"Member",value:i.fullName}),r.a.createElement(N.C,{size:4,disabled:!0,label:"Date of Reciept",value:i.date}),r.a.createElement(N.C,{size:6,label:"Amount",name:"amount",value:i.amount,onChange:D}),r.a.createElement(N.C,{size:6,label:"For",value:i.forNote,name:"forNote",onChange:D})),r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"outlined",color:"primary",size:"medium",style:{marginRight:5},disabled:O,onClick:function(){return C()}},"Clear"),r.a.createElement(te.a,{variant:"contained",color:"primary",size:"medium",endIcon:r.a.createElement(vn.a,null),style:{marginRight:5},disabled:O,onClick:function(){return j(!0),void Kn.create(Object(k.a)({},i)).then((function(e){c("Renewed",{variant:"success"}),C(),v(h+1)})).catch((function(e){c("Could not Renew",{variant:"error"})})).finally((function(e){return j(!1)}))}},"Renew Subscription")))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PREVIOUS SUBSCRIPTIONS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,sm:12},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{paddingTop:5,paddingBottom:5}},r.a.createElement(Va,{data:m,columns:_n,minified:!0}))))))),r.a.createElement(N.r,{loading:O})))))},Xn=r.a.lazy((function(){return Promise.all([a.e(0),a.e(6),a.e(5)]).then(a.bind(null,1502))})),Qn=function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading PDF Library...")},r.a.createElement(Xn,e))},$n=function(e){var t,a=e.setOverlayDetail,n=e.details,c=e.overlayDetail;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"PRINT for "+(null===n||void 0===n||null===(t=n.fullName)||void 0===t?void 0:t.toUpperCase()),onClose:function(){return a(!1)}}),r.a.createElement(Qn,{id:c.id,branch:"all"})))))},er=a(119),tr=a(740),ar=a(712),nr=a(289),rr=a.n(nr),cr=a(741),lr=a(742),or=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=r.a.useState(0),c=Object(W.a)(n,2),l=c[0],o=c[1],i=Object(b.useSnackbar)().enqueueSnackbar,u=r.a.useState({cargo:{},packages:[]}),s=Object(W.a)(u,2),d=s[0],m=s[1],p=r.a.useState(!1),f=Object(W.a)(p,2),g=f[0],h=f[1];r.a.useEffect((function(){void 0!==t.id&&(h(!0),ja.a.get(t).then((function(e){var t=oa()(e.packages,(function(e){return Object(k.a)({},e)}));m(Object(k.a)(Object(k.a)({},e),{},{packages:t}))})).catch((function(e){i("Could not fetch",{variant:"error"})})).finally((function(e){return h(!1)})))}),[i,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.B,{value:l,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){o(t)},centered:!0},r.a.createElement(N.z,{value:0,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(rr.a,null),"\xa0Member Details")}),r.a.createElement(N.z,{value:1,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(cr.a,null),"\xa0Subscription")}),r.a.createElement(N.z,{value:9,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(lr.a,null),"\xa0Print")})),0===l&&r.a.createElement(Hn,{details:d,loading:g,setOverlayDetail:a}),1===l&&r.a.createElement(Zn,{details:d,loading:g,setOverlayDetail:a}),9===l&&r.a.createElement($n,{details:d,loading:g,setOverlayDetail:a,overlayDetail:t}),r.a.createElement("div",{style:{padding:20}}))},ir=[{label:"ID",name:"id",options:{display:!1}},{label:"Type",name:"type",options:{customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{label:"Length (cm)",name:"length",options:{}},{label:"Width",name:"breadth",options:{}},{label:"Height",name:"height",options:{}},{label:"Quantity",name:"quantity",options:{}},{label:"Weight",name:"weight",options:{}},{label:"Volume (m.cu.)",name:"volume",options:{}},{label:"Remarks",name:"remarks",options:{}}],ur=function(e){var t=e.packages,a=r.a.useState({}),n=Object(W.a)(a,2),c=n[0],l=n[1];return r.a.useEffect((function(){l({quantity:Object(Fa.c)(t),weight:Object(Fa.i)(t),volume:Object(Fa.h)(t)})}),[t]),r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,justify:"flex-end",alignContent:"center",alignItems:"center"},r.a.createElement(N.q,{label:"Packages",value:Nn()(c,"quantity","-")}),r.a.createElement(N.q,{label:"Weight",value:Object(Fa.b)(Nn()(c,"weight",0))}),r.a.createElement(N.q,{label:"Volume",value:Object(Fa.e)(Nn()(c,"volume",0))})),r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Va,{data:t,columns:ir,minified:!0}))))},sr=function(e){var t,a,n,c,l,o,i,u,s,d,m,p,b,f,g,h,v=e.setOverlayDetail,E=e.details,y=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"MEMBER DETAILS",onClose:function(){return v(!1)}}),r.a.createElement(N.r,{loading:y}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"BASIC SHIPPER DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.p,{size:3,label:"JOB REF",value:"REF"+((null===(t=E.cargo)||void 0===t?void 0:t.id)||"XXXX")}),r.a.createElement(X.a,{md:9}),r.a.createElement(N.p,{size:3,label:"Name",value:null===(a=E.cargo)||void 0===a?void 0:a.name}),r.a.createElement(N.p,{size:6,label:"Address",value:null===(n=E.cargo)||void 0===n?void 0:n.address}),r.a.createElement(X.a,{md:3}),r.a.createElement(N.p,{size:3,label:"Contact",value:null===(c=E.cargo)||void 0===c?void 0:c.contact}),r.a.createElement(N.p,{size:3,label:"Location",value:(null===(l=E.cargo)||void 0===l?void 0:l.location)||"-"})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"CONSIGNEE DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.p,{size:3,label:"Name",value:null===(o=E.cargo)||void 0===o?void 0:o.slName}),r.a.createElement(N.p,{size:6,label:"Address",value:null===(i=E.cargo)||void 0===i?void 0:i.slAddress}),r.a.createElement(X.a,{item:!0,md:3}),r.a.createElement(N.p,{size:3,label:"Contact",value:null===(u=E.cargo)||void 0===u?void 0:u.slContact}),r.a.createElement(N.p,{size:3,label:"Location",value:null===(s=E.cargo)||void 0===s?void 0:s.slLocation}),r.a.createElement(N.p,{size:3,label:"NIC/PP No",value:null===(d=E.cargo)||void 0===d?void 0:d.slPpNo}),r.a.createElement(N.p,{size:6,label:"Note",value:null===(m=E.cargo)||void 0===m?void 0:m.note})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PACKAGE DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(X.a,{item:!0,md:12},r.a.createElement(ur,{packages:Fn()(E,"packages",[])}))))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!1},r.a.createElement(N.l,{title:"PAYMENT DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},oa()(null===(p=E.cargo)||void 0===p?void 0:p.amountSpec,(function(e){return r.a.createElement(N.p,{size:3,label:e.costType,value:e.amount})})),r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement("hr",{style:{width:"100%"}})),E.cargo&&r.a.createElement(N.p,{size:3,label:"GRAND TOTAL",value:(null===(b=E.cargo)||void 0===b?void 0:b.amount)+" "+(null===(f=E.cargo)||void 0===f?void 0:f.currency)}),E.cargo&&r.a.createElement(N.p,{size:3,label:"PAID AMOUNT",value:(null===(g=E.cargo)||void 0===g?void 0:g.paid)+" "+(null===(h=E.cargo)||void 0===h?void 0:h.currency)})))))),r.a.createElement(N.r,{loading:y})))))},dr=function(){var e=Object(H.a)(F.a.mark((function e(t){var a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(xt.c)("/v1/complaint/get-all?branch=".concat(Object(He.d)().branch,"&startDate=").concat(a,"&endDate=").concat(n,"Z")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mr=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.e)("/v1/complaint/create?branch=".concat(Object(He.d)().branch),Object(k.a)(Object(k.a)({},t),{},{branch:Object(He.d)().branch,auth:Object(He.d)().username,status:"NEW",createdDate:Kt()().format("YYYY-MM-DD HH:mm")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pr=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/complaint/update/".concat(t,"?branch=").concat(Object(He.d)().branch),Object(k.a)(Object(k.a)({},a),{},{lastUpdatedDate:Kt()().format("YYYY-MM-DD HH:mm"),lastUpdatedAuth:Object(He.d)().username})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),br=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.a)("/v1/complaint/delete/".concat(t,"?branch=").concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fr={get:dr,getById:function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/complaint/get-by-id/".concat(t,"?branch=").concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getByCargoId:function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/complaint/get-all-by-cargo-id?cargoId=".concat(t,"&branch=").concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:mr,remove:br,update:pr},gr={get:function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/audit/get-all?branch="+(a||Object(He.d)().branch)+"&ref=".concat(t,"&entity=CARGO")));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},hr=function(e,t,a,n,r){return r?"DELETED":-12!==e||t?-12===e&&t?"DRIVER ASSIGNED":12===e&&t?"DRIVER PICKED UP":42===e&&t?"DRIVER DELIVERED":-1!==e||t?-1===e&&t?"DRIVER ASSIGNED":-11===e?"JOB SUSPENDED":0===e?t?"DRIVER PICKED":"OFFICER PICKED":1!==e||a?1===e&&a?"ADDED TO SHIPMENT":2===e&&a?"IN CUSTOMS":3!==e||n?3===e&&n?"DELIVERY ASSIGNED":33===e?"DELIVERY SUSPENDED":4===e||4===e?n?"PACKAGE DELVIERED":"PACKAGE CLEARED":"N/A":"SHIPMENT REACHED":"BRANCH WAREHOUSE":"CARGO INFO RECIEVED":"DOMESTIC JOB RECIEVED"},vr=a(743),Er=[{label:"ID",name:"id",options:{display:!1}},{label:"Detail",name:"added",options:{customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{label:"Date",name:"createdDate",options:{}},{label:"Time",name:"createdTime",options:{}},{label:"Auth",name:"auth",options:{}},{label:"Branch",name:"branch",options:{}}],yr=function(e){var t=e.setOverlayDetail,a=e.details,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([]),l=Object(W.a)(c,2),o=l[0],i=l[1],u=r.a.useState({}),s=Object(W.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),f=Object(W.a)(p,2),g=f[0],h=f[1],v=r.a.useState([]),E=Object(W.a)(v,2),y=E[0],O=E[1],j=r.a.useState(""),D=Object(W.a)(j,2),C=D[0],x=D[1],k=r.a.useState(!1),S=Object(W.a)(k,2),T=S[0],Y=S[1];return r.a.useEffect((function(){var e,t,r,c,l;(null===(e=a.cargo)||void 0===e?void 0:e.driverId)&&(Y(!0),Ta.getById(null===(c=a.cargo)||void 0===c?void 0:c.driverId,null===(l=a.cargo)||void 0===l?void 0:l.branch).then((function(e){m(e)})).catch((function(e){n("Could not fetch driver",{variant:"error"})})).finally((function(e){return Y(!1)})));fr.getByCargoId(null===(t=a.cargo)||void 0===t?void 0:t.id).then((function(e){h(e)})).catch((function(e){n("Could not fetch complaints",{variant:"error"})})),gr.get(null===(r=a.cargo)||void 0===r?void 0:r.id).then((function(e){O(e)})).catch((function(e){}))}),[n,a.cargo]),r.a.useEffect((function(){var e=a.cargo||{},t=[{label:"Job Added",data:"User: "+e.auth+" | on "+e.createdDate+" "+e.createdTime},{label:"Tentative Pickup",data:"User: "+e.auth+" | on "+e.pickupDate+" "+e.pickupTime},{label:"Picked on",data:e.fetched>=0&&e.pickedUpDate+" "+e.pickedUpTime+" by Driver: "+(d.username||"N/A")},{label:"Delivered on",data:42===e.fetched&&e.deliveredDate+" "+e.deliveredTime}];i(t);var n=hr(e.fetched,e.driverId,e.loadingId,e.dispatchedId,e.deleted);x(n)}),[n,a.cargo,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"HBL STATUS AND AUDIT LOGS",onClose:function(){return t(!1)}}),r.a.createElement(N.r,{loading:T}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{padding:10}},r.a.createElement(be.a,{label:"HBL STATUS: "+C,style:{color:"white",backgroundColor:w.a.shades.green}})),r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"CARGO STATUS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(X.a,{item:!0,md:6},r.a.createElement(N.y,{items:o.slice(0,2)})),r.a.createElement(X.a,{item:!0,md:6},r.a.createElement(N.y,{items:o.slice(2)}))))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"COMPLAINT DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{paddingTop:5,paddingBottom:5}},g.length>0?r.a.createElement(te.a,{endIcon:r.a.createElement(vr.a,null),color:"primary",variant:"outlined",size:"small",onClick:function(){var e;window.open("complaints/"+(null===(e=a.cargo)||void 0===e?void 0:e.hbl),"_blank")},style:{marginTop:0}},"VIEW COMPAINTS"):r.a.createElement(N.p,{size:2,label:"No Complaints for this HBL",value:""})),g.map((function(e){return r.a.createElement(X.a,{style:{paddingTop:15},container:!0,xs:12,sm:12,md:12,lg:12,xl:12,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.p,{size:2,label:"Created Date",value:(e.createdDate||"").replace("T"," ")}),r.a.createElement(N.p,{size:2,label:"Subject",value:e.subject}),r.a.createElement(N.p,{size:4,label:"Detail",value:e.detail}),r.a.createElement(N.p,{size:2,label:"Status",value:e.status}))}))))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"AUDIT DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,sm:12},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{paddingTop:5,paddingBottom:5}},r.a.createElement(Va,{data:y,columns:Er,minified:!0}))))))),r.a.createElement(N.r,{loading:T})))))},Or=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"deleted",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"filename",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"entityRef",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement("b",null,e)}}},{label:"Document Name",name:"filename",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{name:"upload",label:"Uploaded details",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"notes",label:"Notes",options:{viewColumns:!0,filter:!1,sort:!0}}],jr=function(e){var t,a=e.details,n=e.setOverlayDetail,c=Object(b.useSnackbar)().enqueueSnackbar,l=Object(f.useDialog)(),o=r.a.useState(!1),i=Object(W.a)(o,2),u=i[0],s=i[1],d=r.a.useState(0),m=Object(W.a)(d,2),p=m[0],g=m[1],h=r.a.useState(!1),v=Object(W.a)(h,2),E=v[0],y=v[1],O=r.a.useState([]),j=Object(W.a)(O,2),D=j[0],w=j[1],C=r.a.useState({}),x=Object(W.a)(C,2),S=x[0],T=x[1];r.a.useEffect((function(){var e,t;(null===(e=a.cargo)||void 0===e?void 0:e.id)&&(s(!0),er.a.getAll({id:null===(t=a.cargo)||void 0===t?void 0:t.id,entity:"cargo"}).then((function(e){w(Object(_t.map)(Object(_t.orderBy)(e,"deleted"),(function(e){return Object(k.a)(Object(k.a)({},e),{},{upload:e.auth+" "+e.createdDate+" "+e.branch})})))})).catch((function(e){c("Could not fetch",{variant:"error"})})).finally((function(e){return s(!1)})))}),[c,a,p]);var Y=[].concat(Object(We.a)(Or),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return t.rowData[1]?r.a.createElement(r.a.Fragment,null,"Deleted"):r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{title:"Download",icon:r.a.createElement(tr.a,null),onClick:function(){M(t.rowData[0],t.rowData[2])}}),r.a.createElement(N.A,{title:"View",icon:r.a.createElement(ar.a,null),onClick:function(){window.open("view-docs/"+t.rowData[0]+"/"+t.rowData[2],"_blank")}}),"pickup"===Object(He.d)().type&&r.a.createElement(N.A,{title:"Delete",icon:r.a.createElement(Yn.a,null),onClick:function(){I(t.rowData[0],t.rowData[2])}}))}}}]),M=function(e,t){s(!0),er.a.download(e).then((function(e){var a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t||"docs-download",document.body.appendChild(n),n.click()})).catch((function(e){c("Could not Download",{variant:"error"})})).finally((function(e){return s(!1)}))},I=function(e,t){l.confirm(Object(N.d)("Delete file: "+t,"DELETE")).then((function(){s(!0),er.a.deleteFile(e).then((function(e){c("Deleted",{variant:"success"}),g(p+1)})).catch((function(e){c("Could not Delete",{variant:"error"})})).finally((function(e){return s(!1)}))}))};return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"Documents Under HBL - "+(null===(t=a.cargo)||void 0===t?void 0:t.hbl),onClose:function(){return n(!1)}}),r.a.createElement(N.r,{loading:u}),r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:3,sm:3,md:3,lg:3,xl:3,style:{paddingLeft:10,paddingTop:10,paddingRight:10,borderRight:"1px solid #eeeeee"}},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"UPLOAD NEW DOCUMENTS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{container:!0,spacing:2,xs:12,md:12,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingLeft:5,paddingTop:10}},r.a.createElement(ln.a,{onChange:function(e){var t;(t=e).length>0&&y(t[0])},filesLimit:1,getPreviewIcon:function(){return r.a.createElement(on.a,null)},maxFileSize:5e6})),r.a.createElement(X.a,{container:!0,spacing:1,xs:12,md:12,justify:"flex-start",alignContent:"center",alignItems:"center",style:{marginTop:20,border:"4px dashed #eeeeee",borderRadius:5}},r.a.createElement(N.C,{size:12,label:"Notes",name:"notes",value:S.notes,onChange:function(e){T(Object(k.a)(Object(k.a)({},S),{},Object(U.a)({},e.target.name,e.target.value)))}}),r.a.createElement(X.a,{md:12,container:!0,justify:"space-between",style:{paddingLeft:5,paddingRight:10,paddingTop:5,paddingBottom:5}},r.a.createElement(te.a,{disabled:!E,color:"primary",variant:"contained",size:"medium",onClick:function(){var e,t,n;(null===(e=a.cargo)||void 0===e?void 0:e.hbl)?(s(!0),er.a.upload(E,null===(t=a.cargo)||void 0===t?void 0:t.id,"cargo",null===(n=a.cargo)||void 0===n?void 0:n.hbl,S.notes||"").then((function(e){c("Upload success",{variant:"success"}),g(p+1),y(!1)})).catch((function(e){c("Could not Upload",{variant:"error"})})).finally((function(e){return s(!1)}))):c("This JOB is not Converted as HBL yet",{variant:"warning"})},style:{marginTop:2}},"Upload"))))))),r.a.createElement(X.a,{item:!0,xs:9,sm:9,md:9,lg:9,xl:9,style:{paddingRight:10,paddingTop:10}},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"LIST OF UPLOADED DOCUMENTS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Va,{data:D,columns:Y,minified:!0}))))))))))},Dr=function(e,t){try{return JSON.parse(e)}catch(a){return t}},wr=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=r.a.useState(0),c=Object(W.a)(n,2),l=c[0],o=c[1],i=Object(b.useSnackbar)().enqueueSnackbar,u=r.a.useState({cargo:{},packages:[]}),s=Object(W.a)(u,2),d=s[0],m=s[1],p=r.a.useState(!1),f=Object(W.a)(p,2),g=f[0],h=f[1];r.a.useEffect((function(){void 0!==t.id&&(h(!0),dn.a.getCargo(t.id).then((function(e){var t=oa()(e.packages,(function(e){return Object(k.a)(Object(k.a)({},e),{},{volume:Object(Fa.f)(e)||0})})),a=Fn()(e,"cargo",{});m({cargo:Object(k.a)(Object(k.a)({},a),{},{amountSpec:Dr(a.amountSpec,[])}),packages:t})})).catch((function(e){i("Could not fetch",{variant:"error"})})).finally((function(e){return h(!1)})))}),[i,t.id]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.B,{value:l,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return function(e){if(9===e)return d.cargo.id?d.cargo.hbl?(window.open("print/"+d.cargo.id+"/"+Object(He.d)().branch+"/1","_blank"),void a(!1)):void i("Only HBLs can be printed. This is a Job",{variant:"warning"}):void i("Loading! please wait.",{variant:"warning"});o(e)}(t)},centered:!0},r.a.createElement(N.z,{value:0,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(rr.a,null),"\xa0HBL Details")}),r.a.createElement(N.z,{value:1,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(cr.a,null),"\xa0","Status & Audit")}),r.a.createElement(N.z,{value:2,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(on.a,null),"\xa0","Documents")})),0===l&&r.a.createElement(sr,{details:d,loading:g,setOverlayDetail:a}),1===l&&r.a.createElement(yr,{details:d,loading:g,setOverlayDetail:a}),2===l&&r.a.createElement(jr,{details:d,loading:g,setOverlayDetail:a}),r.a.createElement("div",{style:{padding:20}}))},Cr=function(e){var t=e.overlayDetail,a=e.setOverlayDetail;return""===Object(He.d)().branch?r.a.createElement(or,{overlayDetail:t,setOverlayDetail:a}):Object(He.d)().type===Ae.a.domestic?r.a.createElement(wr,{overlayDetail:t,setOverlayDetail:a}):r.a.createElement(or,{overlayDetail:t,setOverlayDetail:a})},xr=function(){var e=r.a.useState(!1),t=Object(W.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),l=Object(W.a)(c,2),o=l[0],i=l[1],u=r.a.useState(!1),s=Object(W.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),b=Object(W.a)(p,2),f=b[0],g=b[1],h=r.a.useState({}),v=Object(W.a)(h,2),E=v[0],y=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:xe.a,size:4,title:"Create new Member",subtitle:"Zahira OGA"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}}))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(An,{setOverlayDetail:i,setCargoRedundantData:y,setOverlayType:m,packages:f,setPackages:g,loading:a,setLoading:n}),r.a.createElement("div",{style:{padding:20}})))),r.a.createElement(N.g,{open:o,width:"VIEW"===d?"lg":"sm",content:r.a.createElement(r.a.Fragment,null,"VIEW"===d&&r.a.createElement(Cr,{overlayDetail:o,setOverlayDetail:i}),"ADD_EDU"===d&&r.a.createElement(Rn,{cargoRedundantData:E,setPackages:g,packages:f,overlayDetail:o,setOverlayDetail:i}))}))},kr=[{label:"ID",name:"id",options:{display:!1}},{label:"Type",name:"type",options:{customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{label:"Length (cm)",name:"length",options:{}},{label:"Width",name:"breadth",options:{}},{label:"Height",name:"height",options:{}},{label:"Quantity",name:"quantity",options:{}},{label:"Weight",name:"weight",options:{}},{label:"Volume (m.cu.)",name:"volume",options:{}},{label:"Remarks",name:"remarks",options:{}}],Sr=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.e)("/v1/package/create?branch=".concat(Object(He.d)().branch),Object(k.a)(Object(k.a)({cargoId:t},a),{},{branch:Object(He.d)().branch,auth:Object(He.d)().username})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Tr=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/package/update/".concat(t,"?branch=").concat(Object(He.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Yr={create:Sr,remove:function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.a)("/v1/package/delete/".concat(t,"?branch=").concat(Object(He.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:Tr},Mr=function(e){var t=e.setOverlayDetail,a=e.packages,n=e.setChanged,c=e.changed,l=Object(f.useDialog)(),o=Object(b.useSnackbar)().enqueueSnackbar,i=r.a.useState(!1),u=Object(W.a)(i,2),s=u[0],d=u[1],m=[].concat(Object(We.a)(kr),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{title:"Delete"},r.a.createElement("span",null,r.a.createElement(y.a,{onClick:function(){return e=a.rowData[0],t=a.rowData[1],void l.confirm(Object(N.d)("Delete "+t,"DELETE")).then((function(){d(!0),Yr.remove(e).then((function(e){o("Deleted",{variant:"success"}),n(c+1)})).catch((function(e){o("Could not Delete",{variant:"error"})})).finally((function(e){return d(!1)}))}));var e,t}},r.a.createElement(Yn.a,null)))),r.a.createElement(oe.a,{title:"Edit"},r.a.createElement("span",null,r.a.createElement(y.a,{onClick:function(){t({id:a.rowData[0]})}},r.a.createElement(Mn.a,null)))))}}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:s}),r.a.createElement(Va,{data:a,columns:m,minified:!0}))))},Ir=function(e){var t=e.loading,a=e.setLoading,n=e.setOverlayDetail,c=e.packages,l=e.setPackages,o=e.id,i=e.changed,u=e.setChanged,s=Object(b.useSnackbar)().enqueueSnackbar,d=(Object(He.b)(Object(He.d)().branch)||{}).qidLabel||"Residential ID",m=r.a.useState({}),p=Object(W.a)(m,2),f=p[0],g=p[1];r.a.useEffect((function(){a(!0),dn.a.getCargo(o).then((function(e){Object(He.d)().branch!==e.cargo.branch&&s("You are not Authorized",{variant:"warning"}),g(Object(k.a)(Object(k.a)({},e.cargo),{},{pickupDateTime:Kt()(e.cargo.pickupDate+"T"+e.cargo.pickupTime+":00")})),l(e.packages||[])})).catch((function(e){s("Could not fetch",{variant:"error"})})).finally((function(e){return a(!1)}))}),[s,o,a,l]),r.a.useEffect((function(){a(!0),dn.a.getCargo(o).then((function(e){l(e.packages||[])})).catch((function(e){s("Could not fetch",{variant:"error"})})).finally((function(e){return a(!1)}))}),[s,o,a,l,i]);var h=function(e){g(Object(k.a)(Object(k.a)({},f),{},Object(U.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:t}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"BASIC DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.t,{size:4,name:"cargoMode",onChange:h,value:f.cargoMode,values:Object(He.d)().cargoMode}),r.a.createElement(N.t,{size:8,name:"warehouseLocation",onChange:h,value:f.warehouseLocation,values:Object(He.d)().warehouseLocation}),r.a.createElement(N.C,{size:3,label:"Name",name:"name",value:f.name,onChange:h}),r.a.createElement(N.C,{size:6,label:"Description",name:"description",value:f.description,onChange:h}),r.a.createElement(X.a,{item:!0,md:3}),r.a.createElement(N.C,{size:3,label:"Contact",name:"contact",value:f.contact,onChange:h}),r.a.createElement(N.C,{size:6,label:"Address",name:"address",value:f.address,onChange:h}),r.a.createElement(N.C,{size:3,label:"Location",name:"location",value:f.location,onChange:h}),r.a.createElement(N.C,{size:3,label:"ID/PP No",name:"ppNo",value:f.ppNo,onChange:h}),r.a.createElement(N.C,{size:3,label:d,name:"qid",value:f.qid,onChange:h}),r.a.createElement(X.a,{item:!0,md:1}),r.a.createElement(N.t,{size:5,name:"deliveryType",onChange:h,value:f.deliveryType,values:Object(He.d)().deliveryType})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"CONSIGNEE DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.C,{size:3,label:"Name",name:"slName",value:f.slName,onChange:h}),r.a.createElement(N.C,{size:6,label:"Address",name:"slAddress",value:f.slAddress,onChange:h}),r.a.createElement(X.a,{item:!0,md:3}),r.a.createElement(N.C,{size:3,label:"Contact",name:"slContact",value:f.slContact,onChange:h}),r.a.createElement(N.C,{size:3,label:"NIC/PP No",name:"slPpNo",value:f.slPpNo,onChange:h}),r.a.createElement(N.C,{size:6,label:"Note",name:"note",value:f.note,onChange:h})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PACKAGE DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(X.a,{item:!0,md:12,style:{paddingTop:15,paddingBottom:5}},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(Sn.a,null),disabled:t,onClick:function(){return n({cargoId:o})}},"Add Package")),r.a.createElement(X.a,{item:!0,md:12},r.a.createElement(Mr,{changed:i,setChanged:u,setPackages:l,packages:c,setOverlayDetail:n}))))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PAYMENT DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(X.a,{item:!0,md:12}),r.a.createElement(X.a,{item:!0,md:12})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:20}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",size:"medium",endIcon:r.a.createElement(vn.a,null),style:{marginRight:5},disabled:t,onClick:function(){return a(!0),void dn.a.editHbl(o,f).then((function(e){s("Editted",{variant:"success"})})).catch((function(e){console.log(e),s("Could not Edit",{variant:"error"})})).finally((function(e){return a(!1)}))}},"Update HBL")))),r.a.createElement(N.r,{loading:t})))))},Ar=function(e){var t=e.setOverlayDetail,a=e.overlayDetail,n=e.setChanged,c=e.changed,l=Object(b.useSnackbar)().enqueueSnackbar,o=r.a.useState({}),i=Object(W.a)(o,2),u=i[0],s=i[1],d=r.a.useState(!1),m=Object(W.a)(d,2),p=m[0],f=m[1],g=function(e){"quantity"!==e.target.name&&"length"!==e.target.name&&"height"!==e.target.name&&"breadth"!==e.target.name||s(Object(k.a)(Object(k.a)({},u),{},{volume:Object(Fa.f)(u)}))},h=function(e){s(Object(k.a)(Object(k.a)({},u),{},Object(U.a)({},e.target.name,e.target.value)))},v=function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,"");s(Object(k.a)(Object(k.a)({},u),{},Object(U.a)({},e.target.name,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"ADD PACKAGE TO EXISTING HBL",onClose:function(){return t(!1)}}),r.a.createElement(N.r,{loading:p}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PACKAGE DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.v,{size:4,label:"Type",name:"type",values:Object(He.d)().packageType,value:u.type,onChange:h}),r.a.createElement(X.a,{item:!0,md:8}),r.a.createElement(N.C,{size:3,label:"Length (cm)",name:"length",value:u.length,onChange:v,onBlur:g}),r.a.createElement(N.C,{size:3,label:"Width",name:"breadth",value:u.breadth,onChange:v,onBlur:g}),r.a.createElement(N.C,{size:3,label:"Height",name:"height",value:u.height,onChange:v,onBlur:g}),r.a.createElement(N.C,{size:3,label:"Quantity",name:"quantity",value:u.quantity,onChange:v,onBlur:g}),r.a.createElement(N.C,{size:3,label:"Total Weight",name:"weight",value:u.weight,onChange:v}),r.a.createElement(N.C,{size:3,label:"Volume (m.cu.)",name:"volume",value:u.volume,onChange:v}),r.a.createElement(N.C,{size:12,label:"Remarks",name:"remarks",value:u.remarks,onChange:h})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:20,paddingBottom:20}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(Sn.a,null),onClick:function(){u.type?(f(!0),Yr.create(a.cargoId,u).then((function(e){l("Created",{variant:"success"}),n(c+1),t(!1)})).catch((function(e){l("Could not Create",{variant:"error"})})).finally((function(e){return f(!1)}))):l("Please select Type",{variant:"warning"})}},"Add Package to HBL"))))))))},Rr=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=e.packages,c=e.setChanged,l=e.changed,o=Object(b.useSnackbar)().enqueueSnackbar,i=r.a.useState(n.filter((function(e){return e.id===t.id}))[0]),u=Object(W.a)(i,2),s=u[0],d=u[1],m=r.a.useState(!1),p=Object(W.a)(m,2),f=p[0],g=p[1],h=function(e){"quantity"!==e.target.name&&"length"!==e.target.name&&"height"!==e.target.name&&"breadth"!==e.target.name||d(Object(k.a)(Object(k.a)({},s),{},{volume:Object(Fa.f)(s)}))},v=function(e){d(Object(k.a)(Object(k.a)({},s),{},Object(U.a)({},e.target.name,e.target.value)))},E=function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,"");d(Object(k.a)(Object(k.a)({},s),{},Object(U.a)({},e.target.name,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"EDIT PACKAGE FROM HBL",onClose:function(){return a(!1)}}),r.a.createElement(N.r,{loading:f}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PACKAGE DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.v,{size:4,label:"Type",name:"type",values:Object(He.d)().packageType,value:s.type,onChange:v}),r.a.createElement(N.C,{size:6,label:"Type",name:"type",value:s.type,onChange:v}),r.a.createElement(X.a,{item:!0,md:2}),r.a.createElement(N.C,{size:3,label:"Length (cm)",name:"length",value:s.length,onChange:E,onBlur:h}),r.a.createElement(N.C,{size:3,label:"Width",name:"breadth",value:s.breadth,onChange:E,onBlur:h}),r.a.createElement(N.C,{size:3,label:"Height",name:"height",value:s.height,onChange:E,onBlur:h}),r.a.createElement(N.C,{size:3,label:"Quantity",name:"quantity",value:s.quantity,onChange:E,onBlur:h}),r.a.createElement(N.C,{size:3,label:"Total Weight",name:"weight",value:s.weight,onChange:E}),r.a.createElement(N.C,{size:3,label:"Volume",name:"volume",value:s.volume,onChange:E}),r.a.createElement(N.C,{size:12,label:"Remarks",name:"remarks",value:s.remarks,onChange:v})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:20,paddingBottom:20}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(Sn.a,null),onClick:function(){s.type?(g(!0),Yr.update(t.id,s).then((function(e){o("Created",{variant:"success"}),c(l+1),a(!1)})).catch((function(e){o("Could not Create",{variant:"error"})})).finally((function(e){return g(!1)}))):o("Please select Type",{variant:"warning"})}},"Save Package Changes"))))))))},Lr=function(e){var t=r.a.useState(!1),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState(!1),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState([]),d=Object(W.a)(s,2),m=d[0],p=d[1],b=r.a.useState(0),f=Object(W.a)(b,2),g=f[0],h=f[1],v=e.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.n,{size:4,childTitle:"Edit HBL",subtitle:"MoveWorlde",parentTitle:"< Search HBL",onClick:function(){return e.history.push("/search-hbl")}}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}}))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(Ir,{id:v,changed:g,setChanged:h,setOverlayDetail:u,packages:m,setPackages:p,loading:n,setLoading:c}),r.a.createElement("div",{style:{padding:20}})))),r.a.createElement(N.g,{open:i,width:"sm",content:i.id?r.a.createElement(Rr,{changed:g,setChanged:h,setPackages:p,packages:m,overlayDetail:i,setOverlayDetail:u}):r.a.createElement(Ar,{setPackages:p,packages:m,setOverlayDetail:u,overlayDetail:i,changed:g,setChanged:h})}))},Br=a(684),Nr=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"driverId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"loadingId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"dispatchedId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"Gender",name:"gender",options:{viewColumns:!1,filter:!0,sort:!1,display:!1}},{name:"now",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"deleted",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"ID",name:"_id",options:{viewColumns:!1,filter:!1,display:!1,sort:!0,customBodyRender:function(e,t){return t.rowData[7]?r.a.createElement(Br.a,{color:"secondary",variant:"dot"},r.a.createElement("b",null,e)):r.a.createElement("b",null,e)}}},{label:"Short Name",name:"shortName",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{label:"Full Name",name:"fullName",options:{viewColumns:!1,filter:!1,sort:!1}},{label:"Batch",name:"batch",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){if(e)return r.a.createElement(be.a,{label:e})}}},{name:"gender",label:"Gender",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"dateOfBirth",label:"Date of Birth",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"contact",label:"Contact",options:{viewColumns:!0,display:!0,filter:!1,sort:!1}},{name:"createdDate",label:"Created Date",options:{viewColumns:!0,display:!1,filter:!1,sort:!0}}],zr=function(e,t){return(e+"").length>t?e.substring(0,t)+"...":e},Pr=function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=e.setChanged,l=e.history,o=Object(b.useSnackbar)().enqueueSnackbar,i=Object(f.useDialog)(),u=r.a.useState(!1),s=Object(W.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),g=Object(W.a)(p,2),h=g[0],v=g[1];r.a.useEffect((function(){0!==t&&((a.nameWithInitials||"").length<2&&!a.batch?o("Please add search criteria",{variant:"warning"}):(m(!0),ja.a.get(a).then((function(e){var t=Kt()().format("YYYY-MM-DD"),a=Kt()().format("HH"),n=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{_id:e.id,date:e.pickupDate+" "+e.pickupTime,name:zr(e.name,15),address:zr(e.address,30),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));v(n)})).catch((function(e){o("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)}))))}),[o,t]);var E=[].concat(Object(We.a)(Nr),[{label:"Merchant",name:"merchant",options:{viewColumns:!1,filter:Object(He.d)().type===Ae.a.domestic,sort:!0,display:Object(He.d)().type===Ae.a.domestic}},{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{title:"View",icon:r.a.createElement(ar.a,null),onClick:function(){n({id:a.rowData[0]})}}),!a.rowData[8]&&r.a.createElement(r.a.Fragment,null,Object(He.d)().type!==Ae.a.delivery&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{title:"Edit",icon:r.a.createElement(Mn.a,null),onClick:function(){l.push("/edit-hbl/"+a.rowData[0])}}),r.a.createElement(N.A,{title:"Delete",icon:r.a.createElement(Yn.a,null),onClick:function(){!function(e){var a=e.id;i.confirm(Object(N.d)("Delete 1 item(s)","DELETE")).then((function(){m(!0),ja.a.deleteCargo([a]).then((function(e){o("Deleted",{variant:"success"}),c(t+1)})).catch((function(e){o("Could not Delete",{variant:"error"})})).finally((function(e){return m(!1)}))}))}({id:a.rowData[0]})}}))))}}},{name:"branch",label:"From",options:{viewColumns:!0,filter:!1,sort:!1,display:Object(He.d)().type===Ae.a.delivery}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:d}),r.a.createElement(Va,{data:h,columns:E,filter:!0,viewColumns:!0,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{paddingRight:30,marginLeft:-10,color:w.a.shades.main}},"Filters"))}}))))},Fr=a(290),Hr=a.n(Fr),Wr=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState({hbl:"",startDate:Kt()().subtract(6,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(W.a)(s,2),m=d[0],p=d[1],b=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))},f=function(e){13===e.keyCode&&c(n+1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:we.a,size:2,title:"Search Members",subtitle:"Zahira College OGA"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:10,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(X.a,{container:!0,md:7,alignItems:"center",justify:"flex-end",spacing:1},r.a.createElement(N.C,{size:4,label:"Name",name:"nameWithInitials",onKeyDown:f,value:i.nameWithInitials,onChange:b}),r.a.createElement(N.C,{size:2,label:"O/L Batch",name:"batch",onKeyDown:f,value:i.batch,onChange:b}),r.a.createElement(N.C,{size:2,label:"Index Number",name:"indexNumber",onKeyDown:f,value:i.indexNumber,onChange:b}),r.a.createElement(te.a,{endIcon:r.a.createElement(Hr.a,null),color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:3,marginLeft:5,marginRight:10}},"Search")),!1))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,null,r.a.createElement(Pr,{changed:n,setChanged:c,history:e.history,searchFields:i,setOverlayDetail:p})))),r.a.createElement(N.g,{open:m,width:"lg",content:m.id?r.a.createElement(Cr,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},Ur=w.a.shades.greenRgb.replace(")",""),Gr=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"driverId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{name:"loadingId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{name:"dispatchedId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{label:"Cargo Mode",name:"cargoMode",options:{viewColumns:!1,filter:!0,sort:!1,display:!1,download:!1}},{label:"Delivery Type",name:"deliveryType",options:{viewColumns:!1,filter:!0,sort:!1,display:!1,download:!1}},{name:"now",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{name:"deleted",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{label:"HBL",name:"_id",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return t.rowData[7]?r.a.createElement(Br.a,{color:"secondary",variant:"dot"},r.a.createElement("b",null,e)):r.a.createElement("b",null,e)}}},{label:"Packages",name:"packages",options:{viewColumns:!1,filter:!1,sort:!0}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{label:"Name Consignee",name:"slName",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){if(e)return r.a.createElement(be.a,{label:e})}}},{label:"Status",name:"fetched",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){var a,n,c,l,o=(a=e,n=t.rowData[1],c=t.rowData[2],l=t.rowData[3],t.rowData[8]?{txt:"DELETED",i:0,all:10}:-12!==a||n?-12===a&&n?{txt:"DRIVER ASSIGNED",i:1,all:10}:12===a&&n?{txt:"DRIVER PICKED UP",i:4,all:10}:42===a&&n?{txt:"DRIVER DELIVERED",i:8,all:10}:-1!==a||n?-1===a&&n?{txt:"DRIVER ASSIGNED",i:1,all:10}:-11===a?{txt:"JOB SUSPENDED",i:1,all:10}:0===a?{txt:n?"DRIVER PICKED":"OFFICER PICKED",i:2,all:10}:1!==a||c?1===a&&c?{txt:"ADDED TO SHIPMENT",i:4,all:10}:2===a&&c?{txt:"IN CUSTOMS",i:5,all:10}:3!==a||l?3===a&&l?{txt:"DELIVERY ASSIGNED",i:7,all:10}:4===a?{txt:l?"PACKAGE DELVIERED":"PACKAGE CLEARED",i:8,all:10}:{txt:"N/A",i:9,all:10}:{txt:"SHIPMENT REACHED",i:6,all:10}:{txt:"BRANCH WAREHOUSE",i:3,all:10}:{txt:"CARGO INFO RECIEVED",i:0,all:10}:{txt:"DOMESTIC JOB RECIEVED",i:0,all:10});return r.a.createElement(be.a,{label:o.txt,style:{textShadow:"rgb(0 0 0) 1px 1px 2px",color:"#eeeeee",backgroundColor:"".concat(Ur,", ").concat(1.6-(o.all-o.i)/o.all,")")}})}}},{name:"address",label:"Address",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"slAddress",label:"Address Consignee",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"contact",label:"Contact",options:{viewColumns:!0,display:!1,filter:!1,sort:!1}},{name:"slContact",label:"Contact Consignee",options:{viewColumns:!0,display:!1,filter:!1,sort:!1}},{name:"createdDate",label:"Created Date",options:{viewColumns:!0,display:!1,filter:!1,sort:!0}},{name:"cargoMode",label:"Cargo Mode",options:{viewColumns:!0,display:!1,filter:!1,sort:!1,download:!1}},{name:"deliveryType",label:"Delivery Type",options:{viewColumns:!0,display:!1,filter:!1,sort:!1,download:!1}}],qr=function(e,t){return qt()(e,(function(e,a){return e+(+a[t]||0)}),0)},Vr=function(e,t,a){return t[a]?e.filter((function(e){return e[a]===t[a]})):e},Jr=function(e){return da()(e,(function(e,t,a){return a.indexOf(e)===t}))},Kr=function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState(!1),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState([]),d=Object(W.a)(s,2),m=d[0],p=d[1],f=r.a.useState([]),g=Object(W.a)(f,2),h=g[0],v=g[1];r.a.useEffect((function(){0!==t&&(a.startDate>a.endDate?c("Start-Date should not be after From-Date",{variant:"warning"}):(u(!0),dn.a.getForReports({startDate:a.startDate,endDate:a.endDate}).then((function(e){var t=Kt()().format("YYYY-MM-DD"),n=Kt()().format("HH"),r=e.map((function(e){var a=e.cargo,r=e.packages;return Object(k.a)(Object(k.a)({},a),{},{packages:r.map((function(e){return e.type})).join(", "),_id:Object(He.d)().type===Ae.a.domestic?"REF"+a.id:a.hbl?a.hbl:"REF"+a.id,date:a.pickupDate+" "+a.pickupTime,name:zr(a.name,15),slName:zr(a.slName,20),address:zr(a.address,30),slAddress:zr(a.slAddress,30),now:a.createdDate===t&&a.createdTime.startsWith(n)})}));p(r),E(a.merchant,r)})).catch((function(e){c("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))))}),[c,t,a.startDate,a.endDate]),r.a.useEffect((function(){E(a.merchant,m)}),[c,t,a.merchant]);var E=function(e,t){var a=Vr(t,{merchant:e},"merchant");v(a)},y=[].concat(Object(We.a)(Gr),[{label:"Merchant",name:"merchant",options:{viewColumns:!1,filter:Object(He.d)().type===Ae.a.domestic,sort:!0,display:Object(He.d)().type===Ae.a.domestic}},{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{title:"View",icon:r.a.createElement(ar.a,null),onClick:function(){n({id:t.rowData[0]})}}))}}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:i}),r.a.createElement(Va,{data:h,columns:y,filter:!0,viewColumns:!0,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{paddingRight:30,marginLeft:-10,color:w.a.shades.main}},"Filters"))}}))))},_r=a(209),Zr=a.n(_r),Xr=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/merchant/get-by-id/".concat(t,"?branch=").concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qr=function(){var e=Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/merchant/get-all?branch=".concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$r=function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.e)("/v1/merchant/create?branch=".concat(Object(He.d)().branch),Object(k.a)(Object(k.a)({},t),{},{branch:Object(He.d)().branch,auth:Object(He.d)().username,createdDate:new Date})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ec=function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/merchant/update/".concat(t,"?branch=").concat(Object(He.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),tc={get:Qr,getById:Xr,updatePassword:function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.f)("/v1/merchant/update-password?branch=".concat(Object(He.d)().branch),Object(k.a)({username:t},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:$r,remove:function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.a)("/v1/merchant/delete/".concat(t,"?branch=").concat(Object(He.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:ec},ac=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState({hbl:"",startDate:Kt()().subtract(6,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(W.a)(s,2),m=d[0],p=d[1],f=r.a.useState([]),g=Object(W.a)(f,2),h=g[0],v=g[1],E=Object(b.useSnackbar)().enqueueSnackbar,y=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))};r.a.useEffect((function(){tc.get().then((function(e){v(Object(_t.map)(Object(_t.filter)(e,(function(e){return!e.deleted})),(function(e){return e.username})))})).catch((function(e){E("Could not fetch Merchants",{variant:"error"})}))}),[E]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Ma.a,size:2,title:"Reports",subtitle:"Merchant Delivery"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:10,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(N.v,{size:2,label:"Merchant/Referrer",name:"merchant",values:h,valueObjects:[{value:"",label:"All"}],value:i.merchant,onChange:y}),r.a.createElement(N.e,{size:2,label:"From Date",name:"startDate",value:i.startDate,onChange:y}),r.a.createElement(N.e,{size:2,label:"To Date",name:"endDate",value:i.endDate,onChange:y}),r.a.createElement(te.a,{startIcon:r.a.createElement(Zr.a,null),color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(N.a,{size:2,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().subtract(61,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().subtract(30,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().subtract(7,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().add(-1,"d").format("YYYY-MM-DD"),endDate:Kt()().add(-1,"d").format("YYYY-MM-DD")})),c(n+1)}],options:["Two Month","One Month","One Week","Today","Yesterday"]})))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,null,r.a.createElement(Kr,{changed:n,setChanged:c,history:e.history,searchFields:i,setOverlayDetail:p})))),r.a.createElement(N.g,{open:m,width:"lg",content:m.id?r.a.createElement(Cr,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},nc=a(57),rc=function(){return(Object(He.a)().contact||"").replace("+","")},cc=function(){var e=Object(H.a)(F.a.mark((function e(t){var a,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.fetched,e.abrupt("return",Object(xt.e)("/v1/customer-api/cargo/get-pending-pickup?contact=".concat(rc()),{branch:Object(He.d)().branch,fetched:void 0===r?-1:r,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lc=function(){var e=Object(H.a)(F.a.mark((function e(t){var a,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.branch,e.abrupt("return",Object(xt.e)("/v1/customer-api/cargo/get-all-extended?contact=".concat(rc()),{branch:r||Object(He.d)().branch,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oc=function(e,t){return e?"string"===typeof e?e:e.format(t):Kt()().format(t)},ic={addDomesticJob:function(){var e=Object(H.a)(F.a.mark((function e(t,a,n,r,c){var l,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(l=Object(k.a)(Object(k.a)({},t),{},{amount:0,paid:0,amountSpec:"{}",amountSystem:"{}",pickupDate:oc(t.pickupDateTime,"YYYY-MM-DD"),pickupTime:oc(t.pickupDateTime,"HH:mm"),createdDate:Kt()().format("YYYY-MM-DD"),createdTime:Kt()().format("HH:mm"),auth:Object(He.d)().username,branch:Object(He.d)().branch})).pickupDateTime,o=a.map((function(e){var t=Object(k.a)({},e);return delete t.id,t})),e.abrupt("return",Object(xt.e)("/v1/customer-api/cargo/create-with-package".concat(Object(nc.a)("DOMESTIC-JOB-CREATED")),{cargo:l,packages:o}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),getPendingPickups:cc,getAllHbl:lc,getCargo:function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/customer-api/cargo/get-by-id/".concat(t,"?branch=").concat(Object(He.d)().branch,"&contact=").concat(rc())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCargoByHbl:function(){var e=Object(H.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.c)("/v1/customer-api/cargo/get-by-hbl?hbl=".concat(t,"&branch=").concat(a||Object(He.d)().branch,"&contact=").concat(rc())));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteCargo:function(){var e=Object(H.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(xt.a)("/v1/customer-api/cargo/delete-many".concat(Object(nc.a)("DELETE-CARGO"),"&branch=").concat(Object(He.d)().branch,"&contact=").concat(rc()),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},uc=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"driverId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"loadingId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"dispatchedId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"Cargo Mode",name:"cargoMode",options:{viewColumns:!1,filter:!0,sort:!1,display:!1}},{label:"Delivery Type",name:"deliveryType",options:{viewColumns:!1,filter:!0,sort:!1,display:!1}},{name:"now",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"deleted",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return t.rowData[7]?r.a.createElement(Br.a,{color:"secondary",variant:"dot"},r.a.createElement("b",null,e||"REF"+t.rowData[0])):r.a.createElement("b",null,e||"REF"+t.rowData[0])}}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{label:"Status",name:"fetched",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){var a=hr(e,t.rowData[1],t.rowData[2],t.rowData[3],t.rowData[8]);return r.a.createElement(be.a,{label:a,style:{color:"white",backgroundColor:w.a.shades.green}})}}},{name:"address",label:"Address",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"contact",label:"Contact",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"slAddress",label:"Address Consignee",options:{viewColumns:!0,filter:!1,sort:!1}}],sc=function(e){var t=e.searchFields,a=e.setOverlayDetail,n=e.changedHbl,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState(!1),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState([]),d=Object(W.a)(s,2),m=d[0],p=d[1];r.a.useEffect((function(){(p([]),t.hbl)?(u(!0),(Ae.a.pickup_customer===Object(He.d)().type?t.hbl.toLowerCase().startsWith("ref")?ic.getCargo:ic.getCargoByHbl:t.hbl.toLowerCase().startsWith("ref")?dn.a.getCargo:dn.a.getCargoByHbl)(t.hbl.toLowerCase().replace("ref",""),t.branch).then((function(e){if(e.cargo.branch===Object(He.d)().branch||e.cargo.destination===Object(He.d)().branch){var t=Kt()().format("YYYY-MM-DD"),a=Kt()().format("HH"),n=Object(k.a)(Object(k.a)({},e.cargo),{},{date:e.cargo.pickupDate+" "+e.cargo.pickupTime,name:zr(e.cargo.name,15),address:zr(e.cargo.address,20),slName:zr(e.cargo.slName,15),slAddress:zr(e.cargo.slAddress,20),now:e.cargo.createdDate===t&&e.cargo.createdTime.startsWith(a)});p([n])}})).catch((function(e){c("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))):t.like&&(u(!0),dn.a.getAllHblLike(t.like,t.branch).then((function(e){var t=Kt()().format("YYYY-MM-DD"),a=Kt()().format("HH"),n=Object(_t.map)(e,(function(e){return Object(k.a)(Object(k.a)({},e),{},{date:e.pickupDate+" "+e.pickupTime,name:zr(e.name,15),address:zr(e.address,20),slName:zr(e.slName,15),slAddress:zr(e.slAddress,20),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));p(n)})).catch((function(e){console.log(e),c("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)})))}),[c,n]);var f=[].concat(Object(We.a)(uc),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{title:"View",icon:r.a.createElement(ar.a,null),onClick:function(){a({id:t.rowData[0]})}}))}}},{name:"branch",label:"From",options:{viewColumns:!0,filter:!1,sort:!1,display:Ae.a.delivery}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:i}),r.a.createElement(Va,{data:m,columns:f,filter:!1,noDownload:!0,noSearch:!0}))))},dc=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState(0),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState({hbl:"",like:"",branch:Object(He.d)().branch||""}),d=Object(W.a)(s,2),m=d[0],p=d[1],b=r.a.useState(!1),f=Object(W.a)(b,2),g=f[0],h=f[1],v=function(e){p(Object(k.a)(Object(k.a)({},m),{},Object(U.a)({},e.target.name,e.target.value)))},E=function(e){13===e.keyCode&&u(i+1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:kn.a,size:4,title:"HBL Status",subtitle:"Cargo/Job"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:15,paddingTop:10}},"delivery"===Object(He.d)().type&&r.a.createElement(N.v,{size:2,label:"Branch",name:"branch",values:Ke(),style:{alignSelf:"flex-start"},value:m.branch,onChange:v}),r.a.createElement(N.C,{size:3,label:"Partial search",name:"like",onKeyDown:E,helperText:"Shipper or consignee name | Last 3 months",value:m.like,onChange:v,autoFocus:!0}),r.a.createElement(N.C,{size:3,label:"HBL/JOB",name:"hbl",onKeyDown:E,helperText:"For HBL: 12345 | |  For JOB: REF12345",value:m.hbl,onChange:v,autoFocus:!0}),r.a.createElement(te.a,{endIcon:r.a.createElement(Hr.a,null),color:"primary",variant:"outlined",size:"medium",onClick:function(){return u(i+1)},style:{marginTop:16,alignSelf:"baseline"}},m.hbl.toLowerCase().startsWith("ref")?"JOB":"HBL")))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,null,r.a.createElement(sc,{changed:n,setChanged:c,changedHbl:i,searchFields:m,setOverlayDetail:h})))),r.a.createElement(N.g,{open:g,width:"lg",content:g.id?r.a.createElement(Cr,{overlayDetail:g,setOverlayDetail:h}):r.a.createElement(r.a.Fragment,null)}))},mc=a(439),pc=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"now",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"Reference",name:"_id",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return t.rowData[2]?r.a.createElement(Br.a,{color:"secondary",variant:"dot"},r.a.createElement("b",null,e)):r.a.createElement("b",null,e)}}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return t.rowData[12]?r.a.createElement(be.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}}):r.a.createElement(be.a,{label:e})}}},{label:"Zone",name:"pickupArea",options:{viewColumns:!0,display:!1,filter:!0,sort:!0,customBodyRender:function(e,t){if(e)return r.a.createElement(be.a,{label:e})}}},{name:"address",label:"Address",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"contact",label:"Contact",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"createdDate",label:"Created Date",options:{viewColumns:!0,display:!1,filter:!1,sort:!0}},{name:"date",label:"Pickup Date",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"note",label:"Note",options:{viewColumns:!0,display:!0,filter:!1,sort:!1}},{name:"cargoMode",label:"Cargo Mode",options:{viewColumns:!0,filter:!0,sort:!1,display:!0}},{name:"driverName",label:"Driver",options:{viewColumns:!0,filter:!1,sort:!0,customBodyRender:function(e,t){return e?r.a.createElement(be.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}}):""}}},{name:"auth",label:"Auth",options:{viewColumns:!0,display:!1,filter:!0,sort:!0}}],bc=a(744),fc=a(468),gc=a.n(fc),hc=r.a.memo((function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=e.setChanged,l=e.setOverlayType,o=Object(b.useSnackbar)().enqueueSnackbar,i=Object(f.useDialog)(),u=Object(N.F)(),s=Object(N.E)(),d=r.a.useState(!1),m=Object(W.a)(d,2),p=m[0],g=m[1],h=r.a.useState([]),v=Object(W.a)(h,2),E=v[0],y=v[1],O=r.a.useState([]),j=Object(W.a)(O,2),D=j[0],C=j[1],x=r.a.useState([]),S=Object(W.a)(x,2),T=S[0],Y=S[1],M=r.a.useState({}),I=Object(W.a)(M,2),A=I[0],R=I[1],L=r.a.useState([]),B=Object(W.a)(L,2),z=B[0],P=B[1];r.a.useEffect((function(){a.startDate>a.endDate?o("Start-Date should not be after From-Date",{variant:"warning"}):(C([]),g(!0),(Object(He.d)().type===Ae.a.domestic?dn.a.getPendingDomestic:Object(He.d)().type===Ae.a.pickup_customer?ic.getPendingPickups:dn.a.getPendingPickups)(a).then((function(e){var t=Kt()().format("YYYY-MM-DD"),a=Kt()().format("HH"),n=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{_id:"REF"+e.id,date:Fn()(e,"pickupDate")+" "+Fn()(e,"pickupTime"),createdDate:Fn()(e,"createdDate")+" "+Fn()(e,"createdTime"),note:zr(e.note,25),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));y(n),H(null,n)})).catch((function(e){o("Could not fetch",{variant:"error"})})).finally((function(e){return g(!1)})))}),[o,t,a]),r.a.useEffect((function(){Object(He.d)().type!==Ae.a.pickup_customer&&Ta.getByBranch().then((function(e){Y(oa()(Object(_t.filter)(e,(function(e){return!e.deleted})),(function(e){return{value:e.id,label:e.username}})))})).catch((function(e){o("Could not fetch",{variant:"error"})}))}),[o]);var F=r.a.createElement(r.a.Fragment,null,Object(He.d)().type===Ae.a.pickup&&r.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",endIcon:r.a.createElement(Qt.a,null),style:{marginLeft:5},disabled:0===D.length,onClick:function(){u.confirm({title:"Select driver to assign",assigneeList:T,callback:function(e){g(!0);var a=Object(We.a)(D);C([]),y([]),dn.a.assignCargo(a,e).then((function(e){o("Assigned",{variant:"success"})})).catch((function(e){o("Could not Assign",{variant:"error"})})).finally((function(e){g(!1),c(t+1)}))}})}},"Assign Driver [ ",D.length," ]"),r.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",style:{marginLeft:5},disabled:0===D.length,onClick:function(){i.confirm(Object(N.d)("Delete "+D.length+" items","DELETE")).then((function(){g(!0);var e=Object(We.a)(D);y([]),C([]),(Object(He.d)().type===Ae.a.pickup_customer?ic.deleteCargo:dn.a.deleteCargo)(e).then((function(e){o("Deleted",{variant:"success"}),c(t+1)})).catch((function(e){o("Could not Delete",{variant:"error"})})).finally((function(e){return g(!1)}))}))},startIcon:r.a.createElement(Yn.a,null)},"[ ",D.length," ]"),r.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",style:{marginLeft:5},disabled:1!==D.length,onClick:function(){s.confirm({title:"Copy JOB - How many duplicates?",assigneeList:T,callback:function(e){g(!0),dn.a.getCargo(D[0]).then((function(a){var n=Object(k.a)({},a.cargo),r=Object(We.a)(a.packages);C([]),y([]),o("Copying in Progress! Thank you for waiting. This will take around 20 seconds",{variant:"warning"});var l=0,i=setInterval((function(){var a=l+1;l===+e?(g(!1),clearInterval(i)):(dn.a.addDomesticJob({fetched:-1,isDomestic:!0,cargoMode:"B2B",warehouseLocation:"B2B",deliveryType:"B2B",currency:"CAD",uuid:Math.random().toString(16).slice(2,10)+"-"+Math.random().toString(16).slice(2,10),slLocation:!1,name:n.name,address:n.address,contact:n.contact,slContact:n.slContact,slAddress:n.slAddress,slName:n.slName,slPpNo:n.slPpNo,ppNo:n.ppNo,note:n.note,amount:0,paid:0,amountSpec:"{}",amountSystem:"{}",pickupDate:n.pickupDate,pickupTime:n.pickupTime,createdDate:n.createdDate,createdTime:n.createdTime,auth:"Base_user",branch:n.branch},r).then((function(n){o("Cloned "+a+" of "+e+". Please refresh in 10 seconds.",{variant:"success"}),a===+e&&(g(!1),c(t+1),clearInterval(i))})).catch((function(e){o("Could not Clone",{variant:"error"})})),l++),console.log(l)}),600)})).catch((function(e){o("Could not fetch JOB",{variant:"error"}),g(!1)}))}})},startIcon:r.a.createElement(bc.a,null)},"[ ",D.length," ]")),H=function(e,t){C([]);var a=e?Object(k.a)(Object(k.a)({},A),{},Object(U.a)({},e.target.name,e.target.value)):A,n=Vr(e?E:t,a,"driverName");R(a),P(n)},G=[{name:"check",label:"  ",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,!p&&r.a.createElement(mc.a,{style:{padding:0,margin:0},onClick:function(e){e.target.checked?C([].concat(Object(We.a)(D),[t.rowData[1]])):C(Object(We.a)(D.filter((function(e){return e!==t.rowData[1]}))))}}))}}}].concat(Object(We.a)(pc),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{style:{paddingRight:0,marginRight:0},title:"View",icon:r.a.createElement(ar.a,null),onClick:function(){n({id:t.rowData[1]}),l("VIEW")}}),r.a.createElement(N.A,{style:{paddingRight:0,marginRight:0},title:"Edit",icon:r.a.createElement(Mn.a,null),onClick:function(){n({id:t.rowData[1]}),l("EDIT")}}))}}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:p}),r.a.createElement(Va,{data:z,columns:G,viewColumns:!0,title:F,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{paddingRight:30,marginLeft:-10,color:w.a.shades.main}},"Filters"),r.a.createElement(N.q,{label:"Total",value:gc()(E)}),r.a.createElement(N.w,{name:"driverName",label:"Driver",valueObjects:[{value:"",label:"All"}],values:Jr(E.map((function(e){return e.driverName}))),value:A.driverName,onChange:H,style:{marginLeft:5,width:120,minWidth:"120px !important"}}))},filter:!0}))))})),vc=a(469),Ec=a.n(vc),yc=function(e){var t=e.setOverlayDetail,a=e.setChanged,n=e.changed,c=e.overlayDetail,l=Object(b.useSnackbar)().enqueueSnackbar,o=r.a.useState({}),i=Object(W.a)(o,2),u=i[0],s=i[1],d=r.a.useState(!1),m=Object(W.a)(d,2),p=m[0],f=m[1],g=r.a.useState([]),h=Object(W.a)(g,2),v=h[0],E=h[1];r.a.useEffect((function(){void 0!==c.id&&(f(!0),dn.a.getCargo(c.id).then((function(e){var t=e.cargo||{};s(Object(k.a)(Object(k.a)({},t),{},{pickupDateTime:t.pickupDate&&Kt()(t.pickupDate+" "+t.pickupTime)}))})).catch((function(e){l("Could not fetch",{variant:"error"})})).finally((function(e){return f(!1)})))}),[l,c.id]),r.a.useEffect((function(){gn.get().then((function(e){E(Object(_t.map)(Object(_t.filter)(e,(function(e){return!e.deleted})),(function(e){return e.name})))})).catch((function(e){l("Could not fetch",{variant:"error"})}))}),[l]);var y=function(e){s(Object(k.a)(Object(k.a)({},u),{},Object(U.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.m,{title:"EDIT JOB",onClose:function(){return t(!1)}}),r.a.createElement(N.r,{loading:p}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:20}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"JOB BASIC DETAILS"}),r.a.createElement(sn.a,null,r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(N.v,{size:6,label:"Zone",name:"pickupArea",values:v,value:u.pickupArea,onChange:y}),u.pickupDateTime&&r.a.createElement(N.f,{size:6,label:"Pickup Date Time",name:"pickupDateTime",value:u.pickupDateTime,onChange:y})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:20,paddingBottom:20}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(vn.a,null),disabled:p,onClick:function(){return f(!0),void dn.a.editJob(c.id,u).then((function(e){l("Updated",{variant:"success"}),a(n+1),t(!1)})).catch((function(e){l("Could not Update",{variant:"error"})})).finally((function(e){return f(!1)}))}},"Edit Job")))),r.a.createElement(N.r,{loading:p})))))},Oc=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=e.setChanged,c=e.changed;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yc,{setChanged:n,changed:c,overlayDetail:t,setOverlayDetail:a}),r.a.createElement("div",{style:{padding:20}}))},jc=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState({startDate:Kt()().subtract(5,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(W.a)(s,2),m=d[0],p=d[1],b=r.a.useState(!1),f=Object(W.a)(b,2),g=f[0],h=f[1],v=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Ec.a,size:4,title:"Pending Pickups",subtitle:"Inquiry"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(N.e,{label:"From Date",name:"startDate",value:i.startDate,onChange:v}),r.a.createElement(N.e,{label:"To Date",name:"endDate",value:i.endDate,onChange:v}),r.a.createElement(te.a,{color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(N.a,{size:3,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().subtract(7,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().add(1,"d").format("YYYY-MM-DD"),endDate:Kt()().add(1,"d").format("YYYY-MM-DD")}))}],options:["One Week","Today","Tommorow"]})))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,null,r.a.createElement(hc,{changed:n,setChanged:c,searchFields:i,setOverlayDetail:p,setOverlayType:h})))),r.a.createElement(N.g,{open:m,width:"VIEW"===g?"lg":"sm",content:"VIEW"===g?r.a.createElement(Cr,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(Oc,{changed:n,setChanged:c,overlayDetail:m,setOverlayDetail:p})}))},Dc=[{label:"",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"hbl",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return r.a.createElement("b",null,e)}}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{name:"address",label:"Address",options:{viewColumns:!0,display:!1,filter:!1,sort:!0}},{name:"date",label:"Picked Date",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"totalWeight",label:"Weight",options:{viewColumns:!1,filter:!1,sort:!0,setCellProps:function(){return{align:"right"}}}},{name:"totalVolume",label:"Volume",options:{viewColumns:!1,filter:!1,sort:!0,setCellProps:function(){return{align:"right"}}}},{name:"amount",label:"Amount",options:{viewColumns:!1,filter:!1,sort:!0,setCellProps:function(){return{align:"right"}},customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}})}}},{name:"paid",label:"Paid",options:{viewColumns:!1,filter:!1,sort:!0,setCellProps:function(){return{align:"right"}},customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}})}}},{name:"cargoMode",label:"Cargo Mode",options:{viewColumns:!0,filter:!0,sort:!0,setCellProps:function(){return{align:"center"}}}},{name:"driverName",label:"Driver",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"auth",label:"Source",options:{viewColumns:!0,filter:!1,sort:!1}}],wc=a(745),Cc=a(746),xc=function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=e.setChanged,l=e.setOverlayType,o=Object(b.useSnackbar)().enqueueSnackbar,i=Object(f.useDialog)(),u=r.a.useState(!1),s=Object(W.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),g=Object(W.a)(p,2),h=g[0],v=g[1],E=r.a.useState([]),y=Object(W.a)(E,2),O=y[0],j=y[1],D=r.a.useState({}),w=Object(W.a)(D,2),C=w[0],x=w[1],S=r.a.useState({}),T=Object(W.a)(S,2),Y=T[0],M=T[1],I=r.a.useState([]),A=Object(W.a)(I,2),R=A[0],L=A[1];r.a.useEffect((function(){a.startDate>a.endDate?o("Start-Date should not be after From-Date",{variant:"warning"}):(j([]),m(!0),dn.a.getCashSettlements(a).then((function(e){var t=Object(_t.orderBy)(e,"driverName").map((function(e){return Object(k.a)(Object(k.a)({},e),{},{totalVolume:Object(Fa.g)({volume:e.totalVolume}),totalWeight:Object(Fa.b)(e.totalWeight),name:zr(e.name,15),address:zr(e.address,30),date:Fn()(e,"pickedUpDate")+" "+Fn()(e,"pickedUpTime"),issue:Fn()(e,"amountSpec",0)===Fn()(e,"amountSpecDummy",1)?"":"Yes"})}));v(t),B(null,t)})).catch((function(e){o("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)})))}),[o,t,a]);var B=function(e,t){j([]);var a=e?Object(k.a)(Object(k.a)({},Y),{},Object(U.a)({},e.target.name,e.target.value)):Y,n=Vr(e?h:t,a,"driverName"),r=Vr(n,a,"cargoMode"),c=Vr(r,a,"deliveryType"),l=Vr(c,a,"auth");M(a),L(l),z(l)},z=function(e){var t=Math.round(10*qr(e,"paid"))/10,a=Math.round(10*qr(e,"cash"))/10;x({paid:t,cash:a})},P=r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",endIcon:r.a.createElement(wc.a,null),style:{marginLeft:5},disabled:0===O.length,onClick:function(){var e=Object(_t.reduce)(O,(function(e,t){var a=R.find((function(e){return e.id===t}));return[].concat(Object(We.a)(e),[a.driverName])}),[]);1===new Set(e).size?i.confirm(Object(N.d)("Cash Receive "+O.length+" item(s)","RECEIVE")).then((function(){m(!0);var a=Object(We.a)(O);L([]),j([]),dn.a.receiveCashCargo(a,e[0]).then((function(e){o("Cash Received",{variant:"success"}),j([]),c(t+1)})).catch((function(e){o("Could not Cash Receive",{variant:"error"})})).finally((function(e){return m(!1)}))})):o("All selected should be same driver",{variant:"warning"})}},"Cash Received [ ",O.length," ]"),r.a.createElement(N.q,{label:"Total Paid",value:Fn()(C,"paid")})),F=[{name:"check",label:"  ",empty:!0,options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,!d&&r.a.createElement(mc.a,{style:{padding:0,margin:0},onClick:function(e){e.target.checked?j([].concat(Object(We.a)(O),[t.rowData[1]])):j(Object(We.a)(O.filter((function(e){return e!==t.rowData[1]}))))}}))}}}].concat(Object(We.a)(Dc),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{style:{padding:0,margin:0},title:"View",icon:r.a.createElement(ar.a,null),onClick:function(){n({id:t.rowData[1]}),l("VIEW")}}),r.a.createElement(N.A,{style:{padding:5,margin:0},title:"Edit Payment",icon:r.a.createElement(Cc.a,null),onClick:function(){n({id:t.rowData[1]}),l("EDIT_PAYMENT")}}))}}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:d}),r.a.createElement(Va,{data:R,columns:F,filter:!1,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.w,{name:"driverName",label:"Driver",valueObjects:[{value:"",label:"All"}],values:Jr(h.map((function(e){return e.driverName}))),value:Y.driverName,onChange:B,style:{width:110,minWidth:"110px !important"}}),r.a.createElement(N.w,{name:"auth",label:"Officer",valueObjects:[{value:"",label:"All"}],values:Jr(h.map((function(e){return e.auth}))),value:Y.auth,onChange:B,style:{marginLeft:5,width:110,minWidth:"110px !important"}}),r.a.createElement(N.w,{name:"cargoMode",label:"Cargo Mode",valueObjects:[{value:"",label:"All"}],values:Jr(h.map((function(e){return e.cargoMode}))),value:Y.cargoMode,onChange:B,style:{marginLeft:5,width:120,minWidth:"120px !important"}}),r.a.createElement(N.w,{name:"deliveryType",label:"Delivery Type",valueObjects:[{value:"",label:"All"}],values:Jr(h.map((function(e){return e.deliveryType}))),value:Y.deliveryType,onChange:B,style:{marginLeft:5,width:120,minWidth:"120px !important"}}))},title:P,viewColumns:!0}))))},kc=[{label:"ID",name:"id",options:{display:!1}},{label:"quantity",name:"quantity",options:{display:!1}},{label:"Weight",name:"weight",options:{display:!1}},{label:"Height",name:"height",options:{display:!1}},{label:"Width",name:"breadth",options:{display:!1}},{label:"Length",name:"length",options:{display:!1}}],Sc=function(e){var t=e.setOverlayDetail,a=e.packages,n=e.setChanged,c=e.changed,l=e.showActions,o=Object(f.useDialog)(),i=Object(b.useSnackbar)().enqueueSnackbar,u=r.a.useState(!1),s=Object(W.a)(u,2),d=s[0],m=s[1],p=[].concat(Object(We.a)(kc),[{name:"type",label:"",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{label:e}),r.a.createElement("br",null),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:{padding:0,margin:0},onClick:function(){return e=a.rowData[0],t=a.rowData[1],void o.confirm(Object(N.d)("Delete "+t,"DELETE")).then((function(){m(!0),Yr.remove(e).then((function(e){n(c+1)})).catch((function(e){i("Could not Delete",{variant:"error"})})).finally((function(e){return m(!1)}))}));var e,t}},r.a.createElement(Yn.a,null)),r.a.createElement(y.a,{onClick:function(){return t({id:a.rowData[0]})}},r.a.createElement(Mn.a,null))))}}},{label:"Details",name:"field",options:{setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,"Q:"+t.rowData[1]+" W:"+t.rowData[2],r.a.createElement("br",null),"H"+t.rowData[3]+" B"+t.rowData[4]+" L"+t.rowData[5],r.a.createElement("br",null))}}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:d}),a.length>0&&r.a.createElement(Va,{data:a,columns:p,minified:!0}))))},Tc=a(438),Yc=function(e){var t=e.packages,a=e.cargo,n=e.weight,c=e.volume,l=e.paid,o=e.setPaid,i=e.amount,u=e.setAmount,s=e.setAmountSystem,d=function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,""),a=100*Object(He.b)(Object(He.d)().branch).vat;if("BOX CHARGES"===e.target.name){var n=i.map((function(a){return"BOX CHARGES"===a.costType?Object(k.a)(Object(k.a)({},a),{},{costType:e.target.name,amount:t}):a})).map((function(e){return e.costType==="BOX VAT "+a+"%"?Object(k.a)(Object(k.a)({},e),{},{costType:"BOX VAT "+a+"%",amount:Object(Fa.b)(+(t||0)*Object(He.b)(Object(He.d)().branch).vat)}):e}));u(n)}else{var r=i.map((function(a){return a.costType===e.target.name?Object(k.a)(Object(k.a)({},a),{},{costType:e.target.name,amount:t}):a}));u(r)}};return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{container:!0,spacing:2,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(X.a,{item:!0,md:12,style:{paddingTop:15,paddingBottom:5}},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(wc.a,null),disabled:0===t.length,onClick:function(e){var t=Object(Tc.a)(a.cargoMode,a.deliveryType,n,c,a.warehouseLocation);u(t),s(t)}},i?"Re-Calculate":"Calculate")),i&&r.a.createElement(r.a.Fragment,null,oa()(i,(function(e){return r.a.createElement(X.a,{container:!0,spacing:2,md:12,justify:"space-between",style:{paddingLeft:20}},r.a.createElement(X.a,{md:6},r.a.createElement(Q.a,{style:{paddingTop:20}},e.costType)),r.a.createElement(N.C,{size:6,label:e.costType,name:e.costType,disabled:!e.editable,value:e.amount,onChange:d}))})),r.a.createElement("hr",{style:{marginLeft:10,marginTop:10,width:"100%"}}),r.a.createElement(X.a,{container:!0,spacing:2,md:12,justify:"space-between",style:{paddingLeft:20,paddingBottom:15}},r.a.createElement(X.a,{md:6},r.a.createElement(Q.a,{style:{paddingTop:20}},r.a.createElement("b",null,"GRAND TOTAL"))),r.a.createElement(X.a,{xs:6,justify:"center",style:{textAlign:"center"}},r.a.createElement(Q.a,{style:{textAlign:"center",paddingLeft:20,paddingTop:20,fontWeight:"bold"}},Object(Fa.a)(i)," ",Object(He.d)().currency))),r.a.createElement("hr",{style:{marginLeft:10,marginTop:10,width:"100%"}}),r.a.createElement(X.a,{container:!0,spacing:2,md:12,justify:"space-between",style:{paddingLeft:20}},r.a.createElement(N.p,{label:"Packages",value:t.length,size:4}),r.a.createElement(N.p,{label:"Weight",value:Object(Fa.b)(n),size:4}),r.a.createElement(N.p,{label:"Volume",value:Object(Fa.e)(c),size:4})),r.a.createElement("hr",{style:{marginLeft:10,marginTop:10,width:"100%"}}),r.a.createElement(X.a,{container:!0,spacing:2,sm:12,justify:"space-between",style:{paddingTop:20}},r.a.createElement(X.a,{sm:6}),r.a.createElement(X.a,{sm:6,style:{paddingLeft:20}},r.a.createElement(N.C,{size:12,label:"PAID AMOUNT",value:l,onChange:function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,"");o(t)}})))))))},Mc=function(e){var t=e.setOverlayDetail,a=e.overlayDetail,n=e.setChanged,c=e.changed,l=Object(b.useSnackbar)().enqueueSnackbar,o=Object(f.useDialog)(),i=r.a.useState([]),u=Object(W.a)(i,2),s=u[0],d=u[1],m=r.a.useState({}),p=Object(W.a)(m,2),g=p[0],h=p[1],v=r.a.useState(!1),E=Object(W.a)(v,2),y=E[0],O=E[1],j=r.a.useState(!1),D=Object(W.a)(j,2),w=D[0],C=D[1],x=r.a.useState(0),S=Object(W.a)(x,2),T=S[0],Y=S[1],M=r.a.useState(!1),I=Object(W.a)(M,2),A=I[0],R=I[1];r.a.useEffect((function(){a.id&&(R(!0),dn.a.getCargo(a.id).then((function(e){var t;Object(He.d)().branch!==e.cargo.branch&&l("You are not Authorized",{variant:"warning"}),h(Object(k.a)(Object(k.a)({},e.cargo),{},{pickupDateTime:Kt()(e.cargo.pickupDate+"T"+e.cargo.pickupTime+":00")})),d(e.packages||[]),Y(null===(t=e.cargo)||void 0===t?void 0:t.paid)})).catch((function(e){l("Could not fetch",{variant:"error"})})).finally((function(e){return R(!1)})))}),[l,a.id,R,d]);var L=function(){R(!0),dn.a.editHbl(a.id,Object(k.a)({},g),y,w,T,{pickedUpTime:g.pickedUpTime,pickedUpDate:g.pickedUpDate},"PAYMENT-EDIT").then((function(e){n(c+1),t(!1),l("Payments updated",{variant:"success"})})).catch((function(e){console.log(e),R(!1),l("Could not add payments",{variant:"error"})}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:A}),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PACKAGE DETAILS"}),r.a.createElement(sn.a,{style:{padding:0}},r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(X.a,{item:!0,xs:12},r.a.createElement(Sc,{setPackages:d,packages:s,setOverlayDetail:t}))))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(un.a,{defaultExpanded:!0},r.a.createElement(N.l,{title:"PAYMENT DETAILS"}),r.a.createElement(sn.a,{style:{padding:10}},r.a.createElement(X.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(Yc,{paid:T,setPaid:Y,weight:qt()(s,(function(e,t){return e+ +t.weight}),0),volume:qt()(s,(function(e,t){return e+Object(Fa.f)(t)}),0),amount:y,setAmount:O,setAmountSystem:C,cargo:g,packages:s})))))),r.a.createElement(X.a,{container:!0,spacing:0,style:{paddingTop:20}},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(X.a,{container:!0,style:{padding:10},spacing:1,alignContent:"space-between",alignItems:"space-between",justify:"space-between"},r.a.createElement(te.a,{variant:"contained",color:"primary",size:"medium",endIcon:r.a.createElement(wc.a,null),disabled:A||!y,onClick:function(){0===T?o.confirm(Object(N.d)("Continue? Paid amount is Zero","ALLOW ZERO PAID")).then((function(){L()})):L()}},"Update Payments")))),r.a.createElement(N.r,{loading:A})))))},Ic=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=e.changed,c=e.setChanged;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0,style:{marginTop:0}},r.a.createElement(gt.a,{style:{padding:0},title:r.a.createElement(N.m,{title:"EDIT HBL PAYMENTS",onClose:function(){return a(!1)}})}),r.a.createElement(vt.a,{style:{padding:0,paddingBottom:100}},r.a.createElement(ft.a,{style:{paddingTop:0}},r.a.createElement(Mc,{overlayDetail:t,setOverlayDetail:a,changed:n,setChanged:c}),r.a.createElement("div",{style:{padding:20}})))))},Ac=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState({startDate:Kt()().subtract(30,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(W.a)(s,2),m=d[0],p=d[1],b=r.a.useState(!1),f=Object(W.a)(b,2),g=f[0],h=f[1],v=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Se.a,size:4,title:"Cash Settlements",subtitle:"Inquiry"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(N.e,{label:"From Date",name:"startDate",value:i.startDate,onChange:v}),r.a.createElement(N.e,{label:"To Date",name:"endDate",value:i.endDate,onChange:v}),r.a.createElement(te.a,{color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(N.a,{size:3,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().subtract(30,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().add(-1,"d").format("YYYY-MM-DD"),endDate:Kt()().add(-1,"d").format("YYYY-MM-DD")}))}],options:["One Month","Today","Yesterday"]})))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,null,r.a.createElement(xc,{changed:n,setChanged:c,searchFields:i,setOverlayDetail:p,setOverlayType:h})))),r.a.createElement(N.g,{open:m,width:"VIEW"===g?"lg":"md",content:"VIEW"===g?r.a.createElement(Cr,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(Ic,{changed:n,setChanged:c,overlayDetail:m,setOverlayDetail:p})}))},Rc=[{label:"",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"",name:"memberId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"Name",name:"fullName",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e,size:"small"})}}},{name:"batchOl",label:"Batch O/L",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"date",label:"Paid Date",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"forNote",label:"Paid for",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"amount",label:"Amount",options:{viewColumns:!0,filter:!1,sort:!0,setCellProps:function(){return{align:"right"}},customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e,size:"small",style:{color:"white",backgroundColor:w.a.shades.green}})}}}],Lc=function(e){var t=e.changed,a=e.searchFields,n=(e.setOverlayDetail,e.setChanged,Object(b.useSnackbar)().enqueueSnackbar),c=(Object(f.useDialog)(),Object(N.F)(),r.a.useState(!1)),l=Object(W.a)(c,2),o=l[0],i=l[1],u=r.a.useState([]),s=Object(W.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),g=Object(W.a)(p,2),h=g[0],v=g[1],E=r.a.useState({}),y=Object(W.a)(E,2),O=y[0],j=y[1],D=r.a.useState({}),w=Object(W.a)(D,2),C=w[0],x=w[1],S=r.a.useState([]),T=Object(W.a)(S,2),Y=T[0],M=T[1],I=r.a.useState([]),A=Object(W.a)(I,2);A[0],A[1];r.a.useEffect((function(){a.startDate>a.endDate?n("Start-Date should not be after From-Date",{variant:"warning"}):(i(!0),Kn.get(a).then((function(e){var t=e.map((function(e){var t;return Object(k.a)(Object(k.a)({},e),{},{amountRaw:e.amount,amount:null===(t=+e.amount)||void 0===t?void 0:t.toLocaleString()})}));m(t),R(null,t)})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return i(!1)})))}),[n,t,a]);var R=function(e,t){v([]);var a=e?Object(k.a)(Object(k.a)({},C),{},Object(U.a)({},e.target.name,e.target.value)):C,n=Vr(e?d:t,a,"batchOl");x(a),M(n),L(n)},L=function(e){var t,a=Object(_t.size)(e),n=(null===(t=Object(Fa.e)(qr(e,"amountRaw")))||void 0===t?void 0:t.toLocaleString())+"/=";j({SUM:n,TOTAL:a})},B=r.a.createElement(r.a.Fragment,null,r.a.createElement(N.q,{label:"SUM",value:Fn()(O,"SUM")}),r.a.createElement(N.q,{label:"TNX",value:Fn()(O,"TOTAL")})),z=[{name:"check",label:"  ",options:{display:!1,viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mc.a,{style:{padding:0,margin:0},onClick:function(e){e.target.checked?v([].concat(Object(We.a)(h),[t.rowData[1]])):v(Object(We.a)(h.filter((function(e){return e!==t.rowData[1]}))))}}))}}}].concat(Object(We.a)(Rc),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,!1)}}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:o}),r.a.createElement(Va,{data:Y,columns:z,filter:!1,noDownload:!1,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.w,{name:"batchOl",label:"Batch O/L",valueObjects:[{value:"",label:"All"}],values:Jr(d.map((function(e){return e.batchOl}))),value:C.batchOl,onChange:R,style:{width:120,minWidth:"120px !important"}}))},title:B}))))},Bc=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState({startDate:Kt()().subtract(15,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(W.a)(s,2),m=d[0],p=d[1],b=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Se.a,size:4,title:"Subscriptions",subtitle:"Financials"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(N.e,{label:"From Date",name:"startDate",value:i.startDate,onChange:b}),r.a.createElement(N.e,{label:"To Date",name:"endDate",value:i.endDate,onChange:b}),r.a.createElement(te.a,{color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(N.a,{size:3,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().subtract(30,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().subtract(7,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().add(-1,"d").format("YYYY-MM-DD"),endDate:Kt()().add(-1,"d").format("YYYY-MM-DD")}))}],options:["One Month","Week","Today","Yesterday"]})))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,null,r.a.createElement(Lc,{changed:n,setChanged:c,searchFields:i,setOverlayDetail:p})))),r.a.createElement(N.g,{open:m,width:"lg",content:m.id?r.a.createElement(Cr,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},Nc=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement("b",null,e||"REF"+t.rowData[0])}}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(be.a,{label:e})}}},{name:"address",label:"Address",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"date",label:"Pickup Date/Time",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"cargoMode",label:"Cargo Mode",options:{viewColumns:!0,filter:!0,sort:!1}},{name:"driverName",label:"Driver",options:{viewColumns:!0,filter:!0,sort:!1}}],zc=a(747),Pc=function(e){var t=e.setChanged,a=e.changed,n=e.searchFields,c=e.setOverlayDetail,l=Object(b.useSnackbar)().enqueueSnackbar,o=Object(f.useDialog)(),i=r.a.useState(!1),u=Object(W.a)(i,2),s=u[0],d=u[1],m=r.a.useState([]),p=Object(W.a)(m,2),g=p[0],h=p[1];r.a.useEffect((function(){n.startDate>n.endDate?l("Start-Date should not be after From-Date",{variant:"warning"}):(d(!0),dn.a.getDeletedCargo(n).then((function(e){var t=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{date:Fn()(e,"pickupDate")+" "+Fn()(e,"pickupTime")})}));h(t)})).catch((function(e){l("Could not fetch",{variant:"error"})})).finally((function(e){return d(!1)})))}),[l,a,n]);var v=[].concat(Object(We.a)(Nc),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.A,{title:"View",icon:r.a.createElement(ar.a,null),onClick:function(){c({id:n.rowData[0]})}}),r.a.createElement(N.A,{title:"Undo Delete",icon:r.a.createElement(zc.a,null),onClick:function(){!function(e){var n=e.id;o.confirm(Object(N.d)("Undo Delete 1 item","UNDO DELETE")).then((function(){d(!0),dn.a.undoDeleteCargo(n).then((function(e){l("Deleted Restored",{variant:"success"}),t(a+1)})).catch((function(e){l("Could not Restore",{variant:"error"})})).finally((function(e){return d(!1)}))}))}({id:n.rowData[0]})}}))}}}]);return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:s}),r.a.createElement(Va,{data:g,columns:v,filter:!0}))))},Fc=a(332),Hc=a.n(Fc),Wc=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState({startDate:Kt()().subtract(15,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(W.a)(s,2),m=d[0],p=d[1],b=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:Hc.a,size:4,title:"Cancelled HBLs",subtitle:"MoveWorlde - Inquiry"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(N.e,{label:"From Date",name:"startDate",value:i.startDate,onChange:b}),r.a.createElement(N.e,{label:"To Date",name:"endDate",value:i.endDate,onChange:b}),r.a.createElement(te.a,{color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search")))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,null,r.a.createElement(Pc,{changed:n,setChanged:c,searchFields:i,setOverlayDetail:p})))),r.a.createElement(N.g,{open:m,width:"lg",content:m.id?r.a.createElement(Cr,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},Uc=r.a.lazy((function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,1501))})),Gc=function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading PDF All Library...")},r.a.createElement(Uc,e))},qc=r.a.lazy((function(){return Promise.all([a.e(8),a.e(7)]).then(a.bind(null,1500))})),Vc=function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading PDF/EXCEL/IMAGE Library...")},r.a.createElement(qc,e))},Jc={get:function(){var e=Object(H.a)(F.a.mark((function e(t){var a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(a=t.startDate)||void 0===a?void 0:a.split(" "),e.abrupt("return",Object(xt.c)("/v1/location/get?username=".concat(t.id,"&date=").concat(n[0].split("-").join("_"),"&startTime=").concat(n[1],"&branch=").concat(Object(He.d)().branch)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function Kc(){var e=Object(En.a)(["\n    &:hover {\n        width: 42px;\n        height: 41px;\n        font-size: 35px;     \n        text-shadow: 0px 0px 15px ",";\n        z-index: 10;\n    }\n    position: absolute;\n    width: 38px;\n    height: 37px;\n    background-image: ",";\n    filter: ",";\n    background-size: contain;\n    text-align: center;\n    text-shadow: 1px 1px #ffffff;\n    background-repeat: no-repeat;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-transform: translate(-50%,-50%);\n    -ms-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    cursor: grab;\n"]);return Kc=function(){return e},e}var _c=On.a.div(Kc(),w.a.shades.main,(function(e){return"url(/app/images/a"+("LAST"===e.text?8:e.direction)+".png)"}),(function(e){return"grayscale(".concat(1-e.order/e.total,")")})),Zc=function(e){var t=e.direction,a=e.text,n=e.total,c=e.order,l=e.onClick;return r.a.createElement(_c,{total:n,direction:t,order:c,alt:a,onClick:l},a,"[",c,"]",r.a.createElement("br",null))};Zc.defaultProps={onClick:null};var Xc=Zc;function Qc(){var e=Object(En.a)(["\n  width: 100%;\n  height: 80vh;\n"]);return Qc=function(){return e},e}var $c=On.a.main(Qc()),el=function(e){var t=e.path,a=e.coordinates,n=e.zoom,c=r.a.useState({mapApiLoaded:!1,mapInstance:null,mapApi:null,geoCoder:null,places:[],center:[a.lat,a.lng],zoom:n,address:"",draggable:!0,lat:a.lat,lng:a.lng}),l=Object(W.a)(c,2),o=l[0],i=l[1];r.a.useEffect((function(){i({draggable:!0,zoom:n,center:[0,e.coordinates.lng],lat:0,lng:e.coordinates.lng}),setTimeout((function(){console.log("timeoout"),i({draggable:!0,zoom:n,center:[e.coordinates.lat,e.coordinates.lng],lat:e.coordinates.lat,lng:e.coordinates.lng})}),150)}),[e.coordinates,n]);var u=function(e,a){(function(e){var t=[],a=[];return e.forEach((function(n,r){0===a.length||n.timestamp-e[r-1].timestamp<1800?a.push(n):(t.push(Object(We.a)(a)),a=[])})),t})(t).forEach((function(t){new a.Polyline({path:t,geodesic:!0,strokeColor:w.a.shades.main,strokeOpacity:.5,strokeWeight:2}).setMap(e)})),i(Object(k.a)(Object(k.a)({},o),{},{mapApiLoaded:!0,mapInstance:e,mapApi:a}))};return console.log(o.lat,o.lng),r.a.createElement($c,null,r.a.createElement(yn.a,{center:o.center,zoom:o.zoom,draggable:o.draggable,onChange:function(e){var t=e.center,a=e.zoom;i(Object(k.a)(Object(k.a)({},o),{},{center:t,zoom:a}))},onChildClick:function(){return console.log("child click")},bootstrapURLKeys:{key:Cn,libraries:[]},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,a=e.maps;return u(t,a)}},t.map((function(e,a){return r.a.createElement(Xc,{order:a,direction:e.direction,total:t.length,text:e.date,lat:e.lat,lng:e.lng})})),r.a.createElement(Xc,{order:0,total:1,text:"LAST",lat:a.lat+2e-4,lng:a.lng+1e-4})))},tl=function(e,t){var a=Object(_t.orderBy)(e,["date"]),n=[];a.forEach((function(e,t){if(t!==a.length-1){var r=a[t+1].lat-e.lat,c=a[t+1].lng-e.lng;if(r<2e-4&&c<2e-4)return!1;r<.001&&c<.001?(n.push(e),n.push(Object(k.a)(Object(k.a)({},e),{},{lat:e.lat+r/2,lng:e.lng+c/2}))):n.push(e)}else n.push(e)}));return n.map((function(e,t){var a=8;if(t!==n.length-1){var r=n[t+1].lat-e.lat,c=n[t+1].lng-e.lng;if(0===c)a=r>0?2:6;else{var l=Math.abs(r)/Math.abs(c);a=c>0&&r>0?l<.414?0:l>2.414?2:1:c<0&&r>0?l<.414?4:l>2.414?2:3:c>0&&r<0?l<.414?0:l>2.414?6:7:l<.414?4:l>2.414?6:5}}var o=Kt()(1e3*e.date).format("HH:mm"),i=Kt()(1e3*e.date).format("yyyy-MM-DD");return Object(k.a)(Object(k.a)({},e),{},{timestamp:e.date,date:o,dateTime:i,direction:a})})).filter((function(e){return e.dateTime===t}))},al=function(e){var t=e.changed,a=e.searchFields,n=e.trackSelectedHour,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState(!1),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState(11),d=Object(W.a)(s,2),m=d[0],p=d[1],f=r.a.useState({lat:25.274,lng:51.295}),g=Object(W.a)(f,2),h=g[0],v=g[1],E=r.a.useState(tl({})),y=Object(W.a)(E,2),O=y[0],j=y[1];return r.a.useEffect((function(){u(!0),Jc.get(a).then((function(e){var t,n=function(e){var t=[];for(var a in e)if(e.hasOwnProperty(a)){var n=e[a].split(",");t.push({date:+a,lat:+n[0],lng:+n[1]})}return t}(e);n.length>0&&v({lat:n[0].lat,lng:n[0].lng});var r=tl(n,null===(t=a.startDate.split(" "))||void 0===t?void 0:t[0]);r.length>0?(v(r[r.length-1]),j(r)):j([])})).catch((function(e){c("Could not Fetch",{variant:"error"})})).finally((function(e){return u(!1)}))}),[c,t,a]),r.a.useEffect((function(){if(!isNaN(n)&&0!==O.length){var e=O.filter((function(e){return e.date<(n<10?"0"+n:n)+":59"}));e.length>0?(p(17),v(O[e.length-1])):v(O[0])}}),[n,O]),r.a.createElement("div",null,r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(N.r,{loading:i}),O.length>0&&!i&&r.a.createElement(el,{zoom:m,path:O,coordinates:h,setCoordinates:v}),0===O.length&&!i&&r.a.createElement("div",{style:{padding:20}},"No tracking data"))))},nl=a(748),rl=["Day before","Yesterday","Today"],cl=function(e){var t,a,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState(0),l=Object(W.a)(c,2),o=l[0],i=l[1],u=r.a.useState(0),s=Object(W.a)(u,1)[0],d=r.a.useState(24),m=Object(W.a)(d,1)[0],p=r.a.useState(),f=Object(W.a)(p,2),g=f[0],h=f[1],v=r.a.useState([]),E=Object(W.a)(v,2),y=E[0],O=E[1],j=r.a.useState([]),D=Object(W.a)(j,2),w=D[0],C=D[1],x=r.a.useState({id:"",startDate:Kt()().subtract(0,"d").format("YYYY-MM-DD HH:mm"),timeFrame:rl[2]}),S=Object(W.a)(x,2),T=S[0],Y=S[1];return r.a.useEffect((function(){Ta.getByBranch().then((function(e){O(Object(_t.filter)(e,(function(e){return!e.deleted}))),C(Object(_t.map)(Object(_t.filter)(e,(function(e){return!e.deleted})),(function(e){return{value:e.username,label:e.username}})))})).catch((function(e){n("Could not fetch",{variant:"error"})}))}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:nl.a,size:2,title:"Manage Drivers",subtitle:"MoveWorlde Tracking"}),r.a.createElement(X.a,{item:!0,md:6},r.a.createElement(N.x,{shiftStart:+(null===(t=y.find((function(e){return e.username===T.id})))||void 0===t?void 0:t.shiftStart)||14,shiftEnd:+(null===(a=y.find((function(e){return e.username===T.id})))||void 0===a?void 0:a.shiftEnd)||2,setTrackSelectedHour:h,trackStartHour:s,trackEndHour:m})),r.a.createElement(X.a,{container:!0,md:4,justify:"flex-end",alignContent:"center",alignItems:"center"},r.a.createElement(N.v,{size:4,label:"Driver",name:"id",valueObjects:w,value:T.id,onChange:function(e){Y(Object(k.a)(Object(k.a)({},T),{},Object(U.a)({},e.target.name,e.target.value)))}}),r.a.createElement(ht.a,{color:"primary",style:{marginLeft:10,marginTop:2}},rl.map((function(e){return r.a.createElement(te.a,{size:"small",style:{height:35},variant:e===T.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===rl[0]?t=Kt()().subtract(2,"d").format("YYYY-MM-DD HH:mm"):e===rl[1]?t=Kt()().subtract(1,"d").format("YYYY-MM-DD HH:mm"):e===rl[2]&&(t=Kt()().subtract(0,"d").format("YYYY-MM-DD HH:mm")),Y(Object(k.a)(Object(k.a)({},T),{},{timeFrame:e,startDate:t})),i(o+1)}(e)}},e)})))))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,null,T.id&&r.a.createElement(al,{trackSelectedHour:g,changed:o,setChanged:i,searchFields:T})))))},ll=function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState(!1),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState([]),d=Object(W.a)(s,2),m=d[0],p=d[1],f=r.a.useState([]),g=Object(W.a)(f,2),h=g[0],v=g[1],E=r.a.useState([]),y=Object(W.a)(E,2),O=y[0],j=y[1],D=r.a.useState([]),C=Object(W.a)(D,2),x=C[0],S=C[1];r.a.useEffect((function(){0!==t&&(a.startDate>a.endDate?c("Start-Date should not be after From-Date",{variant:"warning"}):(u(!0),p([{},{}]),j([{}]),S([{},{},{},{}]),ic.getAllHbl({startDate:a.startDate,endDate:a.endDate}).then((function(e){p([]),v([]),j([]),S([]);var t=Kt()().format("YYYY-MM-DD"),a=Kt()().format("HH"),n=Object(_t.groupBy)(e,(function(e){return(e.driverId?"y":"n")+e.fetched}));Object(_t.forOwn)(n,(function(e,n){if("n-1"===n){var r=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{address:zr(e.address,19),slAddress:zr(e.slAddress,19),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));p(r)}else if("y-1"===n){var c=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{address:zr(e.address,19),slAddress:zr(e.slAddress,19),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));v(c)}else if("y12"===n){var l=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{address:zr(e.address,19),slAddress:zr(e.slAddress,19),now:e.pickedUpDate===t&&e.pickedUpTime.startsWith(a)})}));j(l)}else if("y42"===n){var o=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{address:zr(e.address,19),slAddress:zr(e.slAddress,19),now:e.deliveredDate===t&&e.deliveredTime.startsWith(a)})}));S(o)}}))})).catch((function(e){p([]),v([]),j([]),S([]),c("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))))}),[c,t,a.startDate,a.endDate]);var T=function(e){return n({id:e})};return r.a.createElement("div",null,r.a.createElement(X.a,{container:!0,style:{paddingBottom:20}},r.a.createElement(X.a,{item:!0,md:12,lg:12},r.a.createElement(N.r,{loading:i})),!i&&m.length+h.length+O.length+x.length>0&&r.a.createElement(X.a,{container:!0,justify:"space-around",md:12,lg:12,style:{marginBottom:10}},r.a.createElement(N.k,{title:"Info Received ["+m.length+"]",subtitle:"Not assigned",style:{borderRight:"5px solid",borderLeft:"5px solid",paddingLeft:5,paddingRight:5,borderRadius:5}}),r.a.createElement(N.k,{title:"Driver assigned ["+h.length+"]",subtitle:"Not picked",style:{borderRight:"5px solid "+w.a.shades.main,borderLeft:"5px solid "+w.a.shades.main,paddingLeft:5,paddingRight:5,borderRadius:5}}),r.a.createElement(N.k,{title:"In Transit ["+O.length+"]",subtitle:"Not delivered",style:{borderRight:"5px solid "+w.a.secondary.main,borderLeft:"5px solid "+w.a.secondary.main,paddingLeft:5,paddingRight:5,borderRadius:5}}),r.a.createElement(N.k,{title:"Items Delivered ["+x.length+"]",subtitle:"Job Completed",style:{borderRight:"5px solid "+w.a.shades.green,borderLeft:"5px solid "+w.a.shades.green,paddingLeft:5,paddingRight:5,borderRadius:5}})),r.a.createElement(X.a,{item:!0,md:3,lg:3},m.map((function(e){return r.a.createElement(X.a,{item:!0,md:12,lg:12},r.a.createElement(N.c,{data:e,loading:i,onClick:T}))}))),r.a.createElement(X.a,{item:!0,md:3,lg:3},h.map((function(e){return r.a.createElement(X.a,{item:!0,md:12,lg:12},r.a.createElement(N.c,{data:e,loading:i,onClick:T,color:w.a.shades.main}))}))),r.a.createElement(X.a,{item:!0,md:3,lg:3},O.map((function(e){return r.a.createElement(X.a,{item:!0,md:12,lg:12},r.a.createElement(N.c,{data:e,loading:i,onClick:T,color:w.a.secondary.main}))}))),r.a.createElement(X.a,{item:!0,md:3,lg:3},x.map((function(e){return r.a.createElement(X.a,{item:!0,md:12,lg:12},r.a.createElement(N.c,{data:e,loading:i,onClick:T,color:w.a.shades.green}))})))))},ol=a(470),il=a.n(ol),ul=function(e){var t=r.a.useState(0),a=Object(W.a)(t,2),n=a[0],c=a[1],l=r.a.useState({hbl:"",startDate:Kt()().subtract(3,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")}),o=Object(W.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(W.a)(s,2),m=d[0],p=d[1],b=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{elevation:0},r.a.createElement(gt.a,{title:r.a.createElement(X.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(N.j,{Icon:il.a,size:2,title:"HBL/JOBs",subtitle:"Grid Overview"}),r.a.createElement(X.a,{container:!0,spacing:2,xs:10,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(N.e,{size:2,label:"From Date",name:"startDate",value:i.startDate,onChange:b}),r.a.createElement(N.e,{size:2,label:"To Date",name:"endDate",value:i.endDate,onChange:b}),r.a.createElement(te.a,{startIcon:r.a.createElement(Zr.a,null),color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(N.a,{size:2,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().subtract(7,"d").format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().format("YYYY-MM-DD"),endDate:Kt()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:Kt()().add(-1,"d").format("YYYY-MM-DD"),endDate:Kt()().add(-1,"d").format("YYYY-MM-DD")})),c(n+1)}],options:["One Week","Today","Yesterday"]})))}),r.a.createElement(vt.a,null,r.a.createElement(ft.a,null,r.a.createElement(ll,{changed:n,setChanged:c,history:e.history,searchFields:i,setOverlayDetail:p})))),r.a.createElement(N.g,{open:m,width:"lg",content:m.id?r.a.createElement(Cr,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},sl=[["Like waves, there could be rough days and smooth ones.","Like a ship, gracefully sail through both."],["Dont let fear stop you from reaching horizons.",""],["Your only limit is You",""],["When we strive to become better than we are","everything around us becomes better too"],["Either you run the day or the day runs you.",""],["",""]],dl=function(e){var t=Math.floor(Math.random()*sl.length),a=sl[t];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",height:"90vh",backgroundColor:"#fafafa",marginTop:-8}},r.a.createElement("div",{style:{position:"absolute",top:80,left:"40%",color:"#777",fontSize:20,fontFamily:"American Typewriter, serif"}},"You are doing great!"),r.a.createElement("div",{style:{position:"absolute",top:110,left:"40%",color:"#777"}},a[0]),r.a.createElement("div",{style:{position:"absolute",top:128,left:"40%",color:"#777"}},a[1]),r.a.createElement("iframe",{title:"relax-1",src:"../relax_dot.html",style:{border:"none",width:"100%",height:"100%"}})))},ml=function(){return r.a.createElement(z.d,null,r.a.createElement(z.a,{exact:!0,from:"/",to:"/dashboard"}),r.a.createElement(ut,{component:ca,path:"/dashboard",types:[Ae.a.pickup,Ae.a.delivery],exact:!0,layout:et}),r.a.createElement(ut,{component:Oa,path:"/efficiency",types:[Ae.a.pickup,Ae.a.delivery,Ae.a.domestic],exact:!0,layout:et}),r.a.createElement(ut,{component:Aa,path:"/batch-summary",types:[Ae.a.pickup,Ae.a.domestic],exact:!0,layout:et}),r.a.createElement(ut,{component:Pa,path:"/sales",types:[Ae.a.pickup,Ae.a.domestic],exact:!0,layout:et}),r.a.createElement(ut,{component:Qa,path:"/cross-branch",types:[Ae.a.pickup,Ae.a.delivery],exact:!0,layout:et}),r.a.createElement(ut,{component:cn,path:"/shipment-360",types:[Ae.a.pickup,Ae.a.delivery],exact:!0,layout:et}),r.a.createElement(ut,{component:xr,path:"/new-member",exact:!0,layout:et}),r.a.createElement(ut,{component:Lr,path:"/edit/:id",types:[Ae.a.pickup,Ae.a.domestic],exact:!0,layout:et}),r.a.createElement(ut,{component:Wr,path:"/search",types:[Ae.a.pickup,Ae.a.delivery,Ae.a.domestic],exact:!0,layout:et}),r.a.createElement(ut,{component:ac,path:"/reports",types:[Ae.a.domestic],exact:!0,layout:et}),r.a.createElement(ut,{component:ul,path:"/grid",types:[Ae.a.domestic],exact:!0,layout:et}),r.a.createElement(ut,{component:dc,path:"/cargo-status",types:[Ae.a.pickup,Ae.a.delivery,Ae.a.domestic,Ae.a.pickup_customer],exact:!0,layout:et}),r.a.createElement(ut,{component:jc,path:"/pending",exact:!0,layout:et}),r.a.createElement(ut,{component:Ac,path:"/cash-settlements",types:[Ae.a.pickup],exact:!0,layout:et}),r.a.createElement(ut,{component:Bc,path:"/subscriptions",types:[Ae.a.pickup],exact:!0,layout:et}),r.a.createElement(ut,{component:Wc,path:"/cancelled-hbls",types:[Ae.a.pickup,Ae.a.domestic],exact:!0,layout:et}),r.a.createElement(ut,{component:Qn,path:"/print/:id/:branch/:tab",types:[Ae.a.pickup,Ae.a.delivery],exact:!0,layout:at}),r.a.createElement(ut,{component:Gc,path:"/print-all/:id/:branch/:tab",types:[Ae.a.pickup,Ae.a.delivery],exact:!0,layout:at}),r.a.createElement(ut,{component:Vc,path:"/view-docs/:id/:filename",types:[Ae.a.pickup,Ae.a.delivery,Ae.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:cl,path:"/driver/track",types:[Ae.a.pickup,Ae.a.delivery,Ae.a.domestic],exact:!0,layout:et}),r.a.createElement(ut,{component:dl,path:"/cool/relax",types:[Ae.a.pickup,Ae.a.delivery,Ae.a.domestic,Ae.a.pickup_customer],exact:!0,layout:et}),r.a.createElement(st,{component:mt,path:"/sign-in",exact:!0,layout:at}),r.a.createElement(st,{component:bt,path:"/not-found",exact:!0,layout:at}),r.a.createElement(z.a,{to:"/not-found"}))},pl=Object(g.a)({success:{backgroundColor:"rgb(152, 230, 152)",color:"rgb(15, 62, 15)"},error:{backgroundColor:"rgb(255, 179, 179)",color:"rgb(77, 0, 0)"},warning:{backgroundColor:"rgb(255, 204, 153)",color:"rgb(77, 38, 0)"},info:{backgroundColor:"rgb(153, 204, 255)",color:"rgb(0, 51, 102)"}}),bl=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this.props.classes,a=r.a.createRef(),n=function(e){return function(){a.current.closeSnackbar(e)}};return(null===(e=window.location.href)||void 0===e?void 0:e.split("pending?branch=")[1])&&function(e){var t=e.split("?branch=")[1],a=t.split("&username=")[0],n=t.split("&username=")[1],r=n.split("&jwt=")[0],c=n.split("&jwt=")[1];console.log(a,r,c),localStorage.setItem("mw-b",JSON.stringify([a])),localStorage.setItem("mw-u",r),Ve.client=[a],document.cookie="api=".concat(c,"; max-age=").concat(54e6,"; path=/;")}(window.location.href),r.a.createElement(E.a,null,r.a.createElement(h.a,{theme:B},r.a.createElement(b.SnackbarProvider,{maxSnack:4,autoHideDuration:1e4,ref:a,action:function(e){return r.a.createElement(y.a,{style:{color:"#eeeeee"},onClick:n(e)},r.a.createElement(j.a,null))},anchorOrigin:{vertical:"top",horizontal:"center"},classes:{variantSuccess:t.success,variantError:t.error,variantWarning:t.warning,variantInfo:t.info}},r.a.createElement(N.i,null),r.a.createElement(N.h,null),r.a.createElement(f.DialogProvider,null,r.a.createElement(m.a,{utils:p.a},r.a.createElement(d.a,{basename:"/app"},r.a.createElement(ml,null)))))))}}]),a}(r.a.Component),fl=Object(v.a)(pl)(bl);l.a.render(r.a.createElement(fl,null),document.getElementById("root"))},83:function(e,t,a){"use strict";a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return b})),a.d(t,"c",(function(){return h})),a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return E})),a.d(t,"d",(function(){return y}));var n=a(5),r=a(1),c=a.n(r),l=a(3),o=a(217),i=a(56),u=(a(598),{apiKey:"AIzaSyBGvxtiRJD9TWvZdWdRdAnqYTXtcbNgWbc",authDomain:"og-test-23bbc.firebaseapp.com",projectId:"og-test-23bbc",storageBucket:"og-test-23bbc.appspot.com",messagingSenderId:"106688948302",appId:"1:106688948302:web:796c0efde6fbcc5e327b1f"}),s=o.a.initializeApp(u),d=o.a,m=o.a.auth(),p=new o.a.auth.GoogleAuthProvider;p.setCustomParameters({prompt:"select_account"});var b=function(){return m.signInWithPopup(p)},f=null,g=function(){return f||(f=Object(i.h)(s)),f},h=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.c)(g(),t,a),e.next=3,Object(i.f)(n);case 3:if(!(r=e.sent).exists()){e.next=8;break}return e.abrupt("return",r.data());case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,r,l,o,u,s,d=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=d.length,r=new Array(a>1?a-1:0),l=1;l<a;l++)r[l-1]=d[l];return o=i.j.apply(void 0,[Object(i.b)(g(),t)].concat(r)),e.next=4,Object(i.g)(o);case 4:return u=e.sent,s=u.docs.map((function(e){return Object(n.a)(Object(n.a)({},e.data()),{},{id:e.id})})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.b)(g(),t),e.next=3,Object(i.e)(n);case 3:return r=e.sent,e.abrupt("return",r.data().count);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(i.b)(g(),t),a);case 2:return n=e.sent,e.abrupt("return",n.id);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},9:function(e,t,a){"use strict";a.d(t,"d",(function(){return g})),a.d(t,"e",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return y}));var n=a(1),r=a.n(n),c=a(23),l=a(5),o=a(3),i=a(122),u=a(25),s=a(18),d={client:{branch:"",type:"",displayName:"LOGISTIC SOLUTION",cargoMode:["Air Cargo","Sea Cargo"],deliveryType:["UPB","Gift","Door to door"],eduType:["Course","Diploma","HND","Degree","Masters","MBA","Doctorate"],eduCategory:["IT","Bio","Construction","Engineering","Medicine","Law","Marketting","Psycology","Accounting","Management","Sales","Islamic Studies"].sort(),workCategory:["IT","Bio","Construction","Engineering","Doctor","Lawyer","Marketting","Psycologist","Accountant","Manager","Executive","Moulavi"].sort(),warehouseLocation:["Colombo","Nintavur","Kurunegala"],userType:"editor",username:"base_"}},m={client:{}},p={client:[]},b={client:{}},f={qatar:{parent:"",phone:"",website:"",barcode:!0,qrcode:!1,printPriceBreakdown:!1,qidLabel:"",currency:""},"philippines-dropex":{parent:"dropex",phone:"Philippines: +63966 508950582",website:"06309265586/06353044684",barcode:!0,qrcode:!1,printPriceBreakdown:!0},"china-dropex":{parent:"dropex",phone:"China: +63966 508950582",website:"06309265586/06353044684",barcode:!0,qrcode:!1,printPriceBreakdown:!0},default:{parent:"moveworlde",phone:" ",website:" ",barcode:!0,qrcode:!1,printPriceBreakdown:!1}},g=function(){return d.client},h=function(){return m.client},v=function(){return p.client},E=function(){return b.client},y=function(e){return f[e]||f.default},O=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,f,g,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("mw-u-type"),e.next=3,Object(s.c)("/v1/client/branch/".concat(t.toLowerCase(),"?userType=").concat(a,"&userName=").concat(localStorage.getItem("mw-u")));case 3:return n=e.sent,e.prev=4,o="string"===typeof n.branchData?JSON.parse(n.branchData.split("'").join('"')):n.branchData,d.client=Object(l.a)(Object(l.a)({},o),{},{lang:n.lang||i.a.ENGLISH,backupEmail:n.backupEmail||"N/A",username:localStorage.getItem("mw-u"),userType:a,type:a===u.c.customer?u.a.pickup_customer:o.type}),"dubai"===d.client.branch&&(d.client.packageType=["CTN [70x45x45] (919,748.2)","CTN [80x60x60] (566,428)","CTN [112x72x72] (471,368.7)","1M [124x90x83] (301.2,192.2)","1.5M [124x100x130] (301.2,192.2)","2M [124x124x130] (301.2,192.2)","2.5M [155x124x130] (301.2,192.2)","3M [185x124x130] (301.2,192.2)","3.5M [230x124x130] (301.2,192.2)","4M [245x124x130] (301.2,192.2)","CBM PER (360,230)","TILE CBM PER (525,425)"].concat(Object(c.a)(d.client.packageType))),f="string"===typeof n.userData?JSON.parse(n.userData.split("'").join('"')):n.userData,m.client=Object(l.a)({},f),g="string"===typeof n.priceData?JSON.parse(n.priceData.split("'").join('"')):n.priceData,p.client=Object(c.a)(g),h=n.customerData||{},b.client=Object(l.a)({},h),e.abrupt("return",d.client);case 17:return e.prev=17,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",{});case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}();t.f={getBranchDetails:O}}},[[488,2,3]]]);